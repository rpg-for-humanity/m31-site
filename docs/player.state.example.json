{
  "schema": "rpg4h.playerState.v1",
  "version": "0.1.0",
  "description": "Player progress, inventory, and world customization state. This is saved per-player (localStorage for MVP, database for production).",

  "player": {
    "id": "player_001",
    "displayName": "Explorer",
    "createdAt": "2025-01-20T10:00:00Z",
    "lastActiveAt": "2025-01-20T16:30:00Z"
  },

  "economy": {
    "coins": 1250,
    "totalEarned": 1880,
    "totalSpent": 630
  },

  "inventory": {
    "ownedCafes": [
      { "itemId": "cafe.coffeepost", "purchasedAt": "2025-01-20T12:00:00Z", "priceCoins": 300 },
      { "itemId": "cafe.flowercafe", "purchasedAt": "2025-01-20T14:30:00Z", "priceCoins": 700 }
    ],
    "ownedItems": [],
    "ownedNPCs": []
  },

  "worldPlacements": {
    "zone.m31.concourse": [
      {
        "placementId": "placement_001",
        "itemId": "cafe.coffeepost",
        "position": { "x": 20, "y": 65 },
        "rotation": 0,
        "placedAt": "2025-01-20T12:05:00Z",
        "enterable": true,
        "launchPack": "pack.m31.cafe.coffeepost"
      },
      {
        "placementId": "placement_002",
        "itemId": "cafe.flowercafe",
        "position": { "x": 75, "y": 40 },
        "rotation": 0,
        "placedAt": "2025-01-20T14:35:00Z",
        "enterable": true,
        "launchPack": "pack.m31.cafe.coffeepost"
      }
    ],
    "zone.m31.habitat": []
  },

  "progress": {
    "completedPacks": [],
    "currentPack": {
      "packId": "pack.m31.cafe.coffeepost",
      "currentRound": 3,
      "roundAttempts": {
        "r1": { "completed": true, "attempts": 1, "bestScore": 100, "coinsEarned": 20 },
        "r2": { "completed": true, "attempts": 2, "bestScore": 100, "coinsEarned": 20 },
        "r3": { "completed": false, "attempts": 0, "bestScore": 0, "coinsEarned": 0 }
      }
    },
    "masteryByZone": {
      "zone.m31.cafe": {
        "totalRounds": 5,
        "completedRounds": 2,
        "masteryPercent": 40
      }
    }
  },

  "achievements": [
    { "id": "first_order", "name": "First Order", "unlockedAt": "2025-01-20T12:10:00Z" },
    { "id": "cafe_owner", "name": "Caf√© Owner", "unlockedAt": "2025-01-20T12:05:00Z" }
  ],

  "settings": {
    "musicVolume": 0.7,
    "sfxVolume": 1.0,
    "showTranscripts": false,
    "preferredLanguage": "en-US"
  }
}
