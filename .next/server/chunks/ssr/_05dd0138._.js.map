{"version":3,"sources":["../../../../node_modules/styled-jsx/dist/index/index.js","../../../../node_modules/styled-jsx/style.js","../../../../app/test/convoset/page.tsx","../../../../app/utils/tts.ts"],"sourcesContent":["require('client-only');\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\n\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\n\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\n\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        })// Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        })// filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\nfunction useStyleRegistry() {\n    return React.useContext(StyleSheetContext);\n}\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\n\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\n","module.exports = require('./dist/index').style\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { SupportedLanguage, getVoiceForLang, getStoredLanguage, languageInfo } from '../../utils/tts';\nimport posthog from 'posthog-js';\ntype Round = 1 | 2 | 3 | 4 | 5;\ntype GameState = 'intro' | 'walking' | 'playing' | 'investor';\ntype OrderItem = {\n  type: string;\n  size: string;\n  temp?: string;\n  milk?: string;\n  syrup?: string;\n};\n\ntype Coin = {\n  id: number;\n  x: number;           // horizontal position of the jet\n  y: number;           // max height this coin reaches\n  rotation: number;\n  scale: number;\n  delay: number;\n  jetIndex: number;    // which vertical jet column (0-29)\n  coinInJet: number;   // position within the jet (for staggered timing)\n};\n\nexport default function ConvosetTest() {\n  const [gameState, setGameState] = useState<GameState>('intro');\n  const [round, setRound] = useState<Round>(1);\n  const [coins, setCoins] = useState(50);\n  const [investorMessage, setInvestorMessage] = useState('');\n  const [showDialogue, setShowDialogue] = useState(false);\n  const [isNpcSpeaking, setIsNpcSpeaking] = useState(false);\n  const [showTranscript, setShowTranscript] = useState(false);\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n  const [showCoinAnimation, setShowCoinAnimation] = useState(false);\n  const [animatedCoins, setAnimatedCoins] = useState<Coin[]>([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [selectedLanguage, setSelectedLanguage] = useState<SupportedLanguage>('en-US');\n  // Menu and Shop states\n  const [showMenu, setShowMenu] = useState(false);\n  const [showCafeShop, setShowCafeShop] = useState(false);\n  const [showCoinShop, setShowCoinShop] = useState(false);\n  const [showInventory, setShowInventory] = useState(false);\n  const [inventoryTab, setInventoryTab] = useState<'buildings' | 'kokorobots' | 'items'>('buildings');\n  const [selectedInventoryItem, setSelectedInventoryItem] = useState<string | null>(null);\n  const [purchasedCafes, setPurchasedCafes] = useState<string[]>([]);\n  \n  // Purchase confirmation popup states\n  const [showPurchaseConfirm, setShowPurchaseConfirm] = useState(false);\n  const [selectedCafe, setSelectedCafe] = useState<{id: string, name: string, price: number, image: string} | null>(null);\n  const [showJustPurchased, setShowJustPurchased] = useState(false);\n  const [justPurchasedCafe, setJustPurchasedCafe] = useState<{id: string, name: string, price: number, image: string} | null>(null);\n  const [showOwnedPopup, setShowOwnedPopup] = useState(false);\n  const [ownedCafeToView, setOwnedCafeToView] = useState<{id: string, name: string, image: string} | null>(null);\n\n  // Auto-load saved progress on mount\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      try {\n        const savedData = localStorage.getItem('m31-coffee-save');\n        if (savedData) {\n          const data = JSON.parse(savedData);\n          if (data.coins !== undefined) setCoins(data.coins);\n          if (data.purchasedCafes) setPurchasedCafes(data.purchasedCafes);\n          console.log('ðŸŽ® Progress loaded:', data);\n        }\n      } catch (e) {\n        console.log('No saved progress found');\n      }\n      // Load language preference\n      setSelectedLanguage(getStoredLanguage());\n      setIsLoaded(true);\n    }\n  }, []);\n\n  // Auto-save when coins or purchases change\n  useEffect(() => {\n    if (isLoaded && typeof window !== 'undefined') {\n      const saveData = {\n        coins,\n        purchasedCafes,\n        lastSaved: new Date().toISOString()\n      };\n      localStorage.setItem('m31-coffee-save', JSON.stringify(saveData));\n      console.log('ðŸ’¾ Auto-saved:', saveData);\n    }\n  }, [coins, purchasedCafes, isLoaded]);\n  \n  // Cafe options - Updated prices\n  const cafeOptions = [\n  { id: 'coffeepost', name: 'Coffee Post', price: 800, image: '/coffeepost.png' },\n  { id: 'retrocafe', name: 'Retro CafÃ©', price: 1500, image: '/retrocafe.png' },\n  { id: 'flowercafe', name: 'Flower CafÃ©', price: 2500, image: '/flowercafe.png' },\n  { id: 'moderncafe', name: 'Modern CafÃ©', price: 4000, image: '/moderncafe.png' },\n  { id: 'rocococafe', name: 'Rococo CafÃ©', price: 6000, image: '/rocococafe.png' },\n];\n  \n  // Coin bundles\n  const coinBundles = [\n    { id: 'starter', coins: 500, price: '$0.99', label: 'Starter' },\n    { id: 'popular', coins: 1500, price: '$2.99', label: 'Popular', best: true },\n    { id: 'pro', coins: 5000, price: '$7.99', label: 'Pro Pack' },\n  ];\n  \n  // Menu items\n  const menuItems = [\n    { name: 'Americano', desc: 'Espresso + water' },\n    { name: 'Latte', desc: 'Espresso + steamed milk' },\n    { name: 'Cappuccino', desc: 'Espresso + foam' },\n    { name: 'Flat White', desc: 'Double shot + microfoam' },\n    { name: 'Macchiato', desc: 'Espresso + milk foam' },\n    { name: 'Mocha', desc: 'Espresso + chocolate + milk' },\n    { name: 'Espresso', desc: 'Pure coffee shot' },\n  ];\n  \n  // Animation states\n  const [kokoroX, setKokoroX] = useState(-200);\n  const [kokoroScale, setKokoroScale] = useState(1);\n  const [kokoroOpacity, setKokoroOpacity] = useState(1);\n  const [showFullBody, setShowFullBody] = useState(true);\n  const [isWalking, setIsWalking] = useState(false);\n  const [introReady, setIntroReady] = useState(false);\n  const [missionVisible, setMissionVisible] = useState(false);\n  \n  const [round1Selections, setRound1Selections] = useState<OrderItem[]>([]);\n  const [currentItem, setCurrentItem] = useState<Partial<OrderItem>>({});\n  \n  const [round2Input, setRound2Input] = useState('');\n  const [round2Chat, setRound2Chat] = useState<{role: 'npc' | 'player', text: string}[]>([]);\n  const [round2Order, setRound2Order] = useState<{type: boolean, size: boolean, milk: boolean, syrup: boolean, temp: boolean}>({\n    type: false, size: false, milk: false, syrup: false, temp: false\n  });\n  \n  const [round3Listening, setRound3Listening] = useState(false);\n  const [round3Transcript, setRound3Transcript] = useState('');\n  const [round3Attempts, setRound3Attempts] = useState(0);\n  const [round3Feedback, setRound3Feedback] = useState<string[]>([]);\n  const [musicStarted, setMusicStarted] = useState(false);\n  const [musicPlaying, setMusicPlaying] = useState(true);\n  const [audioRef, setAudioRef] = useState<HTMLAudioElement | null>(null);\n\n  // Round-specific orders and audio\n  const roundConfigs = {\n    1: {\n      audio: '/Audio/round1-order.mp3',\n      npcOrder: \"Hi, a caramel macchiato, medium please.\",\n      correctOrder: [{ type: 'Macchiato', size: 'Medium', syrup: 'Caramel' }] as OrderItem[],\n      itemCount: 1\n    },\n    2: {\n      audio: '/Audio/round2-order.mp3', \n      npcOrder: \"Hi, I'd like a large flat white, with hazelnut syrup please.\",\n      correctOrder: [{ type: 'Flat White', size: 'Large', syrup: 'Hazelnut' }] as OrderItem[],\n      itemCount: 1\n    },\n    3: {\n      audio: '/Audio/order.mp3',\n      npcOrder: \"Can I get a large Americano, and two small lattes â€” one with oat milk and one with whole milk?\",\n      correctOrder: [\n        { type: 'Americano', size: 'Large' },\n        { type: 'Latte', size: 'Small', milk: 'Oat' },\n        { type: 'Latte', size: 'Small', milk: 'Whole' },\n      ] as OrderItem[],\n      itemCount: 3\n    }\n  };\n\n  const currentRoundConfig = round <= 3 ? roundConfigs[round as 1 | 2 | 3] : null;\n\n  // Intro - Kokorobot walks to center-left, then mission fades in\n  useEffect(() => {\n    if (gameState === 'intro') {\n      setKokoroX(-200);\n      setIsWalking(true);\n      setIntroReady(false);\n      setMissionVisible(false);\n      \n      const walkIn = setInterval(() => {\n        setKokoroX(prev => {\n          // Walk to about 25% from left\n          const target = window.innerWidth * 0.25;\n          if (prev >= target) {\n            clearInterval(walkIn);\n            setIsWalking(false);\n            // Mission fades in after Kokorobot stops\n            setTimeout(() => {\n              setMissionVisible(true);\n              setTimeout(() => setIntroReady(true), 400);\n            }, 200);\n            return target;\n          }\n          return prev + 10;\n        });\n      }, 20);\n      \n      return () => clearInterval(walkIn);\n    }\n  }, [gameState]);\n\n  // Bellagio-style fountain - vertical jets spread from left to right, shoot up, then go to balance\n  const triggerCoinAnimation = (currentRound: number) => {\n    const newCoins: Coin[] = [];\n    \n    // Number of vertical jets increases with round\n    const jetCounts = { 1: 12, 2: 18, 3: 24, 4: 30, 5: 36 };\n    const coinsPerJet = { 1: 4, 2: 5, 3: 6, 4: 7, 5: 8 };\n    // Heights increase per round\n    const maxHeightMultipliers = { 1: 0.4, 2: 0.55, 3: 0.7, 4: 0.85, 5: 1.0 };\n    \n    const numJets = jetCounts[currentRound as keyof typeof jetCounts] || 20;\n    const coinsInJet = coinsPerJet[currentRound as keyof typeof coinsPerJet] || 5;\n    const heightMult = maxHeightMultipliers[currentRound as keyof typeof maxHeightMultipliers] || 1;\n    \n    // Create jets spread across the screen width (left to right)\n    const screenWidth = typeof window !== 'undefined' ? window.innerWidth : 1200;\n    const jetSpacing = screenWidth / (numJets + 1);\n    \n    let coinId = 0;\n    \n    for (let jet = 0; jet < numJets; jet++) {\n      // Center jets are taller, edge jets are shorter\n      const centerDistance = Math.abs(jet - numJets / 2) / (numJets / 2);\n      const jetHeightVariation = 1 - (centerDistance * 0.5);\n      \n      // Add some randomness\n      const randomHeightBoost = 0.8 + Math.random() * 0.4;\n      const jetMaxHeight = 300 + (200 * jetHeightVariation * randomHeightBoost * heightMult);\n      \n      // X position for this jet (spread across screen from left to right)\n      const jetX = (jet * jetSpacing) - (screenWidth / 2) + jetSpacing;\n      \n      // Create multiple coins in each jet\n      for (let c = 0; c < coinsInJet; c++) {\n        const coinHeight = jetMaxHeight * (0.5 + (c / coinsInJet) * 0.5);\n        newCoins.push({\n          id: coinId++,\n          x: jetX + (Math.random() * 10 - 5), // Slight wobble\n          y: -coinHeight, // negative = up\n          rotation: Math.random() * 360,\n          scale: 0.25 + Math.random() * 0.2,\n          delay: (c * 0.08) + (Math.random() * 0.1),\n          jetIndex: jet,\n          coinInJet: c\n        });\n      }\n    }\n    \n    setAnimatedCoins(newCoins);\n    setShowCoinAnimation(true);\n    setTimeout(() => setShowCoinAnimation(false), 3500);\n  };\n\n  useEffect(() => {\n    const loadVoices = () => {\n      const availableVoices = window.speechSynthesis.getVoices();\n      setVoices(availableVoices);\n    };\n    \n    loadVoices();\n    window.speechSynthesis.onvoiceschanged = loadVoices;\n  }, []);\n\n  // REMOVED: useEffect that was causing music overlap\n  // Music is now ONLY started in specific places, not on every round change\n\n  const getVoice = () => {\n  // Use multi-language voice selection\n  const voice = getVoiceForLang(voices, selectedLanguage);\n  if (voice) return voice;\n  \n  // Fallback to original English logic if utility fails\n  const preferred = ['Samantha', 'Karen', 'Moira', 'Tessa', 'Fiona', 'Victoria', 'Zira', 'Hazel'];\n  \n  for (const name of preferred) {\n    const v = voices.find(v => v.name.includes(name));\n    if (v) return v;\n  }\n  \n  const englishVoice = voices.find(v => \n    v.lang.startsWith('en') && \n    !v.name.toLowerCase().includes('male')\n  );\n  \n  return englishVoice || voices.find(v => v.lang.startsWith('en')) || voices[0];\n};\n\n  const speak = (text: string, audioFile?: string) => {\n    // If audio file provided, play it instead of TTS\n    if (audioFile) {\n      const audio = new Audio(audioFile);\n      audio.volume = 0.8;\n      setIsNpcSpeaking(true);\n      audio.onended = () => setIsNpcSpeaking(false);\n      audio.onerror = (e) => {\n        console.error('Audio failed to load:', audioFile, e);\n        setIsNpcSpeaking(false);\n        // Fallback to TTS if audio fails\n        if ('speechSynthesis' in window) {\n          const utterance = new SpeechSynthesisUtterance(text);\n          const voice = getVoice();\n          if (voice) utterance.voice = voice;\n          utterance.rate = 1.0;\n          utterance.pitch = 1.2;\n          setIsNpcSpeaking(true);\n          utterance.onend = () => setIsNpcSpeaking(false);\n          window.speechSynthesis.speak(utterance);\n        }\n      };\n      audio.play().catch((err) => {\n        console.error('Audio play failed:', err);\n        setIsNpcSpeaking(false);\n      });\n      return;\n    }\n    \n    // Fallback to TTS\n    if ('speechSynthesis' in window) {\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n      \n      const voice = getVoice();\n      if (voice) utterance.voice = voice;\n      \n      utterance.rate = 1.0;\n      utterance.pitch = 1.2;\n      utterance.volume = 1.0;\n      \n      setIsNpcSpeaking(true);\n      utterance.onend = () => setIsNpcSpeaking(false);\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const playRoundOrder = (forceRound?: number) => {\n    // Only for rounds 1-3 (listen & select)\n    const targetRound = forceRound || round;\n    const config = roundConfigs[targetRound as 1 | 2 | 3];\n    if (!config) return;\n    \n    console.log(`Playing round ${targetRound} order audio: ${config.audio}`);\n    \n    // Pause background music while voice plays\n    if (audioRef) {\n      audioRef.pause();\n    }\n    \n    const audio = new Audio();\n    audio.preload = 'auto';\n    audio.src = config.audio;\n    audio.volume = 0.8;\n    setIsNpcSpeaking(true);\n    \n    audio.oncanplay = () => {\n      console.log('Audio can play');\n      audio.play().then(() => {\n        console.log('Audio playing successfully');\n      }).catch(err => {\n        console.error('Play failed:', err);\n        speakTTS(config.npcOrder);\n      });\n    };\n    \n    audio.onended = () => {\n      console.log('Audio ended');\n      setIsNpcSpeaking(false);\n      // DON'T start music here - it's already started in completeGame\n      // Just resume if it was paused\n      if (audioRef && musicPlaying) {\n        audioRef.play().catch(() => {});\n      }\n    };\n    \n    audio.onerror = (e) => {\n      console.error('Audio load error - trying fetch:', e);\n      fetch(config.audio)\n        .then(res => {\n          console.log('Fetch status:', res.status, res.statusText);\n          if (!res.ok) {\n            speakTTS(config.npcOrder);\n          }\n        })\n        .catch(fetchErr => {\n          console.error('Fetch also failed:', fetchErr);\n          speakTTS(config.npcOrder);\n        });\n    };\n  };\n\n  const getMusicForRound = (r: number) => {\n    // music-round1.mp3 for Round 1-2, music-round2.mp3 for round 3, music-round3.mp3 for round 4,5\n    if (r <= 2) return '/Audio/music-round1.mp3';\n    if (r === 3) return '/Audio/music-round2.mp3';\n    return '/Audio/music-round3.mp3'; // rounds 4 and 5\n  };\n\n  // Use a module-level variable to ensure only ONE audio instance exists\n  const startBackgroundMusic = (forceRound?: number | boolean) => {\n    // CRITICAL: First, stop and destroy ANY existing audio\n    if (audioRef) {\n      audioRef.pause();\n      audioRef.currentTime = 0;\n      audioRef.src = '';\n    }\n    \n    // Also find and kill any orphaned audio elements playing music\n    if (typeof document !== 'undefined') {\n      document.querySelectorAll('audio').forEach((el) => {\n        const audioEl = el as HTMLAudioElement;\n        if (audioEl.src && audioEl.src.includes('music-round')) {\n          audioEl.pause();\n          audioEl.currentTime = 0;\n          audioEl.src = '';\n        }\n      });\n    }\n    \n    const targetRound = typeof forceRound === 'number' ? forceRound : round;\n    const musicFile = getMusicForRound(targetRound);\n    \n    console.log(`ðŸŽµ Starting music for round ${targetRound}: ${musicFile}`);\n    \n    const audio = new Audio(musicFile);\n    audio.loop = true;\n    audio.volume = 0.05; // 5% volume\n    audio.play().catch(() => {});\n    setAudioRef(audio);\n    setMusicStarted(true);\n    setMusicPlaying(true);\n  };\n  \n  // Stop all music completely\n  const stopBackgroundMusic = () => {\n    console.log('ðŸ”‡ Stopping all music');\n    if (audioRef) {\n      audioRef.pause();\n      audioRef.currentTime = 0;\n      audioRef.src = '';\n    }\n    // Kill any orphaned audio\n    if (typeof document !== 'undefined') {\n      document.querySelectorAll('audio').forEach((el) => {\n        const audioEl = el as HTMLAudioElement;\n        if (audioEl.src && audioEl.src.includes('music-round')) {\n          audioEl.pause();\n          audioEl.currentTime = 0;\n          audioEl.src = '';\n        }\n      });\n    }\n    setMusicPlaying(false);\n  };\n\n  const speakTTS = (text: string) => {\n    if ('speechSynthesis' in window) {\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = selectedLanguage;\n      const voice = getVoice();\n      if (voice) utterance.voice = voice;\n      utterance.rate = 1.0;\n      utterance.pitch = 1.2;\n      utterance.volume = 1.0;\n      setIsNpcSpeaking(true);\n      utterance.onend = () => {\n        setIsNpcSpeaking(false);\n        // Just resume existing music, don't start new\n        if (audioRef && musicPlaying) {\n          audioRef.play().catch(() => {});\n        }\n      };\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const buyTranscript = () => {\n    if (coins >= 10) {\n      setCoins(prev => prev - 10);\n      setShowTranscript(true);\n\n      // Track transcript purchased event\n      posthog.capture('transcript_purchased', {\n        round: round,\n        coins_spent: 10,\n        language_code: selectedLanguage,\n      });\n    }\n  };\n\n  const toggleMusic = () => {\n    if (musicPlaying) {\n      // Stop ALL music\n      if (audioRef) {\n        audioRef.pause();\n      }\n      // Also stop any orphaned audio\n      if (typeof document !== 'undefined') {\n        document.querySelectorAll('audio').forEach((el) => {\n          const audioEl = el as HTMLAudioElement;\n          if (audioEl.src && audioEl.src.includes('music-round')) {\n            audioEl.pause();\n          }\n        });\n      }\n      setMusicPlaying(false);\n\n      // Track music toggled event\n      posthog.capture('music_toggled', { enabled: false });\n    } else {\n      // Resume only the main audioRef\n      if (audioRef) {\n        audioRef.play().catch(() => {});\n      }\n      setMusicPlaying(true);\n\n      // Track music toggled event\n      posthog.capture('music_toggled', { enabled: true });\n    }\n  };\n\n  const startGame = () => {\n    setGameState('walking');\n    setShowTranscript(false);\n    setIsWalking(true);\n\n    // Track game mission started event\n    posthog.capture('game_mission_started', {\n      round: round,\n      language_code: selectedLanguage,\n      outpost_name: 'Coffee Outpost',\n    });\n\n    // Walk to center then transition\n    const walkToCenter = setInterval(() => {\n      setKokoroX(prev => {\n        const target = window.innerWidth / 2 - 80;\n        if (prev >= target) {\n          clearInterval(walkToCenter);\n          shrinkAndTransition();\n          return target;\n        }\n        return prev + 12;\n      });\n    }, 20);\n  };\n\n  const shrinkAndTransition = () => {\n    setIsWalking(false);\n    \n    let scale = 1;\n    let opacity = 1;\n    \n    const shrinkInterval = setInterval(() => {\n      scale -= 0.08;\n      opacity -= 0.08;\n      setKokoroScale(scale);\n      setKokoroOpacity(opacity);\n      \n      if (scale <= 0) {\n        clearInterval(shrinkInterval);\n        setShowFullBody(false);\n        setGameState('playing');\n        setShowDialogue(true);\n        playRoundOrder();\n        startBackgroundMusic(1); // Start music for Round 1\n      }\n    }, 25);\n  };\n\n  const replayVoice = () => {\n    playRoundOrder();\n  };\n\n  const addToOrder = () => {\n    if (!currentRoundConfig) return;\n    if (currentItem.type && currentItem.size && round1Selections.length < currentRoundConfig.itemCount) {\n      setRound1Selections([...round1Selections, currentItem as OrderItem]);\n      setCurrentItem({});\n    }\n  };\n\n  const removeFromOrder = (index: number) => {\n    setRound1Selections(round1Selections.filter((_, i) => i !== index));\n  };\n\n  const checkRound1 = () => {\n    if (!currentRoundConfig) return;\n    \n    const normalize = (items: OrderItem[]) => \n      items.map(i => `${i.size}-${i.type}-${i.milk || 'none'}-${i.syrup || 'none'}`).sort().join(',');\n    \n    const isCorrect = normalize(round1Selections) === normalize(currentRoundConfig.correctOrder);\n    \n    if (isCorrect) {\n      // Stop background music completely\n      stopBackgroundMusic();\n      // Coin rewards: Round 1 = 20, Round 2 = 30, Round 3 = 50\n      const coinReward = round === 1 ? 20 : round === 2 ? 30 : 50;\n\n      // Track round completed event\n      posthog.capture('round_completed', {\n        round: round,\n        coins_earned: coinReward,\n        language_code: selectedLanguage,\n        outpost_name: 'Coffee Outpost',\n        mode: 'listen_and_select',\n      });\n\n      // Play celebration sound\n      playAudio('/Audio/goodresult.mp3', () => {\n        setCoins(prev => prev + coinReward);\n        triggerCoinAnimation(round);\n        const messages: Record<number, string> = {\n          1: \"Well done!\",\n          2: \"Great job!\",\n          3: \"Excellent!\\nCan she take your orders, too?\",\n          4: \"Impressive!\",\n          5: \"ðŸŽ‰ You're a natural!\"\n        };\n        setInvestorMessage(messages[round] || \"Great job!\");\n        setGameState('investor');\n      });\n    } else {\n      // Track round failed event\n      posthog.capture('round_failed', {\n        round: round,\n        language_code: selectedLanguage,\n        outpost_name: 'Coffee Outpost',\n        mode: 'listen_and_select',\n      });\n\n      playAudio('/Audio/kokorobot-wrong.mp3');\n      setRound1Selections([]);\n      setCurrentItem({});\n    }\n  };\n\n  const startRound2 = () => {\n    setRound(2);\n    setGameState('playing');\n    setShowDialogue(true);\n    setShowTranscript(true);\n    setRound2Order({ type: false, size: false, milk: false, syrup: false, temp: false });\n    setRound2OrderDetails({});\n    setRound2ConfirmStep(false);\n    const greeting = \"Hi there! What can I get started for you today?\";\n    setRound2Chat([{ role: 'npc', text: greeting }]);\n    playAudio('/Audio/kokorobot-greeting.mp3');\n  };\n\n  const playAudio = (audioFile: string, onEnd?: () => void) => {\n    // Pause background music while voice plays\n    if (audioRef) {\n      audioRef.pause();\n    }\n    \n    const audio = new Audio(audioFile);\n    audio.volume = 0.8;\n    setIsNpcSpeaking(true);\n    \n    // Don't resume music after victory/celebration sounds\n    const isVictorySound = audioFile.includes('goodresult') || audioFile.includes('kokorobot-success');\n    \n    audio.oncanplay = () => {\n      audio.play().catch(err => {\n        console.error('Play failed:', err);\n        setIsNpcSpeaking(false);\n      });\n    };\n    \n    audio.onended = () => {\n      setIsNpcSpeaking(false);\n      if (onEnd) onEnd();\n      // Resume background music (but not after victory sounds)\n      if (audioRef && musicPlaying && !isVictorySound) {\n        audioRef.play().catch(() => {});\n      }\n    };\n    \n    audio.onerror = () => {\n      console.error('Audio error:', audioFile);\n      setIsNpcSpeaking(false);\n    };\n  };\n\n  // Track actual order details for repeating back\n  const [round2OrderDetails, setRound2OrderDetails] = useState<{type?: string, size?: string, temp?: string, milk?: string, syrup?: string}>({});\n  const [round2ConfirmStep, setRound2ConfirmStep] = useState(false);\n\n  const processRound2Input = () => {\n    if (!round2Input.trim()) return;\n    \n    const input = round2Input.toLowerCase();\n    setRound2Chat(prev => [...prev, { role: 'player', text: round2Input }]);\n    setRound2Input('');\n    \n    // If in confirm step, check for confirmation\n    if (round2ConfirmStep) {\n      if (input.includes('yes') || input.includes('confirm') || input.includes('correct') || input.includes('that\\'s right') || input.includes('looks good') || input.includes('perfect') || input.includes('that\\'s it') || input.includes('thats it') || input.includes('thank you') || input.includes('thanks') || input.includes('good') || input.includes('yep') || input.includes('yup') || input.includes('sure') || input.includes('okay') || input.includes('ok')) {\n        const response = \"Thank you, it will be at the pick up counter.\";\n        setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n        // Stop background music completely\n        stopBackgroundMusic();\n\n        // Track round completed event\n        posthog.capture('round_completed', {\n          round: round,\n          coins_earned: 80,\n          language_code: selectedLanguage,\n          outpost_name: 'Coffee Outpost',\n          mode: 'typing',\n        });\n\n        playAudio('/Audio/goodresult.mp3', () => {\n          setCoins(prev => prev + 80);\n          triggerCoinAnimation(round);\n          setInvestorMessage(\"Impressive!\");\n          setGameState('investor');\n        });\n        return;\n      } else if (input.includes('no') || input.includes('change') || input.includes('actually') || input.includes('wait') || input.includes('wrong')) {\n        setRound2ConfirmStep(false);\n        setRound2Order({ type: false, size: false, milk: false, syrup: false, temp: false });\n        setRound2OrderDetails({});\n        const response = \"No problem! What would you like instead?\";\n        setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n        playAudio('/Audio/kokorobot-greeting.mp3');\n        return;\n      }\n    }\n    \n    // Check for \"what do you have\" type questions FIRST - before any order processing\n    if (input.includes('what do you have') || input.includes('what options') || input.includes('what kinds') || input.includes('what milk') || input.includes('what type')) {\n      const response = \"We have whole, oat, almond, nonfat, and soy milk. Which would you like?\";\n      setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n      playAudio('/Audio/milk-lists.mp3');\n      return;\n    }\n    \n    // Check for unavailable items (like 2%, half and half) BEFORE other processing\n    if (input.includes('2%') || input.includes('two percent') || input.includes('two %') || input.includes('with 2') || input.includes('half and half') || input.includes('half & half') || input.includes('cream') || input.includes('coconut')) {\n      const response = \"We don't have that, but we do have whole, oat, almond, nonfat, and soy milk. Which would you like?\";\n      setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n      playAudio('/Audio/milk-lists.mp3');\n      return;\n    }\n    \n    const newOrder = { ...round2Order };\n    const newDetails = { ...round2OrderDetails };\n    \n    // Check if it's a question about availability\n    const isQuestion = input.includes('do you have') || input.includes('is there') || input.includes('can i get') || input.includes('?');\n    \n    // Check for unknown drink types (things that sound like orders but aren't on menu)\n    const unknownDrinks = ['black coffee', 'drip', 'filter', 'pour over', 'cold brew', 'frappuccino', 'frappe', 'chai', 'tea', 'matcha', 'hot chocolate'];\n    const hasUnknownDrink = unknownDrinks.some(drink => input.includes(drink));\n    \n    if (hasUnknownDrink && !round2Order.type) {\n      const response = \"I'm sorry, we don't have that, but here are your options!\";\n      setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n      playAudio('/Audio/notavailable.mp3');\n      setTimeout(() => setShowMenu(true), 1000);\n      return;\n    }\n    \n    // Detect drink type\n    if (input.includes('americano')) { newOrder.type = true; newDetails.type = 'Americano'; }\n    else if (input.includes('flat white')) { newOrder.type = true; newDetails.type = 'Flat White'; }\n    else if (input.includes('latte')) { newOrder.type = true; newDetails.type = 'Latte'; }\n    else if (input.includes('cappuccino')) { newOrder.type = true; newDetails.type = 'Cappuccino'; }\n    else if (input.includes('macchiato') || input.includes('machiato')) { newOrder.type = true; newDetails.type = 'Macchiato'; }\n    else if (input.includes('mocha')) { newOrder.type = true; newDetails.type = 'Mocha'; }\n    else if (input.includes('espresso')) { newOrder.type = true; newDetails.type = 'Espresso'; }\n    \n    // Detect size\n    if (input.includes('small')) { newOrder.size = true; newDetails.size = 'small'; }\n    else if (input.includes('medium')) { newOrder.size = true; newDetails.size = 'medium'; }\n    else if (input.includes('large')) { newOrder.size = true; newDetails.size = 'large'; }\n    \n    // Detect temperature\n    if (input.includes('iced') || input.includes('ice') || input.includes('cold')) { newOrder.temp = true; newDetails.temp = 'iced'; }\n    else if (input.includes('hot')) { newOrder.temp = true; newDetails.temp = 'hot'; }\n    \n    // Detect syrup/flavor\n    if (input.includes('caramel')) { newOrder.syrup = true; newDetails.syrup = 'caramel'; }\n    else if (input.includes('vanilla')) { newOrder.syrup = true; newDetails.syrup = 'vanilla'; }\n    else if (input.includes('hazelnut')) { newOrder.syrup = true; newDetails.syrup = 'hazelnut'; }\n    else if (input.includes('no syrup') || input.includes('no flavor') || input.includes('plain')) { newOrder.syrup = true; newDetails.syrup = 'none'; }\n    \n    // Americano and Espresso don't need milk\n    const noMilkDrinks = ['Americano', 'Espresso'];\n    if (noMilkDrinks.includes(newDetails.type || '')) {\n      newOrder.milk = true;\n      newDetails.milk = 'none';\n    }\n    \n    // Detect milk - including \"no\" responses\n    if (input.includes('no thank') || input.includes('no,') || input.includes('no milk') || input.includes('none') || input.includes('black') || input.includes('regular') || (input === 'no') || input.startsWith('no ') || input.includes(\"i'm good\") || input.includes(\"that's it\") || input.includes(\"that's all\")) {\n      newOrder.milk = true;\n      newDetails.milk = 'none';\n    } else if (input.includes('oat')) { newOrder.milk = true; newDetails.milk = 'oat milk'; }\n    else if (input.includes('almond')) { newOrder.milk = true; newDetails.milk = 'almond milk'; }\n    else if (input.includes('whole')) { newOrder.milk = true; newDetails.milk = 'whole milk'; }\n    else if (input.includes('skim')) { newOrder.milk = true; newDetails.milk = 'skim milk'; }\n    else if (input.includes('nonfat') || input.includes('non-fat') || input.includes('non fat')) { newOrder.milk = true; newDetails.milk = 'nonfat milk'; }\n    else if (input.includes('soy')) { newOrder.milk = true; newDetails.milk = 'soy milk'; }\n    \n    setRound2Order(newOrder);\n    setRound2OrderDetails(newDetails);\n    \n    setTimeout(() => {\n      let response = '';\n      let audioFile = '';\n      \n      // Handle questions about availability\n      if (isQuestion && !newOrder.type) {\n        if (input.includes('almond') || input.includes('oat') || input.includes('whole') || input.includes('nonfat') || input.includes('soy')) {\n          response = \"Yes, we do! Would you like to order something with that?\";\n          setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n          playAudio('/Audio/ask-type.mp3');\n          return;\n        }\n      }\n      \n      if (!newOrder.type) {\n        response = \"What kind of coffee would you like?\";\n        audioFile = '/Audio/ask-type.mp3';\n      } else if (!newOrder.size) {\n        response = \"Sure, what size? We have small, medium, and large.\";\n        audioFile = '/Audio/ask-size.mp3';\n      } else if (!newOrder.temp) {\n        response = \"Would you like that hot or over ice?\";\n        audioFile = '/Audio/coffee-temperature.mp3';\n      } else if (!newOrder.milk) {\n        response = \"Any milk preference? We have whole, oat, almond, nonfat, and soy.\";\n        audioFile = '/Audio/milk-preference.mp3';\n      } else {\n        // All required info collected! Show confirmation\n        const milkText = newDetails.milk === 'none' ? '' : ` with ${newDetails.milk}`;\n        const syrupText = newDetails.syrup && newDetails.syrup !== 'none' ? ` ${newDetails.syrup}` : '';\n        response = `Got it! One ${newDetails.size} ${newDetails.temp}${syrupText} ${newDetails.type}${milkText}. Anything else? Please confirm your order.`;\n        setRound2ConfirmStep(true);\n      }\n      \n      setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n      if (audioFile) playAudio(audioFile);\n    }, 500);\n  };\n\n  const startRound3 = () => {\n    setRound(3);\n    setGameState('playing');\n    setShowDialogue(true);\n    setRound3Order({ type: false, size: false, milk: false, temp: false, syrup: false });\n    setRound3OrderDetails({});\n    setRound3Score(500);\n    setRound3ConfirmStep(false);\n    setRound3CurrentQuestion('');\n    setRound3Transcript('');\n    setRound3Feedback([]);\n    playAudio('/Audio/kokorobot-ready.mp3');\n  };\n\n  const [round3Order, setRound3Order] = useState<{type: boolean, size: boolean, milk: boolean, temp: boolean, syrup: boolean}>({\n    type: false, size: false, milk: false, temp: false, syrup: false\n  });\n\n  const [round3OrderDetails, setRound3OrderDetails] = useState<{type?: string, size?: string, temp?: string, milk?: string, syrup?: string}>({});\n  const [round3Score, setRound3Score] = useState(500);\n  const [round3ConfirmStep, setRound3ConfirmStep] = useState(false);\n  const [round3CurrentQuestion, setRound3CurrentQuestion] = useState('');\n\n  const startListening = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Speech recognition not supported. Try Chrome.');\n      return;\n    }\n\n    // Track speech recognition used event\n    posthog.capture('speech_recognition_used', {\n      round: round,\n      language_code: selectedLanguage,\n    });\n\n    // Pause music while speaking\n    if (audioRef) {\n      audioRef.pause();\n    }\n\n    const SpeechRecognition = (window as any).webkitSpeechRecognition || (window as any).SpeechRecognition;\n    const recognition = new SpeechRecognition();\n\n    recognition.continuous = true;\n    recognition.interimResults = false;\n    recognition.lang = selectedLanguage;\n\n    setRound3Listening(true);\n    setRound3Transcript('');\n    setRound3Feedback([]);\n    setRound3CurrentQuestion('');\n    \n    let speechTimeout: NodeJS.Timeout;\n    \n    recognition.onresult = (event: any) => {\n      clearTimeout(speechTimeout);\n      const transcript = Array.from(event.results)\n        .map((result: any) => result[0].transcript)\n        .join(' ');\n      setRound3Transcript(transcript);\n      \n      speechTimeout = setTimeout(() => {\n        recognition.stop();\n        evaluateRound3(transcript);\n      }, 1500);\n    };\n    \n    recognition.onerror = () => {\n      setRound3Listening(false);\n      if (audioRef && musicPlaying) {\n        audioRef.play().catch(() => {});\n      }\n    };\n    recognition.onend = () => {\n      setRound3Listening(false);\n      if (audioRef && musicPlaying) {\n        audioRef.play().catch(() => {});\n      }\n    };\n    recognition.start();\n    \n    setTimeout(() => {\n      if (round3Listening) {\n        recognition.stop();\n      }\n    }, 8000);\n  };\n\n  const evaluateRound3 = (transcript: string) => {\n    const input = transcript.toLowerCase();\n    const newOrder = { ...round3Order };\n    const newDetails = { ...round3OrderDetails };\n    let score = round3Score;\n    \n    // Detect drink type\n    if (!newOrder.type) {\n      if (input.includes('americano')) { newOrder.type = true; newDetails.type = 'Americano'; }\n      else if (input.includes('flat white')) { newOrder.type = true; newDetails.type = 'Flat White'; }\n      else if (input.includes('latte')) { newOrder.type = true; newDetails.type = 'Latte'; }\n      else if (input.includes('cappuccino')) { newOrder.type = true; newDetails.type = 'Cappuccino'; }\n      else if (input.includes('macchiato') || input.includes('machiato')) { newOrder.type = true; newDetails.type = 'Macchiato'; }\n      else if (input.includes('mocha')) { newOrder.type = true; newDetails.type = 'Mocha'; }\n      else if (input.includes('espresso')) { newOrder.type = true; newDetails.type = 'Espresso'; }\n    }\n    \n    // Detect size\n    if (!newOrder.size) {\n      if (input.includes('small')) { newOrder.size = true; newDetails.size = 'small'; }\n      else if (input.includes('medium')) { newOrder.size = true; newDetails.size = 'medium'; }\n      else if (input.includes('large')) { newOrder.size = true; newDetails.size = 'large'; }\n    }\n    \n    // Detect temperature\n    if (!newOrder.temp) {\n      if (input.includes('iced') || input.includes('ice') || input.includes('cold')) { newOrder.temp = true; newDetails.temp = 'iced'; }\n      else if (input.includes('hot')) { newOrder.temp = true; newDetails.temp = 'hot'; }\n    }\n    \n    // Detect syrup/flavor\n    if (!newOrder.syrup) {\n      if (input.includes('caramel')) { newOrder.syrup = true; newDetails.syrup = 'caramel'; }\n      else if (input.includes('vanilla')) { newOrder.syrup = true; newDetails.syrup = 'vanilla'; }\n      else if (input.includes('hazelnut')) { newOrder.syrup = true; newDetails.syrup = 'hazelnut'; }\n      else if (input.includes('no syrup') || input.includes('no flavor') || input.includes('plain')) { newOrder.syrup = true; newDetails.syrup = 'none'; }\n      // Auto-pass syrup for drinks that don't typically have syrup mentioned\n      else if (newOrder.type && !input.includes('caramel') && !input.includes('vanilla') && !input.includes('hazelnut')) {\n        newOrder.syrup = true;\n        newDetails.syrup = 'none';\n      }\n    }\n    \n    // Americano and Espresso don't need milk\n    const noMilkDrinks = ['Americano', 'Espresso'];\n    if (noMilkDrinks.includes(newDetails.type || '')) {\n      newOrder.milk = true;\n      newDetails.milk = 'none';\n    }\n    \n    // Detect milk - for drinks that require milk, \"no\" alone doesn't work\n    const milkRequiredDrinks = ['Latte', 'Cappuccino', 'Macchiato', 'Mocha'];\n    if (!newOrder.milk) {\n      // Check for actual milk choices\n      if (input.includes('oat')) { newOrder.milk = true; newDetails.milk = 'oat milk'; }\n      else if (input.includes('almond')) { newOrder.milk = true; newDetails.milk = 'almond milk'; }\n      else if (input.includes('whole')) { newOrder.milk = true; newDetails.milk = 'whole milk'; }\n      else if (input.includes('skim')) { newOrder.milk = true; newDetails.milk = 'skim milk'; }\n      else if (input.includes('nonfat') || input.includes('non-fat') || input.includes('non fat')) { newOrder.milk = true; newDetails.milk = 'nonfat milk'; }\n      else if (input.includes('soy')) { newOrder.milk = true; newDetails.milk = 'soy milk'; }\n      else if (input.includes('regular') || input.includes('normal') || input.includes('default')) { newOrder.milk = true; newDetails.milk = 'whole milk'; }\n      // Only allow \"no milk\" for non-milk-required drinks\n      else if ((input.includes('no milk') || input.includes('black') || input.includes('no thank')) && !milkRequiredDrinks.includes(newDetails.type || '')) { \n        newOrder.milk = true; newDetails.milk = 'none'; \n      }\n    }\n    \n    setRound3Order(newOrder);\n    setRound3OrderDetails(newDetails);\n    setRound3Attempts(prev => prev + 1);\n    \n    // Check what's missing and ask follow-up\n    let question = '';\n    let audioFile = '';\n    \n    if (!newOrder.type) {\n      question = \"What kind of coffee would you like?\";\n      audioFile = '/Audio/ask-type.mp3';\n    } else if (!newOrder.size) {\n      question = \"What size?\";\n      audioFile = '/Audio/ask-size.mp3';\n    } else if (!newOrder.temp) {\n      question = \"Would you like that hot or over ice?\";\n      audioFile = '/Audio/coffee-temperature.mp3';\n    } else if (!newOrder.milk) {\n      question = `A ${newDetails.type} requires a milk choice. We have whole, oat, almond, nonfat, or soy.`;\n      audioFile = '/Audio/milk-preference.mp3';\n    }\n    \n    if (question) {\n      // Still missing info - ask follow-up\n      setRound3CurrentQuestion(question);\n      setRound3Feedback([question]);\n      playAudio(audioFile);\n    } else {\n      // All info collected! Show confirmation\n      setRound3ConfirmStep(true);\n      setRound3Feedback([]);\n      const milkText = newDetails.milk === 'none' ? '' : ` with ${newDetails.milk}`;\n      const syrupText = newDetails.syrup && newDetails.syrup !== 'none' ? ` ${newDetails.syrup}` : '';\n      setRound3CurrentQuestion(`Perfect! One ${newDetails.size} ${newDetails.temp}${syrupText} ${newDetails.type}${milkText}.`);\n    }\n  };\n\n  const acceptRound3Score = () => {\n    // Stop background music completely\n    stopBackgroundMusic();\n\n    // Track round completed event\n    posthog.capture('round_completed', {\n      round: round,\n      coins_earned: 500,\n      language_code: selectedLanguage,\n      outpost_name: 'Coffee Outpost',\n      mode: 'speaking',\n    });\n\n    // Play celebration sound and go straight to investor\n    playAudio('/Audio/goodresult.mp3', () => {\n      setCoins(prev => prev + 500);\n      triggerCoinAnimation(round);\n      setInvestorMessage(\"ðŸŽ‰ You're a natural!\");\n      setGameState('investor');\n    });\n  };\n\n  const completeGame = () => {\n    if (round < 5) {\n      // Move to next round\n      const nextRound = (round + 1) as Round;\n      setRound(nextRound);\n      \n      // ALL rounds after round 1 go DIRECTLY to playing - NO intro/walking\n      if (nextRound === 2 || nextRound === 3) {\n        // Rounds 2-3: Listen & Select - go DIRECTLY to playing\n        setGameState('playing');\n        setShowDialogue(true);\n        setRound1Selections([]);\n        setCurrentItem({});\n        setShowTranscript(false);\n        setShowFullBody(false);\n        // Play the round audio after a short delay - pass the correct round number!\n        setTimeout(() => {\n          playRoundOrder(nextRound);\n          startBackgroundMusic(nextRound);\n        }, 500);\n      } else if (nextRound === 4) {\n        // Round 4: Typing - go directly to playing\n        setGameState('playing');\n        setShowDialogue(true);\n        setShowFullBody(false);\n        setRound2Chat([]);\n        setRound2Order({ type: false, size: false, milk: false, syrup: false, temp: false });\n        setRound2OrderDetails({});\n        setRound2ConfirmStep(false);\n        const greeting = \"Hi there! What can I get started for you today?\";\n        setRound2Chat([{ role: 'npc', text: greeting }]);\n        playAudio('/Audio/kokorobot-greeting.mp3');\n        startBackgroundMusic();\n      } else if (nextRound === 5) {\n        // Round 5: Speaking - go directly to playing\n        setGameState('playing');\n        setShowDialogue(true);\n        setShowFullBody(false);\n        setRound3Order({ type: false, size: false, milk: false, temp: false, syrup: false });\n        setRound3OrderDetails({});\n        setRound3Score(500);\n        setRound3ConfirmStep(false);\n        setRound3CurrentQuestion('');\n        setRound3Transcript('');\n        setRound3Feedback([]);\n        playAudio('/Audio/kokorobot-ready.mp3');\n        startBackgroundMusic();\n      }\n    } else {\n      // After Round 5, reset to Round 1 with intro\n      setRound(1);\n      setGameState('intro');\n      setRound1Selections([]);\n      setCurrentItem({});\n      setRound2Chat([]);\n      setRound2Order({ type: false, size: false, milk: false, syrup: false, temp: false });\n      setRound3Transcript('');\n      setRound3Feedback([]);\n      setShowTranscript(false);\n      setShowFullBody(true);\n      setKokoroScale(1);\n      setKokoroOpacity(1);\n      setKokoroX(-200);\n      setMissionVisible(false);\n    }\n  };\n\n  // Kokoro Star Coin - uses your custom kokoro-star.png\n  const KokoroCoin = ({ className = \"\", size = 24 }: { className?: string, size?: number }) => (\n    <img \n      src=\"/kokoro-star.png\" \n      alt=\"coin\" \n      width={size} \n      height={size}\n      className={`inline-block ${className}`}\n      style={{ \n        width: size, \n        height: size,\n        filter: 'drop-shadow(0 2px 4px rgba(255,215,0,0.5))'\n      }}\n    />\n  );\n\n  return (\n    <div className=\"min-h-screen bg-black text-white overflow-hidden relative\">\n      {/* M31 Background */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center\"\n        style={{ backgroundImage: `url('/m31.jpg')` }}\n      />\n      \n      {/* Darker overlay */}\n      <div className=\"absolute inset-0 bg-black/20\" />\n      \n      {/* Barren landscape at bottom */}\n      <div className=\"absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-amber-950/90 via-amber-900/40 to-transparent\" />\n      \n      {/* Ground */}\n      <div className=\"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-amber-900 to-transparent\" />\n\n      {/* Bellagio-style Gold Coin Fountain Animation - from center */}\n      {showCoinAnimation && (\n        <div className=\"fixed inset-0 pointer-events-none z-50 overflow-hidden flex items-center justify-center\">\n          {animatedCoins.map((coin) => (\n            <div\n              key={coin.id}\n              className=\"absolute animate-fountain-jet\"\n              style={{\n                '--jx': `${coin.x}px`,\n                '--jy': `${coin.y}px`,\n                '--s': coin.scale,\n                animationDelay: `${coin.delay}s`\n              } as React.CSSProperties}\n            >\n              <div className=\"relative\">\n                <KokoroCoin size={36} className=\"drop-shadow-[0_0_15px_rgba(255,215,0,0.9)]\" />\n                <div className=\"absolute inset-0 w-9 h-9 bg-yellow-400/40 rounded-full blur-md -z-10\" />\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* HUD */}\n      <div className=\"absolute top-4 left-4 right-4 flex justify-between items-center z-30\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"bg-black/60 backdrop-blur-sm rounded-full px-5 py-2 border border-amber-500/30\">\n            <span className=\"text-amber-400 font-mono\">M31 Coffee Outpost</span>\n          </div>\n          {musicStarted && (\n            <button \n              onClick={toggleMusic}\n              className=\"bg-black/60 backdrop-blur-sm rounded-full px-3 py-2 border border-amber-500/30 hover:bg-black/80 transition\"\n            >\n              <span className=\"text-amber-400 text-lg\">{musicPlaying ? 'ðŸ”Š' : 'ðŸ”‡'}</span>\n            </button>\n          )}\n          {/* Language Pill */}\n          <div className=\"bg-black/60 backdrop-blur-sm rounded-full px-3 py-2 border border-cyan-500/30 flex items-center gap-2\">\n            <span>{languageInfo[selectedLanguage].flag}</span>\n            <span className=\"text-cyan-400 font-mono text-sm\">{languageInfo[selectedLanguage].shortCode}</span>\n        </div>\n        </div>\n        <div className=\"flex gap-3\">\n          <div className=\"bg-black/60 backdrop-blur-sm rounded-full px-5 py-2 border border-yellow-500/30 flex items-center gap-2\">\n            <KokoroCoin size={24} />\n            <span className=\"text-yellow-400 font-mono font-semibold text-lg\">{coins}</span>\n          </div>\n          <div className=\"bg-black/60 backdrop-blur-sm rounded-full px-5 py-2 border border-purple-500/30\">\n            <span className=\"text-purple-400 font-mono\">Round {round}/5</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Full Body Kokorobot - Side view when walking */}\n      {showFullBody && (gameState === 'intro' || gameState === 'walking') && (\n        <div \n          className=\"absolute bottom-16 z-20\"\n          style={{ \n            left: `${kokoroX}px`,\n            transform: `scale(${kokoroScale})`,\n            opacity: kokoroOpacity\n          }}\n        >\n          <img \n            src={isWalking ? \"/kokorobot-sideview.png\" : \"/kokorobot-cb.png\"}\n            alt=\"Kokorobot\" \n            className={`h-72 w-auto drop-shadow-2xl ${isWalking ? 'animate-walk' : ''}`}\n            style={{\n              filter: 'drop-shadow(0 10px 30px rgba(0,0,0,0.5))'\n            }}\n          />\n          <div className=\"absolute -bottom-2 left-1/2 -translate-x-1/2\">\n            <span className=\"text-xs text-amber-400 font-mono bg-black/70 px-3 py-1 rounded-full border border-amber-500/30\">\n              Kokorobot-1\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* INTRO - Mission text CENTERED with dark box */}\n      {gameState === 'intro' && (\n        <div className={`absolute inset-0 flex items-center justify-center z-10 transition-all duration-700 ${missionVisible ? 'opacity-100' : 'opacity-0'}`}>\n          <div className=\"text-center max-w-2xl px-12 py-10 bg-black/70 rounded-3xl shadow-2xl\">\n            <p className=\"text-purple-400 font-medium mb-2 text-lg\">Round {round} of 5</p>\n            <h1 className=\"text-5xl md:text-6xl font-semibold mb-6 text-yellow-400 drop-shadow-[0_2px_10px_rgba(0,0,0,0.8)]\">\n              M31 Coffee Outpost\n            </h1>\n            <p className=\"text-white mb-3 text-lg md:text-xl leading-relaxed drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] font-normal\">\n              Kokorobot-1 dreams of becoming a barista someday.\n            </p>\n            <p className=\"text-amber-100 mb-3 text-lg md:text-xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] font-normal\">\n              {round <= 3 && currentRoundConfig \n                ? `Listen carefully. Can you take ${currentRoundConfig.itemCount === 1 ? 'this order' : `these ${currentRoundConfig.itemCount} orders`}?`\n                : round === 4\n                  ? \"Type your order to the barista!\"\n                  : \"Speak your order out loud!\"\n              }\n            </p>\n            <p className=\"text-yellow-400 font-medium mb-8 text-lg md:text-xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)]\">\n              Earn coins to build Andromeda's first cafÃ©!\n            </p>\n            <button\n              onClick={startGame}\n              disabled={!introReady}\n              className=\"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-400 hover:to-yellow-400 text-black font-semibold py-4 px-14 rounded-full text-xl transition transform hover:scale-105 shadow-lg shadow-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Begin Mission\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* WALKING STATE */}\n      {gameState === 'walking' && (\n        <div className=\"absolute inset-0 flex items-center justify-center z-10\">\n          <p className=\"text-amber-400 text-2xl animate-pulse font-medium\">Starting mission...</p>\n        </div>\n      )}\n\n      {/* DIALOGUE BOX - Centered */}\n      {gameState === 'playing' && showDialogue && (\n        <div className=\"absolute inset-0 flex items-center justify-center z-20 p-4\">\n          <div className=\"w-full max-w-xl animate-fade-in\">\n            \n            {/* Listen & Select UI - Rounds 1-3 */}\n            {(round === 1 || round === 2 || round === 3) && currentRoundConfig && (\n              <div className=\"bg-black/85 backdrop-blur-lg rounded-2xl border border-amber-500/40 p-6 shadow-2xl\">\n                <div className=\"flex items-center gap-4 mb-6\">\n                  <img \n                    src=\"/kokorobot-closeup.png\" \n                    alt=\"Kokorobot\" \n                    className={`w-28 h-28 object-cover rounded-full border-3 border-amber-500/60 shadow-lg animate-pop-in ${isNpcSpeaking ? 'ring-4 ring-amber-400 ring-offset-2 ring-offset-black animate-pulse' : ''}`}\n                  />\n                  <div className=\"flex-1\">\n                    <p className=\"text-amber-400 text-xl mb-2 font-mono font-semibold\">Kokorobot-1</p>\n                    \n                    {showTranscript ? (\n                      <p className=\"text-xl leading-relaxed text-white\">{currentRoundConfig.npcOrder}</p>\n                    ) : (\n                      <div className=\"bg-amber-900/40 rounded-xl p-4 text-center border border-amber-500/30\">\n                        <p className=\"text-amber-300/80 mb-3 text-lg\">ðŸŽ§ Listen to the order...</p>\n                        <button \n                          onClick={buyTranscript}\n                          disabled={coins < 10}\n                          className={`text-base px-6 py-2 rounded-full transition font-semibold flex items-center gap-2 mx-auto ${\n                            coins >= 10 \n                              ? 'bg-black/80 text-yellow-400 hover:bg-black/90 border border-yellow-500/60' \n                              : 'bg-slate-700 text-slate-500 cursor-not-allowed'\n                          }`}\n                        >\n                          ðŸ’¡ Show Text for <KokoroCoin size={16} /> 10\n                        </button>\n                      </div>\n                    )}\n                    \n                    <button \n                      onClick={replayVoice}\n                      className=\"mt-3 text-base text-amber-400/80 hover:text-amber-400 transition flex items-center gap-2 font-medium\"\n                    >\n                      ðŸ”Š Replay voice (free)\n                    </button>\n                  </div>\n                </div>\n                \n                {/* Order Builder */}\n                <div className=\"border-t border-amber-500/30 pt-6\">\n                  <p className=\"text-lg text-amber-300/80 mb-4 font-medium\">Build the order ({round1Selections.length}/3 items)</p>\n                  \n                  <div className=\"flex flex-wrap gap-2 mb-5 min-h-[48px]\">\n                    {round1Selections.map((item, i) => (\n                      <button\n                        key={i}\n                        onClick={() => removeFromOrder(i)}\n                        className=\"bg-amber-500/30 border border-amber-500/60 rounded-lg px-4 py-2 text-lg hover:bg-red-500/30 hover:border-red-500/60 transition text-amber-200 font-medium\"\n                      >\n                        {item.size} {item.type} {item.milk && `(${item.milk})`} {item.syrup && `+ ${item.syrup}`} âœ•\n                      </button>\n                    ))}\n                  </div>\n\n                  <div className=\"grid grid-cols-4 gap-3 mb-6\">\n                    <div>\n                      <p className=\"text-sm text-amber-400/60 mb-2 font-semibold\">TYPE</p>\n                      <div className=\"flex flex-col gap-2\">\n                        {['Americano', 'Latte', 'Cappuccino', 'Flat White', 'Macchiato', 'Mocha', 'Espresso'].map((type) => (\n                          <button\n                            key={type}\n                            onClick={() => setCurrentItem({...currentItem, type})}\n                            className={`py-2 px-3 rounded-lg text-sm transition font-medium ${currentItem.type === type ? 'bg-amber-500 text-black' : 'bg-amber-900/50 hover:bg-amber-900/70 text-amber-200'}`}\n                          >\n                            {type}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-amber-400/60 mb-2 font-semibold\">SIZE</p>\n                      <div className=\"flex flex-col gap-2\">\n                        {['Small', 'Medium', 'Large'].map((size) => (\n                          <button\n                            key={size}\n                            onClick={() => setCurrentItem({...currentItem, size})}\n                            className={`py-2 px-3 rounded-lg text-sm transition font-medium ${currentItem.size === size ? 'bg-amber-500 text-black' : 'bg-amber-900/50 hover:bg-amber-900/70 text-amber-200'}`}\n                          >\n                            {size}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-amber-400/60 mb-2 font-semibold\">MILK</p>\n                      <div className=\"flex flex-col gap-2\">\n                        {['None', 'Whole', 'Oat', 'Almond', 'Nonfat'].map((milk) => (\n                          <button\n                            key={milk}\n                            onClick={() => setCurrentItem({...currentItem, milk: milk === 'None' ? undefined : milk})}\n                            className={`py-2 px-3 rounded-lg text-sm transition font-medium ${(currentItem.milk === milk || (!currentItem.milk && milk === 'None')) ? 'bg-amber-500 text-black' : 'bg-amber-900/50 hover:bg-amber-900/70 text-amber-200'}`}\n                          >\n                            {milk}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-amber-400/60 mb-2 font-semibold\">SYRUP</p>\n                      <div className=\"flex flex-col gap-2\">\n                        {['None', 'Caramel', 'Vanilla', 'Hazelnut'].map((syrup) => (\n                          <button\n                            key={syrup}\n                            onClick={() => setCurrentItem({...currentItem, syrup: syrup === 'None' ? undefined : syrup})}\n                            className={`py-2 px-3 rounded-lg text-sm transition font-medium ${(currentItem.syrup === syrup || (!currentItem.syrup && syrup === 'None')) ? 'bg-amber-500 text-black' : 'bg-amber-900/50 hover:bg-amber-900/70 text-amber-200'}`}\n                          >\n                            {syrup}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-4\">\n                    <button\n                      onClick={addToOrder}\n                      disabled={!currentItem.type || !currentItem.size || round1Selections.length >= currentRoundConfig.itemCount}\n                      className=\"flex-1 py-4 rounded-xl font-semibold text-xl transition bg-amber-900/60 hover:bg-amber-900/80 text-amber-200 disabled:opacity-30 disabled:cursor-not-allowed\"\n                    >\n                      + Add Item\n                    </button>\n                    <button\n                      onClick={checkRound1}\n                      disabled={round1Selections.length !== currentRoundConfig.itemCount}\n                      className=\"flex-1 py-4 rounded-xl font-semibold text-xl transition bg-amber-500 hover:bg-amber-400 text-black disabled:opacity-30 disabled:cursor-not-allowed\"\n                    >\n                      Submit âœ“\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Round 4 - Typing Order */}\n            {round === 4 && (\n              <div className=\"bg-black/85 backdrop-blur-lg rounded-2xl border border-amber-500/40 p-8 shadow-2xl\">\n                <div className=\"flex items-center gap-4 mb-4\">\n                  <img src=\"/kokorobot-closeup.png\" alt=\"Kokorobot\" className=\"w-20 h-20 rounded-full object-cover border-2 border-amber-500/50\" />\n                  <div>\n                    <p className=\"text-amber-400 font-mono font-semibold text-xl\">Kokorobot-1</p>\n                    <p className=\"text-lg text-purple-400\">Your turn! Order one drink by typing.</p>\n                  </div>\n                </div>\n                \n                <div className=\"h-64 overflow-y-auto mb-4 space-y-3 bg-black/30 rounded-xl p-4\">\n                  {round2Chat.map((msg, i) => (\n                    <div key={i} className={`flex ${msg.role === 'player' ? 'justify-end' : 'justify-start'}`}>\n                      {msg.role === 'npc' && (\n                        <img src=\"/kokorobot-closeup.png\" alt=\"Kokorobot\" className=\"w-12 h-12 rounded-full mr-2 object-cover\" />\n                      )}\n                      <span className={`inline-block rounded-xl px-5 py-3 max-w-[80%] text-lg ${\n                        msg.role === 'player' ? 'bg-purple-500 text-white' : 'bg-amber-900/60 text-amber-200'\n                      }`}>\n                        {msg.text}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"flex gap-3 mb-4\">\n                  {[{key: 'type', label: 'â˜• Type'}, {key: 'size', label: 'ðŸ“ Size'}, {key: 'temp', label: 'ðŸ§Š Temp'}, {key: 'milk', label: 'ðŸ¥› Milk'}].map(({key, label}) => (\n                    <span key={key} className={`px-4 py-2 rounded-full text-base font-medium ${round2Order[key as keyof typeof round2Order] ? 'bg-green-500/30 text-green-400 border border-green-500/50' : 'bg-amber-900/50 text-amber-400/60'}`}>\n                      {label} {round2Order[key as keyof typeof round2Order] && 'âœ“'}\n                    </span>\n                  ))}\n                </div>\n\n                {/* Show Confirm/Modify buttons when order is complete */}\n                {round2ConfirmStep ? (\n                  <div className=\"flex gap-3\">\n                    <button \n                      onClick={() => {\n                        setRound2ConfirmStep(false);\n                        setRound2Order({ type: false, size: false, milk: false, syrup: false, temp: false });\n                        setRound2OrderDetails({});\n                        const response = \"No problem! What would you like instead?\";\n                        setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n                        playAudio('/Audio/kokorobot-greeting.mp3');\n                      }}\n                      className=\"flex-1 bg-amber-900/60 hover:bg-amber-900/80 text-amber-200 font-semibold py-4 rounded-xl text-xl border border-amber-500/40\"\n                    >\n                      âœï¸ Modify\n                    </button>\n                    <button\n                      onClick={() => {\n                        const response = \"Thank you, it will be at the pick up counter.\";\n                        setRound2Chat(prev => [...prev, { role: 'npc', text: response }]);\n                        // Stop background music\n                        if (audioRef) {\n                          audioRef.pause();\n                          setMusicPlaying(false);\n                        }\n\n                        // Track round completed event\n                        posthog.capture('round_completed', {\n                          round: round,\n                          coins_earned: 80,\n                          language_code: selectedLanguage,\n                          outpost_name: 'Coffee Outpost',\n                          mode: 'typing',\n                        });\n\n                        playAudio('/Audio/goodresult.mp3', () => {\n                          setCoins(prev => prev + 80);\n                          triggerCoinAnimation(round);\n                          setInvestorMessage(\"Impressive!\");\n                          setGameState('investor');\n                        });\n                      }}\n                      className=\"flex-1 bg-green-500 hover:bg-green-400 text-black font-semibold py-4 rounded-xl text-xl\"\n                    >\n                      âœ“ Confirm Order\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"flex gap-3\">\n                    <input\n                      type=\"text\"\n                      value={round2Input}\n                      onChange={(e) => setRound2Input(e.target.value)}\n                      onKeyDown={(e) => e.key === 'Enter' && processRound2Input()}\n                      placeholder=\"Type your order...\"\n                      className=\"flex-1 bg-amber-900/40 border border-amber-500/40 rounded-xl px-5 py-4 text-xl focus:outline-none focus:border-amber-500 text-white placeholder-amber-400/50\"\n                    />\n                    <button onClick={processRound2Input} className=\"bg-purple-500 hover:bg-purple-400 text-white font-semibold px-10 rounded-xl text-xl\">\n                      Send\n                    </button>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Round 5 - Speaking Order */}\n            {round === 5 && (\n              <div className=\"bg-black/85 backdrop-blur-lg rounded-2xl border border-amber-500/40 p-8 shadow-2xl text-center\">\n                <img src=\"/kokorobot-closeup.png\" alt=\"Kokorobot\" className=\"w-24 h-24 rounded-full object-cover border-2 border-amber-500/50 mx-auto mb-4\" />\n                \n                {!round3ConfirmStep ? (\n                  <>\n                    <p className=\"text-xl text-green-400 mb-6 font-medium\">Speak your order!</p>\n                    \n                    <button\n                      onClick={startListening}\n                      disabled={round3Listening}\n                      className={`w-40 h-40 rounded-full font-semibold text-4xl transition mx-auto mb-6 shadow-lg ${\n                        round3Listening ? 'bg-red-500 animate-pulse shadow-red-500/50' : 'bg-gradient-to-r from-green-500 to-amber-500 hover:from-green-400 hover:to-amber-400 shadow-green-500/30'\n                      }`}\n                    >\n                      {round3Listening ? 'ðŸŽ¤' : 'ðŸŽ¤ Speak'}\n                    </button>\n\n                    {round3Transcript && (\n                      <div className=\"bg-amber-900/40 rounded-xl p-5 mb-5 text-left border border-amber-500/30\">\n                        <p className=\"text-base text-amber-400/80 mb-1\">You said:</p>\n                        <p className=\"text-2xl text-white\">\"{round3Transcript}\"</p>\n                      </div>\n                    )}\n\n                    {round3CurrentQuestion && !round3ConfirmStep && (\n                      <div className=\"bg-amber-900/40 rounded-xl p-5 text-left border border-amber-500/30\">\n                        <p className=\"text-yellow-400 text-xl mb-4\">ðŸŽ¤ {round3CurrentQuestion}</p>\n                        <p className=\"text-amber-400/60 text-base mb-4\">Tap the mic to answer</p>\n                      </div>\n                    )}\n                  </>\n                ) : (\n                  <>\n                    {/* Order Summary with Confirm/Modify */}\n                    <div className=\"text-center\">\n                      <div className=\"bg-green-900/30 rounded-xl p-6 mb-6 border border-green-500/50\">\n                        <p className=\"text-2xl text-white\">{round3CurrentQuestion}</p>\n                      </div>\n                      \n                      <div className=\"flex gap-3\">\n                        <button \n                          onClick={() => {\n                            setRound3ConfirmStep(false);\n                            setRound3Order({ type: false, size: false, milk: false, temp: false, syrup: false });\n                            setRound3OrderDetails({});\n                            setRound3Transcript('');\n                            setRound3CurrentQuestion('');\n                          }}\n                          className=\"flex-1 bg-amber-900/60 hover:bg-amber-900/80 text-amber-200 font-semibold py-4 rounded-xl text-xl border border-amber-500/40\"\n                        >\n                          âœï¸ Modify\n                        </button>\n                        <button \n                          onClick={acceptRound3Score}\n                          className=\"flex-1 bg-green-500 hover:bg-green-400 text-black font-semibold py-4 rounded-xl text-xl\"\n                        >\n                          âœ“ Confirm Order\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Earth Investor Video Call - Full screen image with overlay */}\n      {gameState === 'investor' && (\n        <div className=\"fixed inset-0 z-40\">\n          {/* Full screen background image - different investor per round */}\n          <img \n            src={round === 1 ? \"/ib.png\" : `/NY-investor${round}.png`}\n            alt=\"Earth Investor calling from spaceship\" \n            className=\"absolute inset-0 w-full h-full object-cover\"\n          />\n          \n          {/* HUD - with solid black background */}\n          <div className=\"absolute top-4 left-4 right-4 flex justify-between items-center z-50\">\n            <div className=\"bg-black rounded-full px-5 py-2 border border-amber-500/50\">\n              <span className=\"text-amber-400 font-mono\">M31 Coffee Outpost</span>\n            </div>\n            <div className=\"flex gap-3\">\n              <div className=\"bg-black rounded-full px-5 py-2 border border-yellow-500/50 flex items-center gap-2\">\n                <KokoroCoin size={24} />\n                <span className=\"text-yellow-400 font-mono font-semibold text-lg\">{coins}</span>\n              </div>\n              <div className=\"bg-black rounded-full px-5 py-2 border border-purple-500/50\">\n                <span className=\"text-purple-400 font-mono\">Round {round}/5</span>\n              </div>\n            </div>\n          </div>\n\n          {/* LIVE indicator - inside image */}\n          <div className=\"absolute top-20 left-6 flex items-center gap-2 bg-black/60 px-4 py-2 rounded-full z-50\">\n            <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\" />\n            <span className=\"text-green-400 text-xl font-mono font-semibold\">LIVE</span>\n          </div>\n\n          {/* Bellagio-style fountain jets - starts from center, shoots up, then to balance */}\n          {showCoinAnimation && (\n            <div className=\"fixed inset-0 pointer-events-none z-50 overflow-hidden flex items-center justify-center\">\n              {animatedCoins.map((coin) => (\n                <div\n                  key={coin.id}\n                  className=\"absolute animate-fountain-jet\"\n                  style={{\n                    '--jx': `${coin.x}px`,\n                    '--jy': `${coin.y}px`,\n                    '--s': coin.scale,\n                    animationDelay: `${coin.delay}s`\n                  } as React.CSSProperties}\n                >\n                  <div className=\"relative\">\n                    {/* Glowing star coin */}\n                    <KokoroCoin size={32} className=\"drop-shadow-[0_0_15px_rgba(255,215,0,0.9)]\" />\n                    {/* Extra glow effect */}\n                    <div className=\"absolute inset-0 w-8 h-8 bg-yellow-400/40 rounded-full blur-md -z-10\" />\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Coin flying animation */}\n          <div className=\"absolute top-1/2 left-1/2 z-50 animate-fly-to-balance\">\n            <div className=\"flex items-center gap-2 bg-black/70 px-4 py-2 rounded-full\">\n              <KokoroCoin size={32} />\n              <span className=\"text-yellow-400 font-semibold text-2xl\">+{round === 1 ? 20 : round === 2 ? 30 : round === 3 ? 50 : round === 4 ? 80 : 100}</span>\n            </div>\n          </div>\n\n          {/* Text overlay - positioned per round */}\n          <div className={`absolute z-50 text-center ${\n            round === 5 \n              ? 'top-[42%] left-1/2 -translate-x-1/2'  /* Round 5: centered on the table */\n              : round === 4 \n                ? 'top-[42%] left-1/2 -translate-x-1/2'  /* Round 4: bring message down closer to CTAs */\n                : round === 3 \n                  ? 'top-[30%] left-1/2 -translate-x-1/2' \n                  : 'top-[45%] left-1/2 -translate-x-1/2'\n          }`}>\n            <div className=\"flex items-center gap-2 mb-2 justify-center\">\n              <KokoroCoin size={32} />\n              <span className=\"text-yellow-400 text-2xl font-semibold drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)]\" style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}>from our Earth Investors</span>\n            </div>\n            {round === 3 ? (\n              <div className=\"text-white drop-shadow-[0_2px_8px_rgba(0,0,0,0.9)]\" style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}>\n                <p className=\"text-5xl font-bold mb-2\">ðŸŽ‰ Excellent!</p>\n                <p className=\"text-3xl font-semibold\">Can she take your orders, too?</p>\n              </div>\n            ) : (\n              <p className=\"text-white text-4xl font-semibold drop-shadow-[0_2px_8px_rgba(0,0,0,0.9)]\" style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}>ðŸŽ‰ {investorMessage}</p>\n            )}\n          </div>\n\n          {/* CTAs - positioned per round */}\n          <div className={`absolute z-50 flex gap-3 flex-col items-center left-1/2 -translate-x-1/2 ${\n            round === 5 \n              ? 'bottom-[18%]'\n              : 'bottom-[25%]'\n          }`}>\n            {/* Rounds 3 and 4: Build Your CafÃ© + Next Round */}\n            {(round === 3 || round === 4) && (\n              <>\n                <button\n                  onClick={() => {\n                    setShowCafeShop(true);\n                  }}\n                  className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-semibold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-purple-500/40\"\n                  style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                >\n                  ðŸª Build Your CafÃ©\n                </button>\n                <button\n                  onClick={completeGame}\n                  className=\"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold py-4 px-14 rounded-full text-2xl transition shadow-lg shadow-yellow-500/40\"\n                  style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                >\n                  Next Round â†’\n                </button>\n              </>\n            )}\n            {/* Round 5: Build Your CafÃ©, Try a New Set, Save & Exit */}\n            {round === 5 && (\n              <>\n                <button\n                  onClick={() => {\n                    setShowCafeShop(true);\n                  }}\n                  className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-semibold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-purple-500/40\"\n                  style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                >\n                  ðŸª Build Your CafÃ©\n                </button>\n                <button\n                  onClick={() => {\n                    alert('ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.');\n                  }}\n                  className=\"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-yellow-500/40\"\n                  style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                >\n                  ðŸŽ¯ Try a New Set\n                </button>\n                <button\n                  onClick={() => {\n                    // Save progress is automatic, just close/exit\n                    alert('âœ… Progress saved! Your coins and cafÃ©s are stored.');\n                  }}\n                  className=\"text-white/80 hover:text-white underline text-lg mt-2 transition\"\n                  style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                >\n                  Save & Exit\n                </button>\n              </>\n            )}\n            {/* Rounds 1-2: Just Next Round */}\n            {round < 3 && (\n              <button\n                onClick={completeGame}\n                className=\"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold py-4 px-14 rounded-full text-2xl transition shadow-lg shadow-yellow-500/40\"\n                style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n              >\n                Next Round â†’\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Custom animation styles */}\n      <style jsx>{`\n        @keyframes fountain-jet {\n          0% {\n            opacity: 0;\n            transform: translateX(var(--jx)) translateY(0) scale(0.3);\n          }\n          15% {\n            opacity: 1;\n            transform: translateX(var(--jx)) translateY(var(--jy)) scale(var(--s));\n          }\n          35% {\n            opacity: 1;\n            transform: translateX(var(--jx)) translateY(calc(var(--jy) * 0.7)) scale(var(--s)) rotate(90deg);\n          }\n          55% {\n            opacity: 1;\n            transform: translateX(var(--jx)) translateY(calc(var(--jy) * 0.4)) scale(var(--s)) rotate(180deg);\n          }\n          75% {\n            opacity: 0.8;\n            transform: translateX(calc(var(--jx) * 0.5 + 35vw)) translateY(calc(var(--jy) * 0.2 - 40vh)) scale(calc(var(--s) * 0.6)) rotate(270deg);\n          }\n          100% {\n            opacity: 0;\n            transform: translateX(45vw) translateY(-45vh) scale(0.15);\n          }\n        }\n        .animate-fountain-jet {\n          animation: fountain-jet 2.8s ease-out forwards;\n        }\n        @keyframes walk {\n          0% { transform: translateY(0) rotate(0deg); }\n          25% { transform: translateY(-6px) rotate(-2deg); }\n          50% { transform: translateY(0) rotate(0deg); }\n          75% { transform: translateY(-6px) rotate(2deg); }\n          100% { transform: translateY(0) rotate(0deg); }\n        }\n        .animate-walk {\n          animation: walk 0.5s ease-in-out infinite;\n        }\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.5s ease-out;\n        }\n        @keyframes pop-in {\n          0% { transform: scale(0); opacity: 0; }\n          70% { transform: scale(1.1); }\n          100% { transform: scale(1); opacity: 1; }\n        }\n        .animate-pop-in {\n          animation: pop-in 0.4s ease-out;\n        }\n        @keyframes fly-to-balance {\n          0% {\n            opacity: 1;\n            transform: translate(-50%, -50%) scale(1);\n          }\n          70% {\n            opacity: 1;\n            transform: translate(calc(50vw - 250px), calc(-50vh + 40px)) scale(0.8);\n          }\n          100% {\n            opacity: 0;\n            transform: translate(calc(50vw - 250px), calc(-50vh + 40px)) scale(0.5);\n          }\n        }\n        .animate-fly-to-balance {\n          animation: fly-to-balance 1.5s ease-in-out forwards;\n        }\n      `}</style>\n\n      {/* Menu Popup - Chalkboard Style */}\n      {showMenu && (\n        <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\" onClick={() => setShowMenu(false)}>\n          <div \n            className=\"bg-zinc-900 rounded-xl p-8 max-w-2xl w-full border-4 border-zinc-700 shadow-2xl\"\n            onClick={e => e.stopPropagation()}\n            style={{ \n              backgroundImage: 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)',\n              boxShadow: 'inset 0 0 60px rgba(0,0,0,0.5)'\n            }}\n          >\n            <h2 className=\"text-4xl font-bold text-center mb-8 text-white\" style={{ fontFamily: 'Georgia, serif', textShadow: '2px 2px 4px rgba(0,0,0,0.5)' }}>\n              â˜• Our Menu\n            </h2>\n            <div className=\"grid grid-cols-1 gap-4\">\n              {menuItems.map((item, i) => (\n                <div key={i} className=\"flex justify-between items-center border-b border-zinc-700/50 pb-3\">\n                  <div>\n                    <p className=\"text-2xl text-white font-medium\" style={{ fontFamily: 'Georgia, serif' }}>{item.name}</p>\n                    <p className=\"text-zinc-400 text-sm italic\">{item.desc}</p>\n                  </div>\n                  <div className=\"text-zinc-500 text-xl\">â€¢â€¢â€¢</div>\n                </div>\n              ))}\n            </div>\n            <button \n              onClick={() => setShowMenu(false)}\n              className=\"mt-8 w-full py-3 bg-amber-600 hover:bg-amber-500 text-white font-semibold rounded-lg text-lg\"\n            >\n              Got it!\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Cafe Shop */}\n      {showCafeShop && (\n        <div className=\"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-6 max-w-4xl w-full border border-amber-500/30\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-3xl font-bold text-amber-400\" style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}>ðŸª Choose Your CafÃ©</h2>\n              <div className=\"flex items-center gap-2 bg-black/50 px-4 py-2 rounded-full\">\n                <KokoroCoin size={28} />\n                <span className=\"text-yellow-400 font-bold text-xl\">{coins}</span>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6\">\n              {cafeOptions.map((cafe) => {\n                const owned = purchasedCafes.includes(cafe.id);\n                const canAfford = coins >= cafe.price;\n                return (\n                  <div \n                    key={cafe.id}\n                    className={`relative rounded-xl overflow-hidden border-2 transition-all ${\n                      owned ? 'border-green-500 cursor-pointer hover:scale-105' : canAfford ? 'border-amber-500 hover:border-amber-400 cursor-pointer hover:scale-105' : 'border-zinc-600 opacity-50'\n                    }`}\n                    onClick={() => {\n                      if (owned) {\n                        // Show owned popup with options\n                        setOwnedCafeToView(cafe);\n                        setShowOwnedPopup(true);\n                      } else if (canAfford) {\n                        // Show purchase confirmation\n                        setSelectedCafe(cafe);\n                        setShowPurchaseConfirm(true);\n                      } else {\n                        setShowCoinShop(true);\n                      }\n                    }}\n                  >\n                    <div className=\"relative\">\n                      <img src={cafe.image} alt={cafe.name} className=\"w-full h-32 object-cover bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90\" />\n                      {owned && (\n                        <div className=\"absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full\">\n                          âœ“ OWNED\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"p-3 bg-black/80\">\n                      <p className=\"text-white font-medium text-sm\" style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}>{cafe.name}</p>\n                      <div className=\"flex items-center gap-1 mt-1\">\n                        {owned ? (\n                          <span className=\"text-green-400 text-sm\">Tap to view options</span>\n                        ) : (\n                          <>\n                            <KokoroCoin size={18} />\n                            <span className={`font-bold ${canAfford ? 'text-yellow-400' : 'text-red-400'}`}>{cafe.price}</span>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            \n            {/* Different buttons based on whether game is complete (round 5) or mid-game */}\n            {round === 5 ? (\n              <>\n                {/* Round 5 Complete: Full options */}\n                <div className=\"flex gap-3 mb-4\">\n                  <button \n                    onClick={() => {\n                      alert('ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.');\n                    }}\n                    className=\"flex-1 py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl text-lg border border-zinc-600\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    ðŸŽ¯ Try a New Set\n                  </button>\n                  <button \n                    onClick={() => {\n                      alert('ðŸª More outposts coming soon! Restaurant, Department Store, and more.');\n                    }}\n                    className=\"flex-1 py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl text-lg border border-zinc-600\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    ðŸ¬ Choose New Outpost\n                  </button>\n                </div>\n                \n                <button \n                  onClick={() => {\n                    alert('ðŸ—ºï¸ M31 Map coming soon! Your cafÃ©s are saved in inventory.');\n                  }}\n                  className=\"w-full py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl text-lg border border-zinc-600 mb-4\"\n                  style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                >\n                  ðŸ—ºï¸ Go to M31 Map\n                </button>\n                \n                {/* Small Links - all mustard yellow */}\n                <div className=\"flex justify-center gap-6 pt-2 border-t border-zinc-700\">\n                  <button \n                    onClick={() => setShowCoinShop(true)}\n                    className=\"text-amber-400 hover:text-amber-300 text-sm font-medium transition\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    ðŸ’° Buy Coins\n                  </button>\n                  <button \n                    onClick={() => {\n                      setShowCafeShop(false);\n                      setShowInventory(true);\n                    }}\n                    className=\"text-amber-400 hover:text-amber-300 text-sm font-medium transition\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    ðŸ“¦ Check Inventory\n                  </button>\n                  <button \n                    onClick={() => {\n                      setShowCafeShop(false);\n                    }}\n                    className=\"text-amber-400 hover:text-amber-300 text-sm font-medium transition\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    ðŸ’¾ Save & Exit\n                  </button>\n                </div>\n              </>\n            ) : (\n              <>\n                {/* Mid-game (rounds 3-4): Simple options */}\n                <div className=\"flex gap-3\">\n                  <button \n                    onClick={() => setShowCoinShop(true)}\n                    className=\"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-amber-400 font-semibold rounded-lg border border-zinc-600\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    ðŸ’° Buy Coins\n                  </button>\n                  <button \n                    onClick={() => {\n                      setShowCafeShop(false);\n                      completeGame();\n                    }}\n                    className=\"flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-semibold rounded-lg\"\n                    style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}\n                  >\n                    â–¶ï¸ Keep Playing\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Purchase Confirmation Popup */}\n      {showPurchaseConfirm && selectedCafe && (\n        <div className=\"fixed inset-0 bg-black/95 z-[70] flex items-center justify-center p-4\">\n          <div className=\"bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-8 max-w-md w-full border border-amber-500/50 text-center\">\n            <h3 className=\"text-2xl font-bold text-amber-400 mb-4\">ðŸª Purchase CafÃ©?</h3>\n            <img \n              src={selectedCafe.image} \n              alt={selectedCafe.name} \n              className=\"w-48 h-48 object-cover rounded-xl mx-auto mb-4 border-2 border-amber-500/30 bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90\"\n            />\n            <p className=\"text-white text-xl font-semibold mb-2\">{selectedCafe.name}</p>\n            <div className=\"flex items-center justify-center gap-2 mb-4\">\n              <span className=\"text-zinc-400\">Price:</span>\n              <KokoroCoin size={24} />\n              <span className=\"text-yellow-400 font-bold text-xl\">{selectedCafe.price}</span>\n            </div>\n            <div className=\"flex items-center justify-center gap-2 mb-6 bg-black/50 py-2 px-4 rounded-full inline-flex\">\n              <span className=\"text-zinc-400\">Your balance:</span>\n              <KokoroCoin size={20} />\n              <span className=\"text-yellow-400 font-semibold\">{coins}</span>\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => {\n                  setShowPurchaseConfirm(false);\n                  setSelectedCafe(null);\n                }}\n                className=\"flex-1 py-3 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold rounded-lg\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  // Process purchase\n                  setCoins(prev => prev - selectedCafe.price);\n                  setPurchasedCafes(prev => [...prev, selectedCafe.id]);\n                  setShowPurchaseConfirm(false);\n\n                  // Track cafe purchased event\n                  posthog.capture('cafe_purchased', {\n                    cafe_id: selectedCafe.id,\n                    cafe_name: selectedCafe.name,\n                    price: selectedCafe.price,\n                    total_cafes_owned: purchasedCafes.length + 1,\n                  });\n\n                  // Show just purchased popup\n                  setJustPurchasedCafe(selectedCafe);\n                  setShowJustPurchased(true);\n                  setSelectedCafe(null);\n                }}\n                className=\"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white font-bold rounded-lg\"\n              >\n                âœ“ Buy Now\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Just Purchased Popup */}\n      {showJustPurchased && justPurchasedCafe && (\n        <div className=\"fixed inset-0 bg-black/95 z-[70] flex items-center justify-center p-4\">\n          <div className=\"bg-gradient-to-b from-green-900/80 to-zinc-900 rounded-2xl p-8 max-w-md w-full border border-green-500/50 text-center\">\n            <div className=\"text-6xl mb-4\">ðŸŽ‰</div>\n            <h3 className=\"text-3xl font-bold text-green-400 mb-4\">Congratulations!</h3>\n            <img \n              src={justPurchasedCafe.image} \n              alt={justPurchasedCafe.name} \n              className=\"w-48 h-48 object-cover rounded-xl mx-auto mb-4 border-2 border-green-500/50 bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90\"\n            />\n            <p className=\"text-white text-xl mb-2\">{justPurchasedCafe.name}</p>\n            <p className=\"text-green-300 mb-6\">is now in your inventory!</p>\n            <p className=\"text-zinc-400 text-sm mb-6\">What would you like to do?</p>\n            <div className=\"flex flex-col gap-3\">\n              <button\n                onClick={() => {\n                  setShowJustPurchased(false);\n                  setJustPurchasedCafe(null);\n                  alert('ðŸ—ºï¸ M31 Map coming soon! Your cafÃ© is saved in inventory.');\n                }}\n                className=\"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-400 hover:to-purple-400 text-white font-bold rounded-lg\"\n              >\n                ðŸ—ºï¸ Place on M31 Map\n              </button>\n              <button\n                onClick={() => {\n                  setShowJustPurchased(false);\n                  setJustPurchasedCafe(null);\n                  setShowCafeShop(false);\n                  setShowInventory(true);\n                }}\n                className=\"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-bold rounded-lg\"\n              >\n                ðŸ“¦ Check Inventory\n              </button>\n              <button\n                onClick={() => {\n                  setShowJustPurchased(false);\n                  setJustPurchasedCafe(null);\n                  alert('ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.');\n                }}\n                className=\"w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-bold rounded-lg\"\n              >\n                ðŸŽ¯ Try a New Set\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Owned Cafe Popup */}\n      {showOwnedPopup && ownedCafeToView && (\n        <div className=\"fixed inset-0 bg-black/95 z-[70] flex items-center justify-center p-4\">\n          <div className=\"bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-8 max-w-md w-full border border-green-500/50 text-center relative\">\n            <h3 className=\"text-2xl font-bold text-green-400 mb-4\">ðŸª {ownedCafeToView.name}</h3>\n            <img \n              src={ownedCafeToView.image} \n              alt={ownedCafeToView.name} \n              className=\"w-48 h-48 object-cover rounded-xl mx-auto mb-6 border-2 border-green-500/50 bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90\"\n            />\n            <p className=\"text-zinc-300 mb-6\">This cafÃ© is in your inventory. What would you like to do?</p>\n            <div className=\"flex flex-col gap-3\">\n              <button\n                onClick={() => {\n                  setShowOwnedPopup(false);\n                  setOwnedCafeToView(null);\n                  alert('ðŸ—ºï¸ M31 Map coming soon! Your cafÃ© is saved in inventory.');\n                }}\n                className=\"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-400 hover:to-purple-400 text-white font-bold rounded-lg\"\n              >\n                ðŸ—ºï¸ Place on M31 Map\n              </button>\n              <button\n                onClick={() => {\n                  setShowOwnedPopup(false);\n                  setOwnedCafeToView(null);\n                  setShowCafeShop(false);\n                  setShowInventory(true);\n                }}\n                className=\"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-bold rounded-lg\"\n              >\n                ðŸ“¦ Check Inventory\n              </button>\n              <button\n                onClick={() => {\n                  setShowOwnedPopup(false);\n                  setOwnedCafeToView(null);\n                  alert('ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.');\n                }}\n                className=\"w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-bold rounded-lg\"\n              >\n                ðŸŽ¯ Try a New Set\n              </button>\n              <button\n                onClick={() => {\n                  setShowOwnedPopup(false);\n                  setOwnedCafeToView(null);\n                }}\n                className=\"w-full py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Coin Shop */}\n      {showCoinShop && (\n        <div className=\"fixed inset-0 bg-black/90 z-[80] flex items-center justify-center p-4\" onClick={() => setShowCoinShop(false)}>\n          <div \n            className=\"bg-gradient-to-b from-purple-900 to-zinc-900 rounded-2xl p-6 max-w-md w-full border border-purple-500/50\"\n            onClick={e => e.stopPropagation()}\n          >\n            <h2 className=\"text-3xl font-bold text-center text-purple-300 mb-6\">ðŸ’° Coin Shop</h2>\n            \n            <div className=\"space-y-4 mb-6\">\n              {coinBundles.map((bundle) => (\n                <div \n                  key={bundle.id}\n                  className={`relative p-4 rounded-xl border-2 cursor-pointer transition-all hover:scale-102 ${\n                    bundle.best ? 'border-yellow-400 bg-yellow-400/10' : 'border-zinc-600 bg-zinc-800/50 hover:border-purple-500'\n                  }`}\n                  onClick={() => {\n                    // Simulate purchase (in real app, this would go to payment)\n                    setCoins(prev => prev + bundle.coins);\n                    setShowCoinShop(false);\n\n                    // Track coin bundle purchased event\n                    posthog.capture('coin_bundle_purchased', {\n                      bundle_id: bundle.id,\n                      bundle_label: bundle.label,\n                      coins_received: bundle.coins,\n                      price: bundle.price,\n                    });\n                  }}\n                >\n                  {bundle.best && (\n                    <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-xs font-bold px-3 py-1 rounded-full\">\n                      â­ BEST VALUE\n                    </div>\n                  )}\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <p className=\"text-white font-bold text-lg\">{bundle.label}</p>\n                      <div className=\"flex items-center gap-2\">\n                        <KokoroCoin size={28} />\n                        <span className=\"text-yellow-400 font-bold text-2xl\">{bundle.coins.toLocaleString()}</span>\n                      </div>\n                    </div>\n                    <div className=\"bg-green-500 hover:bg-green-400 text-white font-bold px-6 py-3 rounded-xl text-xl\">\n                      {bundle.price}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n            \n            <button \n              onClick={() => setShowCoinShop(false)}\n              className=\"w-full py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg\"\n            >\n              Maybe Later\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Inventory View */}\n      {showInventory && (\n        <div className=\"fixed inset-0 bg-gradient-to-b from-zinc-900 via-zinc-800 to-zinc-900 z-[60] flex flex-col\">\n          {/* Top Bar */}\n          <div className=\"flex items-center justify-between px-6 py-4 border-b border-zinc-700\">\n            <button\n              onClick={() => setShowInventory(false)}\n              className=\"flex items-center gap-2 text-amber-400 hover:text-amber-300 transition font-medium\"\n            >\n              <span className=\"text-xl\">â†</span>\n              <span>Back to Coffee Outpost</span>\n            </button>\n            <div className=\"flex items-center gap-2 bg-black/50 px-4 py-2 rounded-full\">\n              <KokoroCoin size={28} />\n              <span className=\"text-yellow-400 font-bold text-xl\">{coins}</span>\n            </div>\n          </div>\n\n          {/* Tabs */}\n          <div className=\"flex gap-2 px-6 py-4 border-b border-zinc-700\">\n            <button\n              onClick={() => setInventoryTab('buildings')}\n              className={`px-6 py-3 rounded-xl font-semibold transition ${\n                inventoryTab === 'buildings'\n                  ? 'bg-amber-500 text-black'\n                  : 'bg-zinc-700 text-zinc-300 hover:bg-zinc-600'\n              }`}\n            >\n              ðŸª Buildings\n            </button>\n            <button\n              onClick={() => setInventoryTab('kokorobots')}\n              className=\"px-6 py-3 rounded-xl font-semibold bg-zinc-800 text-zinc-500 cursor-not-allowed flex items-center gap-2\"\n              disabled\n            >\n              ðŸ¤– Kokorobots\n              <span className=\"text-xs bg-zinc-700 px-2 py-0.5 rounded-full\">Soon</span>\n            </button>\n            <button\n              className=\"px-6 py-3 rounded-xl font-semibold bg-zinc-800 text-zinc-500 cursor-not-allowed flex items-center gap-2\"\n              disabled\n            >\n              ðŸŒ³ Items\n              <span className=\"text-xs bg-zinc-700 px-2 py-0.5 rounded-full\">Soon</span>\n            </button>\n          </div>\n\n          {/* Content Area */}\n          <div className=\"flex-1 overflow-y-auto px-6 py-6\">\n            {inventoryTab === 'buildings' && (\n              <div>\n                <h2 className=\"text-2xl font-bold text-white mb-6\">Your Buildings</h2>\n                \n                {purchasedCafes.length === 0 ? (\n                  <div className=\"text-center py-16\">\n                    <div className=\"text-6xl mb-4\">ðŸª</div>\n                    <p className=\"text-zinc-400 text-xl mb-6\">No buildings yet!</p>\n                    <button\n                      onClick={() => {\n                        setShowInventory(false);\n                        setShowCafeShop(true);\n                      }}\n                      className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-semibold py-3 px-8 rounded-full text-lg transition\"\n                    >\n                      ðŸ›’ Shop for CafÃ©s\n                    </button>\n                  </div>\n                ) : (\n                  <div>\n                    {/* Buildings Grid */}\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-8\">\n                      {purchasedCafes.map((cafeId) => {\n                        const cafe = cafeOptions.find(c => c.id === cafeId);\n                        if (!cafe) return null;\n                        const isSelected = selectedInventoryItem === cafeId;\n                        return (\n                          <div\n                            key={cafeId}\n                            onClick={() => setSelectedInventoryItem(isSelected ? null : cafeId)}\n                            className={`relative rounded-xl overflow-hidden cursor-pointer transition-all transform hover:scale-105 ${\n                              isSelected \n                                ? 'ring-4 ring-amber-400 ring-offset-2 ring-offset-zinc-800' \n                                : 'border-2 border-zinc-600 hover:border-amber-500/50'\n                            }`}\n                          >\n                            <img \n                              src={cafe.image} \n                              alt={cafe.name}\n                              className=\"w-full aspect-square object-cover bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90\"\n                            />\n                            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-3\">\n                              <p className=\"text-white font-semibold text-sm\">{cafe.name}</p>\n                            </div>\n                            {isSelected && (\n                              <div className=\"absolute top-2 right-2 bg-amber-400 text-black rounded-full p-1\">\n                                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                  <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                </svg>\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })}\n                      \n                      {/* Buy More Card */}\n                      <div\n                        onClick={() => {\n                          setShowInventory(false);\n                          setShowCafeShop(true);\n                        }}\n                        className=\"rounded-xl border-2 border-dashed border-zinc-600 hover:border-amber-500/50 cursor-pointer transition-all flex flex-col items-center justify-center aspect-square bg-zinc-800/50 hover:bg-zinc-800\"\n                      >\n                        <span className=\"text-4xl mb-2\">+</span>\n                        <span className=\"text-zinc-400 font-medium\">Buy More</span>\n                      </div>\n                    </div>\n\n                    {/* Action Button - only show when item selected */}\n                    {selectedInventoryItem && (\n                      <div className=\"flex justify-center mb-8\">\n                        <button\n                          onClick={() => {\n                            alert('ðŸ—ºï¸ M31 Map coming soon! Your cafÃ© is saved and ready to place.');\n                          }}\n                          className=\"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-400 hover:to-purple-400 text-white font-bold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-blue-500/30\"\n                        >\n                          ðŸ—ºï¸ Place on M31 Map\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n\n            {inventoryTab === 'kokorobots' && (\n              <div className=\"text-center py-16\">\n                <div className=\"text-6xl mb-4\">ðŸ¤–</div>\n                <h2 className=\"text-2xl font-bold text-white mb-4\">Kokorobots Coming Soon!</h2>\n                <p className=\"text-zinc-400 max-w-md mx-auto\">\n                  Customize your Kokorobot's appearance â€” change hairstyles, suits, colors, and more!\n                </p>\n              </div>\n            )}\n\n          </div>\n\n          {/* Bottom Bar */}\n          <div className=\"flex items-center justify-between px-6 py-5 border-t border-zinc-700 bg-zinc-900/80\">\n            <button\n              onClick={() => {\n                alert('ðŸ¬ All Outposts hub coming soon! Practice at different locations.');\n              }}\n              className=\"text-amber-400 hover:text-amber-300 font-semibold text-lg transition flex items-center gap-2\"\n            >\n              ðŸ¬ All Outposts\n            </button>\n            <button\n              onClick={() => {\n                setShowInventory(false);\n                alert('âœ… Progress saved! Your coins and items are stored.');\n              }}\n              className=\"text-amber-400 hover:text-amber-300 font-semibold text-lg transition\"\n            >\n              Save & Exit\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","// Multi-language TTS utilities for RPG4H\n// Supports English (en-US), Korean (ko-KR), and French (fr-FR)\n\nexport type SupportedLanguage = 'en-US' | 'ko-KR' | 'fr-FR';\n\n// Get the best voice for a given language\nexport const getVoiceForLang = (\n  voices: SpeechSynthesisVoice[], \n  lang: SupportedLanguage\n): SpeechSynthesisVoice | null => {\n  const prefix = lang.split('-')[0]; // en / ko / fr\n  \n  // Preferred voices by language (female voices preferred for NPC)\n  const preferredVoices: Record<SupportedLanguage, string[]> = {\n    'en-US': ['Samantha', 'Karen', 'Moira', 'Tessa', 'Fiona', 'Victoria', 'Zira', 'Hazel'],\n    'ko-KR': ['Yuna', 'Sora', 'Heami', 'Google í•œêµ­ì–´'],\n    'fr-FR': ['AmÃ©lie', 'Audrey', 'Aurelie', 'Thomas', 'Google franÃ§ais'],\n  };\n  \n  // Try preferred voices first\n  for (const name of preferredVoices[lang] || []) {\n    const voice = voices.find(v => v.name.includes(name));\n    if (voice) return voice;\n  }\n  \n  // Fall back to any voice matching the language prefix\n  const langVoice = voices.find(v => \n    v.lang.toLowerCase().startsWith(prefix) && \n    !v.name.toLowerCase().includes('male')\n  );\n  if (langVoice) return langVoice;\n  \n  // Any voice for this language\n  const anyLangVoice = voices.find(v => v.lang.toLowerCase().startsWith(prefix));\n  if (anyLangVoice) return anyLangVoice;\n  \n  // Ultimate fallback\n  return voices[0] || null;\n};\n\n// Speak text using TTS with the correct language\nexport const speakWithLanguage = (\n  text: string,\n  lang: SupportedLanguage,\n  voices: SpeechSynthesisVoice[],\n  options?: {\n    rate?: number;\n    pitch?: number;\n    volume?: number;\n    onStart?: () => void;\n    onEnd?: () => void;\n    onError?: (error: any) => void;\n  }\n): void => {\n  if (!('speechSynthesis' in window)) {\n    console.warn('Speech synthesis not supported');\n    options?.onError?.('Speech synthesis not supported');\n    return;\n  }\n  \n  window.speechSynthesis.cancel();\n  \n  const utterance = new SpeechSynthesisUtterance(text);\n  utterance.lang = lang;\n  \n  const voice = getVoiceForLang(voices, lang);\n  if (voice) utterance.voice = voice;\n  \n  utterance.rate = options?.rate ?? 1.0;\n  utterance.pitch = options?.pitch ?? 1.2;\n  utterance.volume = options?.volume ?? 1.0;\n  \n  if (options?.onStart) {\n    utterance.onstart = options.onStart;\n  }\n  \n  if (options?.onEnd) {\n    utterance.onend = options.onEnd;\n  }\n  \n  if (options?.onError) {\n    utterance.onerror = (event) => options.onError?.(event);\n  }\n  \n  window.speechSynthesis.speak(utterance);\n};\n\n// Speech recognition language mapping\nexport const getSpeechRecognitionLang = (lang: SupportedLanguage): string => {\n  return lang; // Direct mapping works for these languages\n};\n\n// Get localStorage language or default\nexport const getStoredLanguage = (): SupportedLanguage => {\n  if (typeof window === 'undefined') return 'en-US';\n  \n  const stored = localStorage.getItem('m31-language');\n  if (stored && ['en-US', 'ko-KR', 'fr-FR'].includes(stored)) {\n    return stored as SupportedLanguage;\n  }\n  return 'en-US';\n};\n\n// Language display info\nexport const languageInfo: Record<SupportedLanguage, { flag: string; label: string; shortCode: string }> = {\n  'en-US': { flag: 'ðŸ‡ºðŸ‡¸', label: 'English', shortCode: 'EN' },\n  'ko-KR': { flag: 'ðŸ‡°ðŸ‡·', label: 'í•œêµ­ì–´', shortCode: 'KR' },\n  'fr-FR': { flag: 'ðŸ‡«ðŸ‡·', label: 'FranÃ§ais', shortCode: 'FR' },\n};\n"],"names":[],"mappings":"6DACA,IAAI,EAAA,EAAA,CAAA,CAAA,OAIA,EAFwC,GAAkB,UAAb,EAE5B,KAFmC,GAAkB,GAE1C,GAAE,OAFqD,GAAQ,CAAJ,AAAM,QAEzC,CAFsD,EAAF,AAqBxG,EAAS,AAAmB,oBAAZ,SAA2B,QAAQ,GAAG,GAAI,EAC1D,EAAW,SAAS,CAAC,EACrB,MAA6C,oBAAtC,OAAO,EAFqE,OAE5D,CAAC,QAAQ,CAAC,IAAI,CAAC,EAC1C,EACI,EAA2B,WAAd,AACb,SAAS,EADe,AACJ,CAAK,EACrB,IAAI,EAAgB,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAQ,EAAI,IAAI,CAAE,EAAiB,KAAK,IAAf,EAAmB,aAAe,EAAO,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,KAAK,IAA3B,EAA+B,EAAS,EAChN,EAAY,EAAS,GAAO,2BAC5B,IAAI,CAAC,KAAK,CAAG,EACb,IAAI,CAAC,uBAAuB,CAAG,IAAM,EAAO,sBAC5C,EAAwC,WAA5B,OAAO,EAAgC,wCACnD,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,YAAY,MAAG,EACpB,IAAI,CAAC,KAAK,CAAG,EAAE,CACf,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAEnB,IAAI,CAAC,MAAM,CAAyC,EAAtC,EAClB,CACA,MAAI,EAAS,EAAW,SAAS,CA2LjC,OA1LA,EAAO,MAHkB,aAGC,CAAG,SAAS,AAAoB,CAAI,EAC1D,EAA4B,WAAhB,OAAO,EAAoB,2CACvC,EAAY,AAAqB,QAAjB,CAAC,WAAW,CAAQ,oEACpC,IAAI,CAAC,KAAK,GACV,IAAI,CAAC,iBAAiB,CAAG,EACzB,IAAI,CAAC,MAAM,EACf,EACA,EAAO,kBAAkB,CAAG,SAAS,EACjC,OAAO,IAAI,CAAC,iBAAiB,AACjC,EACA,EAAO,MAAM,CAAG,SAAS,EACrB,IAAI,EAAQ,IAAI,CAChB,EAAY,CAAC,IAAI,CAAC,SAAS,CAAE,0BAC7B,IAAI,CAAC,SAAS,EAAG,EAajB,IAAI,CAAC,YAAY,CAAG,CAChB,SAAU,EAAE,CACZ,WAAY,SAAS,CAAI,CAAE,CAAK,EAU5B,MATqB,UAAjB,AAA2B,OAApB,EACP,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,CACjC,QAAS,CACb,EAEA,EAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAC7B,QAAS,CACb,GAEG,CACX,EACA,WAAY,SAAS,CAAK,EACtB,EAAM,YAAY,CAAC,QAAQ,CAAC,EAAM,CAAG,IACzC,CACJ,CACJ,EACA,EAAO,cAAc,CAAG,SAAS,AAAe,CAAG,EAC/C,GAAI,EAAI,KAAK,CACT,CADW,MACJ,EAAI,KAAK,CAGpB,IAAI,IAAI,EAAI,EAAG,EAAI,SAAS,WAAW,CAAC,MAAM,CAAE,IAAI,AAChD,GAAI,SAAS,WAAW,CAAC,EAAE,CAAC,SAAS,GAAK,EACtC,GAD2C,IACpC,SAAS,WAAW,CAAC,EAAE,AAG1C,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,EAAE,CAChE,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAI,CAAE,CAAK,SAC/C,EAAY,EAAS,GAAO,qCAEH,UAAjB,AAA2B,OAApB,IACP,EAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAA,AAAM,EAE7C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAM,GAC5B,IAAI,CAAC,WAAW,EAsB/B,EACA,EAAO,WAAW,CAAG,SAAS,AAAY,CAAK,CAAE,CAAI,EAC7C,IAAI,CAAC,iBAAiB,CACtB,GAD0B,CACtB,EAA0D,IAAI,CAAC,CAAvD,WAAmE,CAI/E,GAHI,AAAC,EAAK,IAAI,IAAI,CACd,EAAO,IAAI,CAAC,KAF4B,GADA,aAAa,EAGzC,AAAuB,EAEnC,CAAC,EAAM,QAAQ,CAAC,EAAM,CAEtB,CAFwB,MAEjB,EAEX,EAAM,UAAU,CAAC,GACjB,GAAI,CACA,EAAM,UAAU,CAAC,EAAM,EAC3B,CAAE,MAAO,EAAO,CACR,AAAC,GACD,KADS,GACD,IAAI,CAAC,iCAAmC,EAAO,8DAG3D,EAAM,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAE,EACnD,CAMJ,OAAO,CACX,EACA,EAAO,UAAU,CAAG,SAAS,AAAW,CAAK,EAErC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAWrC,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,SAAS,EAAG,EACjB,IAAI,CAAC,WAAW,CAAG,EAQf,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAG,EAAE,AAEvC,EACA,EAAO,QAAQ,CAAG,SAAS,EAGnB,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,AAYzC,EACA,EAAO,YAAY,CAAG,SAAS,AAAa,CAAI,CAAE,CAAS,CAAE,CAAa,EAClE,GACA,EAAY,EAAS,GAAY,CADtB,wDAGf,IAAI,EAAM,SAAS,aAAa,CAAC,SAC7B,IAAI,CAAC,MAAM,EAAE,EAAI,YAAY,CAAC,QAAS,IAAI,CAAC,MAAM,EACtD,EAAI,IAAI,CAAG,WACX,EAAI,YAAY,CAAC,QAAU,EAAM,IAC7B,GACA,EAAI,MADO,KACI,CAAC,SAAS,cAAc,CAAC,IAE5C,IAAI,EAAO,SAAS,IAAI,EAAI,SAAS,oBAAoB,CAAC,OAAO,CAAC,EAAE,CAMpE,OALI,EACA,EAAK,WADU,CACE,CAAC,EAAK,GAEvB,EAAK,WAAW,CAAC,GAEd,CACX,EA1M+B,EA2MN,CACrB,CACI,IAAK,EA7M4B,EAAE,KA8MnC,IAAK,EA9MyC,OA8MhC,EACV,OAAO,IAAI,CAAC,WAAW,AAC3B,CACJ,EACH,CAjNe,AAVjB,SAAS,AAAkB,CAAM,CAAE,CAAK,EACvC,IAAI,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAI,CACjC,IAAI,EAAa,CAAK,CAAC,EAAE,CACzB,EAAW,UAAU,CAAG,EAAW,UAAU,GAAI,EACjD,EAAW,YAAY,EAAG,EACtB,UAAW,GAAY,GAAW,QAAQ,EAAG,CAAA,EACjD,OAAO,cAAc,CAAC,EAAQ,EAAW,GAAG,CAAE,EAClD,CACJ,EA4MiB,AA1MqB,EAAY,SAAS,CAAE,GAkNlD,CACX,IACA,SAAS,EAAY,CAAS,CAAE,CAAO,EACnC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,eAAiB,EAAU,IAEnD,CAWA,IAAI,EATJ,SAAS,AAAK,CAAG,CASA,CAPb,IADA,IAAI,EAAS,KAAM,EAAI,EAAI,MAAM,CAC3B,EAAE,CACJ,EAAkB,GAAT,EAAc,EAAI,UAAU,CAAC,EAAE,GAIiB,OAAO,IAAW,CACnF,EAMI,EAAQ,CAAC,EAKT,SAAS,EAAU,CAAM,CAAE,CAAK,EAChC,GAAI,CAAC,EACD,KADQ,CACD,OAAS,EAEpB,IAAI,EAAgB,OAAO,GACvB,EAAM,EAAS,EAInB,OAHI,AAAC,CAAK,CAAC,EAAI,EAAE,AACb,EAAK,CAAC,EAAI,CAAG,OAAS,EAAW,EAAS,IAAM,EAAA,EAE7C,CAAK,CAAC,EAAI,AACrB,CAKI,SAAS,EAAgB,CAAE,CAAE,CAAG,EAQhC,IAAI,EAAQ,EAFR,GAAe,AAEF,AA9BV,EAAK,CA4BF,MA5BS,CAAC,YAAa,WA4Bd,EAMnB,OAHI,AAAC,CAAK,CAAC,EAAM,EAAE,CACf,CAAK,CAAC,EAAM,CAAG,EAAI,OAAO,CATC,AASA,gCAA0B,EAAA,EAElD,CAAK,CAAC,EACjB,AADuB,CAmBvB,IAAI,EAAmC,WACnC,QADqB,CACZ,EAAmB,CAAK,EAC7B,IAAI,CAFwB,CAER,KAAK,IAAf,EAAmB,CAAC,EAAI,EAAO,EAAc,EAAI,UAAU,CAAE,EAAa,AAAgB,KAAK,MAAI,KAAO,EAAa,EAAoB,EAAI,gBAAgB,CAAE,EAAyC,AAAtB,KAA2B,IAAI,GAAQ,CACrO,KAAI,CAAC,MAAM,CAAG,GAAc,IAAI,EAAW,CACvC,KAAM,aACN,iBAAkB,CACtB,GACA,IAAI,CAAC,MAAM,CAAC,MAAM,GACd,GAA0C,WAAW,AAAvC,OAAO,IACrB,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAChC,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAE3D,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,CACA,IAAI,EAAS,EAAmB,SAAS,CAoHzC,OAnHA,EAAO,GAAG,CAAG,SAAS,AAAI,CAAK,EAC3B,IAAI,EAAQ,IAAI,MACZ,IAAc,IAAI,CAAC,iBAAiB,EAAE,CACtC,IAAI,CAAC,iBAAiB,CAAG,MAAM,OAAO,CAAC,EAAM,QAAQ,EACrD,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,iBAAiB,EACtD,IAAI,CAAC,iBAAiB,CAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,IAS3D,IAAI,EAAM,IAAI,CAAC,aAAa,CAAC,GAAQ,EAAU,EAAI,OAAO,CAAE,EAAQ,EAAI,KAAK,CAE7E,GAAI,KAAW,IAAI,CAAC,gBAAgB,CAAE,CAClC,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAClC,MACJ,CACA,IAAI,EAAU,EAAM,GAAG,CAAC,SAAS,CAAI,EACjC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GACC,AADC,MACK,CAAC,SAAS,CAAK,EAClB,OAAiB,CAAC,AAFO,IAElB,CACX,GACA,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAG,EACzB,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,CACrC,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,EACjC,IAAI,EAAQ,IAAI,CACZ,EAAU,IAAI,CAAC,aAAa,CAAC,GAAO,OAAO,CAG/C,GAFA,AAqFR,SAAS,AAAU,CAAS,CAAE,CAAO,EACjC,GAAI,CAAC,EACD,MAAM,AAAI,GADE,GACI,uBAAyB,EAAU,IAE3D,EAzFkB,KAAW,IAAI,CAAC,gBAAgB,CAAE,aAAe,EAAU,eACrE,IAAI,CAAC,gBAAgB,CAAC,EAAQ,EAAI,EAC9B,IAAI,CAAC,gBAAgB,CAAC,EAAQ,CAAG,EAAG,CACpC,IAAI,EAAgB,IAAI,CAAC,WAAW,EAAI,IAAI,CAAC,WAAW,CAAC,EAAQ,CAC7D,GACA,EAAc,UADC,AACS,CAAC,WAAW,CAAC,GACrC,OAAO,IAAI,CAAC,WAAW,CAAC,EAAQ,GAEhC,IAAI,CAAC,QAAQ,CAAC,EAAQ,CAAC,OAAO,CAAC,SAAS,CAAK,EACzC,OAAO,EAAM,MAAM,CAAC,UAAU,CAAC,EACnC,GACA,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAQ,EAEjC,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAQ,AACzC,CACJ,EACA,EAAO,MAAM,CAAG,SAAS,AAAO,CAAK,CAAE,CAAS,EAC5C,IAAI,CAAC,GAAG,CAAC,GACT,IAAI,CAAC,MAAM,CAAC,EAChB,EACA,EAAO,KAAK,CAAG,SAAS,EACpB,IAAI,CAAC,MAAM,CAAC,KAAK,GACjB,IAAI,CAAC,MAAM,CAAC,MAAM,GAClB,IAAI,CAAC,WAAW,MAAG,EACnB,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,gBAAgB,CAAG,CAAC,CAC7B,EACA,EAAO,QAAQ,CAAG,SAAS,EACvB,IAAI,EAAQ,IAAI,CACZ,EAAa,IAAI,CAAC,WAAW,CAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,SAAS,CAAO,EAClF,MAAO,CACH,EACA,EAAM,WAAW,CAAC,EAAQ,CAC7B,AACL,GAAK,EAAE,CACH,EAAW,IAAI,CAAC,MAAM,CAAC,QAAQ,GACnC,OAAO,EAAW,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,SAAS,CAAO,EACpE,MAAO,CACH,EACA,EAAM,QAAQ,CAAC,EAAQ,CAAC,GAAG,CAAC,SAAS,CAAK,EACtC,OAAO,CAAQ,CAAC,EAAM,CAAC,OAAO,AAClC,GAAG,IAAI,CAAC,EAAM,iBAAiB,CAAG,GAAK,MAC1C,AACL,GACC,AADC,MACK,CAAC,SAAS,CAAI,EACjB,MAFuB,CAEhB,CAAQ,CAAI,CAAC,EACxB,AAD0B,GAE9B,EACA,EAAO,MAAM,CAAG,SAAgB,AAAP,CAAc,UACnC,OAAO,AAlHU,EAkHM,IAAI,CAAC,CAlHH,OAkHW,GAjHpC,AAAY,KAAK,KADU,EAkHa,KAlHN,AACd,EAAU,EAAC,EAC5B,EAAS,GAAG,CAAC,SAAS,CAAI,EAC7B,IAAI,EAAK,CAAI,CAAC,EAAE,CACZ,EAAM,CAAI,CAAC,EAAE,CACjB,OAAqB,AAAd,EAA6B,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,QAAS,CAClE,GAAI,KAAO,EAEX,IAAK,KAAO,EACZ,MAAO,EAAQ,KAAK,CAAG,EAAQ,KAAK,MAAG,EACvC,wBAAyB,CACrB,OAAQ,CACZ,CACJ,EACJ,EAqGA,EACA,EAAO,aAAa,CAAG,SAAS,AAAc,CAAK,EAC/C,IAAI,EAAM,EAAM,QAAQ,CAAE,EAAU,EAAM,OAAO,CAAE,EAAK,EAAM,EAAE,CAChE,GAAI,EAAS,CACT,IAAI,EAAU,EAAU,EAAI,GAC5B,MAAO,CACH,QAAS,EACT,MAAO,MAAM,OAAO,CAAC,GAAO,EAAI,GAAG,CAAC,SAAS,CAAI,EAC7C,OAAO,EAAgB,EAAS,EACpC,GAAK,CACD,EAAgB,EAAS,GAC5B,AACL,CACJ,CACA,MAAO,CACH,QAAS,EAAU,GACnB,MAAO,MAAM,OAAO,CAAC,GAAO,EAAM,CAC9B,EACH,AACL,CACJ,EAKE,EAAO,gBAAgB,CAAG,SAAS,EAEjC,OADe,AACR,MADc,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,gBAAgB,CAAC,mBACpD,MAAM,CAAC,SAAS,CAAG,CAAE,CAAO,EAGxC,OADA,CAAG,CAAC,AADK,EAAQ,EAAE,CAAC,KAAK,CAAC,GACnB,CAAG,EACH,CACX,EAAG,CAAC,EACR,EACO,CACX,IAMI,EAAkC,EAAM,aAAa,CAAC,EAAlC,IAExB,OAFmC,EAE1B,IACL,OAAO,IAAI,CACf,CAWA,SAAS,IACL,OAAO,EAAM,UAAU,CAAC,EAC5B,CAMA,SAAS,EAAS,CAAK,EACnB,IAAI,EAA+C,SAApC,EAEV,GAID,EAAS,GAAG,CAAC,CAJF,EACJ,IAiBf,CA3CA,EAAkB,WAAW,CAAG,KAuBK,eAHZ,EAAe,OAAU,CAAC,IAAZ,cAA8B,EAAI,EAAe,OAAU,CAAC,IAAZ,WAA2B,CAwBlH,EAAS,OAAO,CAAG,SAAS,CAAI,EAC5B,OAAO,EAAK,GAAG,CAAC,SAAS,CAAO,EAG5B,OAAO,EAFM,CAAO,CAAC,EAAE,CACX,CAAO,CAAC,CACH,CADK,CAE1B,GAAG,GAD0B,CACtB,CAAC,IACZ,EAEA,EAAQ,aAAa,CAhDrB,EAgDwB,OAhDf,AAAc,CAAK,EACxB,IAAI,EAAqB,EAAM,QAAQ,CAAE,EAAW,EAAM,QAAQ,CAC9D,EAAe,EAAM,UAAU,CAAC,GAGhC,EAFM,AAEK,EAFC,QAAQ,CAAC,WACrB,OAAO,GAAgB,GAAsB,GACjD,EAAkB,CAAC,EAAE,CACrB,OAAqB,AAAd,EAA6B,OAAU,CAAC,CAA7B,GAAiB,SAAyB,CAAC,EAAkB,QAAQ,CAAE,CACrF,MAAO,CACX,EAAG,EACP,EAwCA,EAAQ,mBAAmB,CAAG,EAC9B,EAAQ,KAAK,CAAG,EAChB,EAAQ,gBAAgB,CAAG,mBClf3B,EAAO,OAAO,CAAG,EAAA,CAAA,CAAA,OAAwB,KAAK,uDCE9C,EAAA,EAAA,CAAA,CAAA,OCsGO,IAAM,EAA8F,CACzG,QAAS,CAAE,KAAM,OAAQ,MAAO,UAAW,UAAW,IAAK,EAC3D,QAAS,CAAE,KAAM,OAAQ,MAAO,MAAO,UAAW,IAAK,EACvD,QAAS,CAAE,KAAM,OAAQ,MAAO,WAAY,UAAW,IAAK,CAC9D,EDxGA,IAAA,EAAA,EAAA,CAAA,CAAA,OAsBe,SAAS,IACtB,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,SAChD,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,GACpC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,EAAE,EACzD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,EAAE,EACvD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACnC,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,SAEtE,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACnC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAC3C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuC,aACjF,CAAC,EAAuB,EAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5E,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAG3D,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkE,MAC5G,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkE,MACtH,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/C,CAAC,EAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmD,MAGzG,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAiBV,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAUV,EAAG,CAAC,EAAO,EAAgB,EAAS,EAGpC,IAAM,GAAc,CACpB,CAAE,GAAI,aAAc,KAAM,cAAe,MAAO,IAAK,MAAO,iBAAkB,EAC9E,CAAE,GAAI,YAAa,KAAM,aAAc,MAAO,KAAM,MAAO,gBAAiB,EAC5E,CAAE,GAAI,aAAc,KAAM,cAAe,MAAO,KAAM,MAAO,iBAAkB,EAC/E,CAAE,GAAI,aAAc,KAAM,cAAe,MAAO,IAAM,MAAO,iBAAkB,EAC/E,CAAE,GAAI,aAAc,KAAM,cAAe,MAAO,IAAM,MAAO,iBAAkB,EAChF,CAqBO,CAAC,GAAS,GAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAC,KAClC,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,GACzC,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC7C,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,GAAW,GAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAE/C,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,EAAE,EAClE,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,CAAC,GAE9D,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAmD,EAAE,EACnF,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA+E,CAC3H,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,OAAO,EAAO,MAAM,CAC7D,GAEM,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnD,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC/C,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EAC3D,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,GAAU,GAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAkC,MAG5D,GAAe,CACnB,EAAG,CACD,MAAO,0BACP,SAAU,0CACV,aAAc,CAAC,CAAE,KAAM,YAAa,KAAM,SAAU,MAAO,SAAU,EAAE,CACvE,UAAW,CACb,EACA,EAAG,CACD,MAAO,0BACP,SAAU,+DACV,aAAc,CAAC,CAAE,KAAM,aAAc,KAAM,QAAS,MAAO,UAAW,EAAE,CACxE,UAAW,CACb,EACA,EAAG,CACD,MAAO,mBACP,SAAU,iGACV,aAAc,CACZ,CAAE,KAAM,YAAa,KAAM,OAAQ,EACnC,CAAE,KAAM,QAAS,KAAM,QAAS,KAAM,KAAM,EAC5C,CAAE,KAAM,QAAS,KAAM,QAAS,KAAM,OAAQ,EAC/C,CACD,UAAW,CACb,CACF,EAEM,GAAqB,GAAS,EAAI,EAAY,CAAC,EAAmB,CAAG,KAG3E,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,GAAkB,UAAd,EAAuB,CACzB,GAAW,CAAC,KACZ,IAAa,GACb,IAAc,GACd,IAAkB,GAElB,IAAM,EAAS,YAAY,KACzB,GAAW,IAET,IAAM,EAA6B,IAApB,OAAO,UAAU,QAC5B,AAAJ,GAAY,GACV,KADkB,SACJ,GACd,IAAa,GAEb,WAAW,KACT,IAAkB,GAClB,WAAW,IAAM,GAAc,IAAO,IACxC,EAAG,KACI,GAEF,EAAO,EAChB,EACF,EAAG,IAEH,MAAO,IAAM,cAAc,EAC7B,CACF,EAAG,CAAC,EAAU,EAGd,IAAM,GAAuB,AAAC,IAC5B,IAAM,EAAmB,EAAE,CAQrB,EALY,AAKF,CALI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,CAK7B,CAAC,EAAuC,EAAI,GAC/D,EALc,AAKD,CALG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAE,CAKrB,CAAC,EAAyC,EAAI,EACtE,EAJuB,AAIV,CAJY,EAAG,GAAK,EAAG,IAAM,EAAG,GAAK,EAAG,IAAM,EAAG,CAAI,CAIjC,CAAC,EAAkD,EAAI,EAIxF,EADkE,AACrD,MAAe,EAAU,CAAC,EAEzC,EAAS,CAFoB,CAIjC,IAAK,IAAI,EAAM,EAAG,EAAM,EAAS,IAAO,CAOtC,IAAM,EAAe,IAAO,KAJD,CAIO,CALX,AACS,KADJ,GAAG,CAAC,EAAM,EAAU,IAAM,CAAD,EAAW,AAKT,CALU,CAChB,EAAA,GAGvB,GAAsB,GAAhB,KAAK,MAAM,EAAK,EAC2B,EAGrE,EAAQ,EAAM,EAAe,IAAmB,EAGtD,IAAK,IAH4C,AAGxC,EAAI,EAAG,EAAI,EAAY,IAAK,CACnC,IAAM,EAAa,GAAgB,GAAO,EAAI,EAAc,EAAA,CAAG,CAC/D,CADkC,CACzB,IAAI,CAAC,CACZ,GAAI,IACJ,EAAG,GAAwB,GAAhB,CAAD,IAAM,MAAM,GAAU,CAAC,EACjC,EAAG,CAAC,EACJ,SAA0B,IAAhB,KAAK,MAAM,GACrB,MAAO,IAAuB,GAAhB,KAAK,MAAM,GACzB,MAAQ,AAAI,MAAS,AAAgB,QAAX,MAAM,GAChC,SAAU,EACV,UAAW,CACb,EACF,CACF,CAEA,EAAiB,GACjB,GAAqB,GACrB,WAAW,IAAM,GAAqB,GAAQ,KAChD,EAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAa,KAEjB,EADwB,OAAO,CACrB,cADoC,CAAC,SAAS,GAE1D,EAEA,IACA,OAAO,eAAe,CAAC,eAAe,CAAG,CAC3C,EAAG,EAAE,EAyEL,IAAM,GAAiB,AAAC,IAEtB,IAAM,EAAc,GAAc,EAC5B,EAAS,EAAY,CAAC,EAAyB,CACrD,GAAI,CAAC,EAAQ,OAEb,QAAQ,GAAG,CAAC,CAAC,cAAc,EAAE,EAAY,cAAc,EAAE,EAAO,KAAK,CAAA,CAAE,EAGnE,IACF,GAAS,GADG,EACE,GAGhB,IAAM,EAAQ,IAAI,MAClB,EAAM,OAAO,CAAG,OAChB,EAAM,GAAG,CAAG,EAAO,KAAK,CACxB,EAAM,MAAM,CAAG,GACf,GAAiB,GAEjB,EAAM,SAAS,CAAG,KAChB,QAAQ,GAAG,CAAC,kBACZ,EAAM,IAAI,GAAG,IAAI,CAAC,KAChB,QAAQ,GAAG,CAAC,6BACd,GAAG,KAAK,CAAC,IACP,QAAQ,KAAK,CAAC,eAAgB,GAC9B,GAAS,EAAO,QAAQ,CAC1B,EACF,EAEA,EAAM,OAAO,CAAG,KACd,QAAQ,GAAG,CAAC,eACZ,GAAiB,GAGb,IAAY,IACd,GAAS,IAAI,GADe,AACZ,KAAK,CAAC,KAAO,EAEjC,EAEA,EAAM,OAAO,CAAG,AAAC,IACf,QAAQ,KAAK,CAAC,mCAAoC,GAClD,MAAM,EAAO,KAAK,EACf,IAAI,CAAC,IACJ,QAAQ,GAAG,CAAC,gBAAiB,EAAI,MAAM,CAAE,EAAI,UAAU,EACnD,AAAC,EAAI,EAAE,EAAE,AACX,GAAS,EAAO,QAAQ,CAE5B,GACC,KAAK,CAAC,IACL,QAAQ,KAAK,CAAC,qBAAsB,GACpC,GAAS,EAAO,QAAQ,CAC1B,EACJ,CACF,EAUM,GAAuB,AAAC,IAExB,KACF,GAAS,EADG,GACE,GACd,GAAS,WAAW,CAAG,EACvB,GAAS,GAAG,CAAG,IAIO,aAApB,AAAiC,OAA1B,UACT,SAAS,gBAAgB,CAAC,SAAS,OAAO,CAAC,AAAC,IAEtC,EAAQ,GAAG,EADC,AACG,EAAQ,GAAG,CAAC,QAAQ,CAAC,gBAAgB,CACtD,EAAQ,KAAK,GACb,EAAQ,WAAW,CAAG,EACtB,EAAQ,GAAG,CAAG,GAElB,GAGF,IAAM,EAAoC,UAAtB,OAAO,EAA0B,EAAa,EAC5D,EA3BN,AAAI,AA2B+B,GA3B1B,EAAU,CAAP,IA2BM,qBA1Bd,AAAM,GAAG,GAAO,0BACb,0BA2BP,CA3BkC,OA2B1B,GAAG,CAAC,CAAC,KA3BsC,uBA2BV,EAAE,EAAY,EAAE,EAAE,EAAA,CAAW,EAEtE,IAAM,EAAQ,IAAI,MAAM,GACxB,EAAM,IAAI,EAAG,EACb,EAAM,MAAM,CAAG,IACf,EADqB,AACf,IAAI,GAAG,KADoB,AACf,CAAC,KAAO,GAC1B,GAAY,GACZ,IAAgB,GAChB,IAAgB,EAClB,EAGM,GAAsB,KAC1B,QAAQ,GAAG,CAAC,yBACR,KACF,GAAS,EADG,GACE,GACd,GAAS,WAAW,CAAG,EACvB,GAAS,GAAG,CAAG,IAGO,aAApB,AAAiC,OAA1B,UACT,SAAS,gBAAgB,CAAC,SAAS,OAAO,CAAC,AAAC,IAEtC,EAAQ,GAAG,EAAI,EAAQ,GAAG,CAAC,QAAQ,CAAC,gBAAgB,CADxC,AAEd,EAAQ,KAAK,GACb,EAAQ,WAAW,CAAG,EACtB,EAAQ,GAAG,CAAG,GAElB,GAEF,IAAgB,EAClB,EAEM,GAAW,AAAC,IAChB,GAAI,oBAAqB,OAAQ,CAC/B,OAAO,eAAe,CAAC,MAAM,GAC7B,IAAM,EAAY,IAAI,yBAAyB,GAC/C,EAAU,IAAI,CAAG,EACjB,IAAM,EAAQ,CAhMD,KAEjB,IAAM,EAAQ,CCtQe,CAC7B,EACA,KAEA,IAAM,EAAS,EAAK,KAAK,CAAC,IAAI,CAAC,EAAE,CAUjC,CAVmC,GAU9B,IAAM,IAAQ,CAP0C,CAC3D,EAJgD,MAIvC,CAAC,WAAY,QAAS,QAAS,QAAS,QAAS,WAAY,OAAQ,QAAQ,CACtF,QAAS,CAAC,OAAQ,OAAQ,QAAS,aAAa,CAChD,QAAS,CAAC,SAAU,SAAU,UAAW,SAAU,kBAAkB,CACvE,CAGkC,CAAC,EAAK,EAAI,EAAE,CAAE,CAC9C,IAAM,EAAQ,EAAO,IAAI,CAAC,GAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,IAC/C,GAAI,EAAO,OAAO,CACpB,CAGA,IAAM,EAAY,EAAO,IAAI,CAAC,GAC5B,EAAE,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,IAChC,CAAC,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,SAEjC,GAAI,EAAW,OAAO,EAGtB,IAAM,EAAe,EAAO,IAAI,CAAC,GAAK,EAAE,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,WACtE,AAAI,GAGG,CAAM,CAAC,EAAE,EAAI,IACtB,CAJoB,ED0OY,EAAQ,GC1Ob,AD2OzB,GAAI,EAAO,OAAO,EAKlB,IAAK,IAAM,IAFO,CAAC,GAEA,QAFY,QAAS,QAAS,QAAS,QAAS,WAAY,OAAQ,QAAQ,CAEjE,CAC5B,IAAM,EAAI,EAAO,IAAI,CAAC,GAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,IAC3C,GAAI,EAAG,OAAO,CAChB,CAOA,OAAO,AALc,EAAO,IAAI,CAAC,GAC/B,EAAE,IAAI,CAAC,UAAU,CAAC,OAClB,CAAC,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,UAGV,EAAO,IAAI,CAAC,GAAK,EAAE,IAAI,CAAC,UAAU,CAAC,QAAU,CAAM,CAAC,EAAE,CAC/E,IA8KU,IAAO,EAAU,KAAK,CAAG,CAAA,EAC7B,EAAU,IAAI,CAAG,EACjB,EAAU,KAAK,CAAG,IAClB,EAAU,MAAM,CAAG,EACnB,GAAiB,GACjB,EAAU,KAAK,CAAG,KAChB,GAAiB,GAEb,IAAY,IACd,GAAS,IAAI,GADe,AACZ,KAAK,CAAC,KAAO,EAEjC,EACA,OAAO,eAAe,CAAC,KAAK,CAAC,EAC/B,CACF,EAiLM,GAAY,CAAC,EAAmB,KAEhC,IACF,GAAS,GADG,EACE,GAGhB,IAAM,EAAQ,IAAI,MAAM,GACxB,EAAM,MAAM,CAAG,GACf,GAAiB,GAGjB,IAAM,EAAiB,EAAU,QAAQ,CAAC,eAAiB,EAAU,QAAQ,CAAC,oBAE9E,GAAM,SAAS,CAAG,KAChB,EAAM,IAAI,GAAG,KAAK,CAAC,IACjB,QAAQ,KAAK,CAAC,eAAgB,GAC9B,GAAiB,EACnB,EACF,EAEA,EAAM,OAAO,CAAG,KACd,GAAiB,GACb,GAAO,IAEP,IAAY,IAAgB,CAAC,GAC/B,GAAS,IAAI,GAAG,GAD+B,EAC1B,CAAC,KAAO,EAEjC,EAEA,EAAM,OAAO,CAAG,KACd,QAAQ,KAAK,CAAC,eAAgB,GAC9B,EAAiB,GACnB,CACF,EAGM,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAuF,CAAC,GACtI,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAErD,GAAqB,KACzB,GAAI,CAAC,GAAY,IAAI,GAAI,OAEzB,IAAM,EAAQ,GAAY,WAAW,GAKrC,GAJA,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,SAAU,KAAM,EAAY,EAAE,EACtE,GAAe,IAGX,IACF,GAAI,EAAM,QAAQ,CAAC,CADE,OACQ,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,iBAAoB,EAAM,QAAQ,CAAC,eAAiB,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,cAAiB,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,QAAU,EAAM,QAAQ,CAAC,QAAU,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,MAAO,CAEpc,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,8CAAS,EAAE,EAEhE,KAGA,EAAA,OAAO,CAAC,OAAO,CAAC,kBAAmB,CACjC,MAAO,EACP,aAAc,GACd,cAAe,EACf,aAAc,iBACd,KAAM,QACR,GAEA,GAAU,wBAAyB,KACjC,EAAS,GAAQ,EAAO,IACxB,GAAqB,GACrB,EAAmB,eACnB,EAAa,WACf,GACA,MACF,MAAO,GAAI,EAAM,QAAQ,CAAC,OAAS,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,SAAU,CAC9I,GAAqB,IACrB,GAAe,CAAE,MAAM,EAAO,MAAM,EAAO,KAAM,GAAO,OAAO,EAAO,KAAM,EAAM,GAClF,GAAsB,CAAC,GAEvB,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,yCAAS,EAAE,EAChE,GAAU,iCACV,OACF,CAIF,GAAI,EAAM,QAAQ,CAAC,qBAAuB,EAAM,QAAQ,CAAC,iBAAmB,EAAM,QAAQ,CAAC,eAAiB,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,aAAc,CAEtK,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,wEAAS,EAAE,EAChE,GAAU,yBACV,MACF,CAGA,GAAI,EAAM,QAAQ,CAAC,OAAS,EAAM,QAAQ,CAAC,gBAAkB,EAAM,QAAQ,CAAC,UAAY,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,kBAAoB,EAAM,QAAQ,CAAC,gBAAkB,EAAM,QAAQ,CAAC,UAAY,EAAM,QAAQ,CAAC,WAAY,CAE5O,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,mGAAS,EAAE,EAChE,GAAU,yBACV,MACF,CAEA,IAAM,EAAW,CAAE,GAAG,EAAW,AAAC,EAC5B,EAAa,CAAE,GAAG,EAAkB,AAAC,EAGrC,EAAa,EAAM,QAAQ,CAAC,gBAAkB,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,KAMhI,GAHsB,AACE,AAEpB,CAHmB,eAAgB,OAAQ,SAAU,YAAa,YAAa,cAAe,SAAU,OAAQ,MAAO,SAAU,gBAAgB,CAC/G,IAAI,CAAC,GAAS,EAAM,QAAQ,CAAC,KAE5C,CAAC,GAAY,IAAI,CAAE,CAExC,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,0DAAS,EAAE,EAChE,GAAU,2BACV,WAAW,IAAM,EAAY,IAAO,KACpC,MACF,CAGI,EAAM,QAAQ,CAAC,cAAc,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aAClE,EAAM,QAAQ,CAAC,eAAe,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,cACxE,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SACnE,EAAM,QAAQ,CAAC,eAAe,AAAE,EAAS,IAAI,CAAG,GAAM,EAAW,IAAI,CAAG,cACxE,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,aAAa,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aACrG,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SACnE,EAAM,QAAQ,CAAC,aAAa,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,YAG3E,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SAC9D,EAAM,QAAQ,CAAC,WAAW,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,UACpE,EAAM,QAAQ,CAAC,UAAU,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SAGxE,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,QAAU,EAAM,QAAQ,CAAC,SAAW,AAAF,EAAW,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,QAChH,EAAM,QAAQ,CAAC,QAAQ,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,OAGtE,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,WAClE,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,WACvE,EAAM,QAAQ,CAAC,aAAa,AAAE,EAAS,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,aACxE,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,QAAA,GAAU,CAAE,EAAS,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,QAGtH,AACjB,CADkB,YAAa,WAAW,CAC7B,QAAQ,CAAC,EAAW,IAAI,EAAI,KAAK,CAChD,EAAS,IAAI,EAAG,EAChB,EAAW,IAAI,CAAG,QAIhB,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,QAAU,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,UAAY,EAAM,QAAQ,CAAC,YAAyB,AAAV,UAAmB,EAAM,UAAU,CAAC,QAAU,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,eAAe,AAClT,EAAS,IAAI,EAAG,EAChB,EAAW,IAAI,CAAG,QACT,EAAM,QAAQ,CAAC,QAAQ,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,YACnE,EAAM,QAAQ,CAAC,WAAW,AAAE,EAAS,IAAI,CAAG,GAAM,EAAW,IAAI,CAAG,eACpE,EAAM,QAAQ,CAAC,UAAY,AAAF,EAAW,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,cACnE,EAAM,QAAQ,CAAC,SAAS,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aAClE,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,eAC9H,EAAM,QAAQ,CAAC,QAAQ,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,YAE1E,GAAe,GACf,GAAsB,GAEtB,WAAW,KACT,IAAI,EAAW,GACX,EAAY,GAGhB,GAAI,GAAc,CAAC,EAAS,IAAI,EAAE,CAC5B,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,QAAU,EAAM,QAAQ,CAAC,UAAY,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,MAAA,EAAQ,CACrI,EAAW,2DACX,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAAM,CAAS,EAAE,EAChE,GAAU,uBACV,MACF,CAGF,GAAK,CAAD,CAAU,IAAI,CAGX,CAHa,EAGR,CAAD,CAAU,IAAI,CAGlB,CAHoB,EAGf,CAAD,CAAU,IAAI,CAGlB,CAHoB,EAGf,CAAD,CAAU,IAAI,CAGlB,CAHoB,AAKzB,IAAM,EAA+B,SAApB,EAAW,IAAI,CAAc,GAAK,CAAC,MAAM,EAAE,EAAW,IAAI,CAAA,CAAE,CACvE,EAAY,EAAW,KAAK,EAAyB,SAArB,EAAW,KAAK,CAAc,CAAC,CAAC,EAAE,EAAW,KAAK,CAAA,CAAE,CAAG,GAC7F,EAAW,CAAC,YAAY,EAAE,EAAW,IAAI,CAAC,CAAC,EAAE,EAAW,IAAI,CAAA,EAAG,EAAU,CAAC,EAAE,EAAW,IAAI,CAAA,EAAG,EAAS,2CAA2C,CAAC,CACnJ,IAAqB,EACvB,MARE,EAAW,oEACX,EAAY,kCAJZ,EAAW,uCACX,EAAY,qCAJZ,EAAW,qDACX,EAAY,2BAJZ,EAAW,sCACX,EAAY,sBAkBd,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAAM,CAAS,EAAE,EAC5D,GAAW,GAAU,EAC3B,EAAG,IACL,EAgBM,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA+E,CAC3H,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,KAAM,GAAO,MAAO,EAC7D,GAEM,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAuF,CAAC,GACtI,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,KACzC,CAAC,GAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,GAAuB,GAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAiM7D,GAAe,KACnB,GAAI,EAAQ,EAAG,CAEb,IAAM,EAAa,EAAQ,GAC3B,EAAS,GAGS,IAAd,GAAiC,GAAG,CAAjB,IAErB,EAAa,WACb,GAAgB,GAChB,GAAoB,EAAE,EACtB,GAAe,CAAC,GAChB,GAAkB,GAClB,IAAgB,GAEhB,WAAW,KACT,GAAe,GACf,GAAqB,EACvB,EAAG,MACoB,GAAG,CAAjB,GAET,EAAa,WACb,GAAgB,GAChB,IAAgB,GAChB,GAAc,EAAE,EAChB,GAAe,CAAE,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,MAAO,GAAO,KAAM,EAAM,GAClF,GAAsB,CAAC,GACvB,IAAqB,GAErB,GAAc,CAAC,CAAE,KAAM,MAAO,KADb,CACmB,gDAAS,EAAE,EAC/C,GAAU,iCACV,MACuB,GAAG,CAAjB,IAET,EAAa,WACb,GAAgB,GAChB,IAAgB,GAChB,GAAe,CAAE,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,KAAM,GAAO,OAAO,CAAM,GAClF,GAAsB,CAAC,GACvB,GAAe,KACf,GAAqB,IACrB,GAAyB,IACzB,GAAoB,IACpB,GAAkB,EAAE,EACpB,GAAU,8BACV,KAEJ,MAEE,CAFK,CAEI,GACT,EAAa,SACb,GAAoB,EAAE,EACtB,GAAe,CAAC,GAChB,GAAc,EAAE,EAChB,GAAe,CAAE,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,OAAO,EAAO,KAAM,EAAM,GAClF,GAAoB,IACpB,GAAkB,EAAE,EACpB,GAAkB,GAClB,IAAgB,GAChB,GAAe,GACf,GAAiB,GACjB,GAAW,CAAC,KACZ,IAAkB,EAEtB,EAGM,GAAa,CAAC,WAAE,EAAY,EAAE,MAAE,EAAO,EAAE,CAAyC,GACtF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAI,mBACJ,IAAI,OACJ,MAAO,EACP,OAAQ,EACR,UAAW,CAAC,aAAa,EAAE,EAAA,CAAW,CACtC,MAAO,CACL,MAAO,EACP,OAAQ,EACR,OAAQ,4CACV,IAIJ,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,4DAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,MAAO,CAAE,gBAAiB,CAAC,eAAe,CAAC,AAAC,2CADlC,8BAKZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uBAGf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,oGAGf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,+EAGd,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,yFACZ,EAAc,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAGC,MAAO,CACL,OAAQ,CAAA,EAAG,EAAK,CAAC,CAAC,EAAE,CAAC,CACrB,OAAQ,CAAA,EAAG,EAAK,CAAC,CAAC,EAAE,CAAC,CACrB,MAAO,EAAK,KAAK,CACjB,eAAgB,CAAA,EAAG,EAAK,KAAK,CAAC,CAAC,CAAC,AAClC,2CANU,+BAQV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,WACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,GAAI,UAAU,+CAChC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,mEAXZ,EAAK,EAAE,KAmBpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,gFACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,0BAA2B,yBAE5C,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAjsBQ,CAisBC,IAhsBf,IAEE,IACF,GAAS,GAHK,AAEF,EACE,GAGQ,aAAa,AAAjC,OAAO,UACT,SAAS,gBAAgB,CAAC,SAAS,OAAO,CAAC,AAAC,IAEtC,EAAQ,GAAG,EAAI,EAAQ,GAAG,CAAC,QAAQ,CAAC,gBADxB,AACwC,AACtD,EAAQ,KAAK,EAEjB,GAEF,IAAgB,GAGhB,EAAA,OAAO,CAAC,OAAO,CAAC,gBAAiB,CAAE,SAAS,CAAM,KAG9C,IACF,GAAS,GADG,CACC,GAAG,KAAK,CAAC,KAAO,GAE/B,IAAgB,GAGhB,EAAA,OAAO,CAAC,OAAO,CAAC,gBAAiB,CAAE,SAAS,CAAK,GAErD,2CAqqBsB,6GAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,wBAA0B,GAAe,KAAO,SAIpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,wGACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,2CAAM,CAAY,CAAC,EAAiB,CAAC,IAAI,GAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,iCAAmC,CAAY,CAAC,EAAiB,CAAC,SAAS,SAG/F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0GACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,iDAAmD,OAErE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,iFACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,0CAAe,4BAA4B,SAAO,EAAM,gBAM9D,KAA+B,UAAd,CAAD,EAAwC,YAAd,CAAc,CAAS,EAChE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,MAAO,CACL,KAAM,CAAA,EAAG,GAAQ,EAAE,CAAC,CACpB,UAAW,CAAC,MAAM,EAAE,GAAY,CAAC,CAAC,CAClC,QAAS,EACX,2CALU,0BAOV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,GAAY,0BAA4B,oBAC7C,IAAI,YAEJ,MAAO,CACL,OAAQ,0CACV,YAHW,CAAC,iDAA4B,EAAE,GAAY,eAAiB,GAAA,CAAI,GAK7E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,gGAAiG,qBAQtH,AAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,WAAe,CAAC,wGAAmF,EAAE,GAAiB,cAAgB,YAAA,CAAa,UAClJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,0CAAY,2CAA2C,SAAO,EAAM,WACrE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,kGAAmG,uBAGjH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,wGAAyG,sDAGtH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,4FACV,GAAS,GAAK,GACX,CAAC,+BAA+B,EAAmC,IAAjC,GAAmB,SAAS,CAAS,aAAe,CAAC,MAAM,EAAE,GAAmB,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7H,IAAV,EACE,kCACA,+BAGR,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,6FAA8F,gDAG3G,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA1uBM,CA0uBG,IAzuBnB,EAAa,WACb,EAAkB,IAClB,IAAa,GAGb,EAAA,OAAO,CAAC,OAAO,CAAC,uBAAwB,CACtC,MAAO,EACP,cAAe,EACf,aAAc,gBAChB,GAGA,IAAM,EAAe,YAAY,KAC/B,GAAW,IACT,MAeA,IAfM,EAAS,OAAO,UAAU,CAAG,EAAI,UACvC,AAAI,GAAQ,GACV,KADkB,SACJ,GAUpB,IAAa,GAET,EAAQ,IACE,EAER,EAAiB,YAAY,KACjC,GAAS,IACT,GAAW,IACX,GAAe,GACf,GAAiB,GAEb,GAAS,GAAG,CACd,cAAc,GACd,IAAgB,GAChB,EAAa,WACb,EAAgB,IAChB,KACA,GAAqB,GAEzB,CAF6B,CAE1B,IA3BU,GAEF,EAAO,EAChB,EACF,EAAG,GACL,EAmtBY,KA/rB6C,IA+rBnC,CAAC,4CACD,oQACX,uBAQQ,YAAd,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,mDAAoD,0BAKtD,YAAd,GAA2B,GAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,4DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,kCAGZ,CAAW,IAAV,GAAyB,IAAV,OAAe,CAAU,CAAC,EAAK,IAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,qFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,+BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAI,yBACJ,IAAI,sBACO,CAAC,+GAA0F,EAAE,EAAgB,sEAAwE,GAAA,CAAI,GAEtM,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,SACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,qDAAsD,gBAElE,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,oCAAsC,GAAmB,QAAQ,GAE9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,gCAAiC,8BAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QA/zBF,CA+zBW,IA9zB3B,GAAS,IAAI,CACf,EAAS,GAAQ,EAAO,IACxB,GAAkB,GAGlB,EAAA,OAAO,CAAC,OAAO,CAAC,uBAAwB,CACtC,MAAO,EACP,YAAa,GACb,cAAe,CACjB,GAEJ,EAozBwB,SAAU,EAAQ,aACP,CAAC,+GAA0F,EACpG,GAAS,GACL,4EACA,iDAAA,CACJ,WACH,oBACkB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAAM,YAK/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA/uBA,CA+uBS,IA9uB3B,IACF,2CA8uB8B,sGACX,iCAOL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,0CAAY,6CAA6C,oBAAkB,GAAiB,MAAM,CAAC,eAEpG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,wCACZ,GAAiB,GAAG,CAAC,CAAC,EAAM,IAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CAlvBnC,GAAoB,GAAiB,MAAM,CAAC,CAAC,EAAG,IAAM,IAkvBH,EAlvBS,4CAmvB9B,4JAET,EAAK,IAAI,CAAC,IAAE,EAAK,IAAI,CAAC,IAAE,EAAK,IAAI,EAAI,CAAC,CAAC,EAAE,EAAK,IAAI,CAAC,CAAC,CAAC,CAAC,IAAE,EAAK,KAAK,EAAI,CAAC,EAAE,EAAE,EAAK,KAAK,CAAA,CAAE,CAAC,OAJpF,MASX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,8BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,8CAA+C,SAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,qBACZ,CAAC,YAAa,QAAS,aAAc,aAAc,YAAa,QAAS,WAAW,CAAC,GAAG,CAAC,AAAC,GACzF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAe,CAAC,GAAG,EAAW,MAAE,CAAI,aACxC,CAAC,yEAAoD,EAAE,GAAY,IAAI,GAAK,EAAO,0BAA4B,uDAAA,CAAwD,UAEjL,GAJI,SASb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,8CAA+C,SAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,qBACZ,CAAC,QAAS,SAAU,QAAQ,CAAC,GAAG,CAAE,AAAD,GAChC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAe,CAAC,GAAG,EAAW,MAAE,CAAI,aACxC,CAAC,yEAAoD,EAAE,GAAY,IAAI,GAAK,EAAO,0BAA4B,uDAAA,CAAwD,UAEjL,GAJI,SASb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,8CAA+C,SAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,qBACZ,CAAC,OAAQ,QAAS,MAAO,SAAU,SAAS,CAAC,GAAG,CAAC,AAAC,GACjD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAe,CAAC,GAAG,EAAW,CAAE,KAAe,SAAT,OAAkB,EAAY,CAAI,aAC5E,CAAC,yEAAoD,EAAG,GAAY,IAAI,GAAK,GAAS,CAAC,GAAY,IAAI,EAAa,SAAT,EAAoB,0BAA4B,uDAAA,CAAwD,UAE7N,GAJI,SASb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,8CAA+C,UAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,qBACZ,CAAC,OAAQ,UAAW,UAAW,WAAW,CAAC,GAAG,CAAC,AAAC,GAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAe,CAAC,GAAG,EAAW,CAAE,MAAiB,SAAV,OAAmB,EAAY,CAAK,aAC/E,CAAC,yEAAoD,EAAG,GAAY,KAAK,GAAK,GAAU,CAAC,GAAY,KAAK,EAAc,SAAV,EAAqB,0BAA4B,uDAAA,CAAwD,UAEjO,GAJI,YAWf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAh0BD,CAg0BU,IA/zBtB,IACD,GAAY,IAAI,EAAI,GAAY,IADX,AACe,EAAI,GAAiB,MAAM,CAAG,GAAmB,SAAS,EAAE,CAClG,GAAoB,IAAI,GAAkB,GAAyB,EACnE,GAAe,CAAC,GAEpB,EA2zBoB,SAAU,CAAC,GAAY,IAAI,EAAI,CAAC,GAAY,IAAI,EAAI,GAAiB,MAAM,EAAI,GAAmB,SAAS,0CACjG,8JACX,eAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QA3zBA,CA2zBS,IA1zB3B,GAAI,CAAC,GAAoB,OAEzB,IAAM,EAAY,AAAC,GACjB,EAAM,GAAG,CAAC,GAAK,CAAA,EAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,EAAI,OAAO,CAAC,EAAE,EAAE,KAAK,EAAI,OAAA,CAAQ,EAAE,IAAI,GAAG,IAAI,CAAC,KAI7F,GAFkB,CAEd,CAFwB,MAAsB,EAAU,GAAmB,YAAY,EAE5E,CAEb,KAEA,IAAM,EAAuB,IAAV,EAAc,GAAe,IAAV,EAAc,GAAK,GAGzD,EAAA,OAAO,CAAC,OAAO,CAAC,kBAAmB,CACjC,MAAO,EACP,aAAc,EACd,cAAe,EACf,aAAc,iBACd,KAAM,mBACR,GAGA,GAAU,wBAAyB,KACjC,EAAS,GAAQ,EAAO,GACxB,GAAqB,GAQrB,EAAmB,AAPsB,CACvC,EAAG,aACH,EAAG,aACH,EAAG,6CACH,EAAG,cACH,EAAG,sBACL,CAC2B,CAAC,EAAM,EAAI,cACtC,EAAa,WACf,EACF,MAEE,CAFK,CAEL,OAAO,CAAC,OAAO,CAAC,eAAgB,CAC9B,MAAO,EACP,cAAe,EACf,aAAc,iBACd,KAAM,mBACR,GAEA,GAAU,8BACV,GAAoB,EAAE,EACtB,GAAe,CAAC,EAEpB,EA0wBoB,SAAU,GAAiB,MAAM,GAAK,GAAmB,SAAS,0CACxD,oJACX,sBASE,IAAV,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,qFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,+BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAI,yBAAyB,IAAI,qDAAsB,2DAC5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,gDAAiD,gBAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,yBAA0B,gDAI3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,gEACZ,GAAW,GAAG,CAAC,CAAC,EAAK,IACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAuB,CAAC,0BAAK,EAAe,WAAb,EAAI,IAAI,CAAgB,cAAgB,gBAAA,CAAiB,WACzE,QAAb,EAAI,IAAI,EACP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAI,yBAAyB,IAAI,qDAAsB,mCAE9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,WAAgB,CAAC,2EAAsD,EACzD,WAAb,EAAI,IAAI,CAAgB,2BAA6B,iCAAA,CACrD,UACC,EAAI,IAAI,KAPH,MAad,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,iBACZ,CAAC,CAAC,IAAK,OAAQ,MAAO,QAAQ,EAAG,CAAC,IAAK,OAAQ,MAAO,SAAS,EAAG,CAAC,IAAK,OAAQ,MAAO,SAAS,EAAG,CAAC,IAAK,OAAQ,MAAO,SAAS,EAAE,CAAC,GAAG,CAAC,CAAC,KAAC,CAAG,OAAE,CAAK,CAAC,GACpJ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAA0B,CAAC,kEAA6C,EAAE,EAAW,CAAC,EAAgC,CAAG,4DAA8D,oCAAA,CAAqC,WAC1N,EAAM,IAAE,EAAW,CAAC,EAAgC,EAAI,MADhD,MAOd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAqB,GACrB,GAAe,CAAE,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,OAAO,EAAO,MAAM,CAAM,GAClF,GAAsB,CAAC,GAEvB,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,yCAAS,EAAE,EAChE,GAAU,gCACZ,2CACU,8HACX,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KAEP,GAAc,GAAQ,IAAI,EAAM,CAAE,KAAM,MAAO,KAD9B,CACoC,8CAAS,EAAE,EAE5D,KACF,GAAS,EADG,GACE,GACd,IAAgB,IAIlB,EAAA,OAAO,CAAC,OAAO,CAAC,kBAAmB,CACjC,MAAO,EACP,aAAc,GACd,cAAe,EACf,aAAc,iBACd,KAAM,QACR,GAEA,GAAU,wBAAyB,KACjC,EAAS,GAAQ,EAAO,IACxB,GAAqB,GACrB,EAAmB,eACnB,EAAa,WACf,EACF,2CACU,yFACX,uBAKH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,GACP,SAAU,AAAC,GAAM,GAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,UAAW,AAAC,GAAgB,UAAV,EAAE,GAAG,EAAgB,KACvC,YAAY,8DACF,uJAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,4CAA8B,qFAAsF,eASlI,IAAV,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,iGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAI,yBAAyB,IAAI,qDAAsB,wEAE3D,AAAC,GA6BA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,cACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,gEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,qBAAuB,OAGtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,IAAqB,GACrB,GAAe,CAAE,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,MAAM,EAAO,OAAO,CAAM,GAClF,GAAsB,CAAC,GACvB,GAAoB,IACpB,GAAyB,GAC3B,2CACU,8HACX,cAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAxhBE,CAwhBO,IAthB/B,KAGA,EAAA,OAAO,CAAC,OAAO,CAAC,kBAAmB,CACjC,MAAO,EACP,aAAc,IACd,cAAe,EACf,aAAc,iBACd,KAAM,UACR,GAGA,GAAU,wBAAyB,KACjC,EAAS,GAAQ,EAAO,KACxB,GAAqB,GACrB,EAAmB,wBACnB,EAAa,WACf,EACF,2CAqgBkC,yFACX,4BAnDP,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,yCAA0C,sBAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAppBG,CAopBM,QAvnBvB,EA5BJ,GAAI,CAAC,AAAC,6BAA6B,MAAA,CAAM,EAAK,CAAC,CAAC,sBAAuB,MAAA,CAAM,CAAG,YAC9E,MAAM,iDAKR,EAAA,OAAO,CAAC,OAAO,CAAC,0BAA2B,CACzC,MAAO,EACP,cAAe,CACjB,GAGI,IACF,GAAS,GADG,EACE,GAIhB,IAAM,EAAc,IAAI,AADG,OAAe,uBAAuB,EAAK,OAAe,iBAAiB,AAAjB,EAGrF,EAAY,UAAU,EAAG,EACzB,EAAY,cAAc,EAAG,EAC7B,EAAY,IAAI,CAAG,EAEnB,IAAmB,GACnB,GAAoB,IACpB,GAAkB,EAAE,EACpB,GAAyB,IAIzB,EAAY,QAAQ,CAAG,AAAC,IACtB,aAAa,GACb,IAAM,EAAa,MAAM,IAAI,CAAC,EAAM,OAAO,EACxC,GAAG,CAAC,AAAC,GAAgB,CAAM,CAAC,EAAE,CAAC,UAAU,EACzC,IAAI,CAAC,KACR,GAAoB,GAEpB,EAAgB,WAAW,KACzB,EAAY,IAAI,GAChB,AAyBiB,CAAC,IACtB,IAAM,EAAQ,EAAW,WAAW,GAC9B,EAAW,CAAE,GAAG,EAAW,AAAC,EAC5B,EAAa,CAAE,GAAG,EAAkB,AAAC,CAIvC,EAAC,EAAS,IAAI,EAAE,CACd,EAAM,QAAQ,CAAC,cAAgB,AAAF,EAAW,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aAClE,EAAM,QAAQ,CAAC,eAAe,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,cACxE,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SACnE,EAAM,QAAQ,CAAC,eAAe,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,cACxE,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,aAAa,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aACrG,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SACnE,EAAM,QAAQ,CAAC,aAAa,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aAI7E,CAAC,EAAS,IAAI,EAAE,CACd,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SAC9D,EAAM,QAAQ,CAAC,WAAW,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,UACpE,EAAM,QAAQ,CAAC,UAAU,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,UAI1E,CAAC,EAAS,IAAI,EAAE,CACd,EAAM,QAAQ,CAAC,SAAW,EAAM,QAAQ,CAAC,QAAU,EAAM,QAAQ,CAAC,SAAS,AAAE,EAAS,IAAI,CAAG,GAAM,EAAW,IAAI,CAAG,QAChH,EAAM,QAAQ,CAAC,QAAQ,CAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,QAIxE,CAAC,EAAS,KAAK,EAAE,CACf,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,KAAK,CAAG,GAAM,EAAW,KAAK,CAAG,WAClE,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,WACvE,EAAM,QAAQ,CAAC,aAAe,AAAF,EAAW,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,YACxE,EAAM,QAAQ,CAAC,aAAe,EAAM,QAAQ,CAAC,cAAgB,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,KAAK,EAAG,EAAM,EAAW,KAAK,CAAG,SAElI,EAAS,IAAI,EAAK,EAAM,AAAP,QAAe,CAAC,YAAe,EAAD,AAAO,QAAQ,CAAC,YAAe,EAAD,AAAO,QAAQ,CAAC,aAAa,CACjH,EAAS,KAAK,EAAG,EACjB,EAAW,KAAK,CAAG,SAKF,AACjB,CADkB,YAAa,WAAW,CAC7B,QAAQ,CAAC,EAAW,IAAI,EAAI,KAAK,CAChD,EAAS,IAAI,EAAG,EAChB,EAAW,IAAI,CAAG,QAKhB,CAAC,EAAS,IAAI,EAAE,CAEd,EAAM,QAAQ,CAAC,QAAQ,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,YAC5D,EAAM,QAAQ,CAAC,WAAW,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,eACpE,EAAM,QAAQ,CAAC,UAAU,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,cACnE,EAAM,QAAQ,CAAC,SAAW,AAAF,EAAW,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,aAClE,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,eAC9H,EAAM,QAAQ,CAAC,QAAQ,AAAE,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,YACjE,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,WAAa,EAAM,QAAQ,CAAC,YAAY,AAAE,EAAS,IAAI,CAAG,GAAM,EAAW,IAAI,CAAG,eAE7H,EAAM,QAAQ,CAAC,YAAc,EAAM,QAAQ,CAAC,UAAY,EAAM,QAAQ,CAAC,WAAA,CAAW,EAAK,CAXxE,AAWyE,CAXxE,QAAS,aAAc,YAAa,QAAQ,CAW+C,QAAQ,CAAC,EAAW,IAAI,EAAI,KAAK,CACpJ,EAAS,IAAI,EAAG,EAAM,EAAW,IAAI,CAAG,SAI5C,GAAe,GACf,GAAsB,GACtB,GAAkB,GAAQ,EAAO,GAGjC,IAAI,EAAW,GACX,EAAY,GAgBhB,GAdK,EAAS,IAAI,CAGN,CAHQ,CAGC,IAAI,CAGb,CAHe,CAGN,IAAI,CAGb,CAHe,CAGN,IAAI,EAAE,CACzB,EAAW,CAAC,EAAE,EAAE,EAAW,IAAI,CAAC,oEAAoE,CAAC,CACrG,EAAY,+BAJZ,EAAW,uCACX,EAAY,kCAJZ,EAAW,aACX,EAAY,wBAJZ,EAAW,sCACX,EAAY,uBAYV,EAEF,GAAyB,GACzB,EAHY,CAGM,CAAC,EAAS,EAC5B,GAAU,OACL,CAEL,IAAqB,GACrB,GAAkB,EAAE,EACpB,IAAM,EAA+B,SAApB,EAAW,IAAI,CAAc,GAAK,CAAC,MAAM,EAAE,EAAW,IAAI,CAAA,CAAE,CACvE,EAAY,EAAW,KAAK,EAAyB,SAArB,EAAW,KAAK,CAAc,CAAC,CAAC,EAAE,EAAW,KAAK,CAAA,CAAE,CAAG,GAC7F,GAAyB,CAAC,aAAa,EAAE,EAAW,IAAI,CAAC,CAAC,EAAE,EAAW,IAAI,CAAA,EAAG,EAAU,CAAC,EAAE,EAAW,IAAI,CAAA,EAAG,EAAS,CAAC,CAAC,CAC1H,CACF,GA/HqB,EACjB,EAAG,KACL,EAEA,EAAY,OAAO,CAAG,KACpB,IAAmB,GACf,IAAY,IACd,GAAS,IAAI,GADe,AACZ,KAAK,CAAC,KAAO,EAEjC,EACA,EAAY,KAAK,CAAG,KAClB,IAAmB,GACf,IAAY,IACd,GAAS,IAAI,GADe,AACZ,KAAK,CAAC,KAAO,EAEjC,EACA,EAAY,KAAK,GAEjB,WAAW,KACL,IACF,EAAY,IAAI,EAEpB,EAAG,GAHoB,CAIzB,EAslBoB,SAAU,aACC,CAAC,qGAAgF,EAC1F,GAAkB,6CAA+C,2GAAA,CACjE,UAED,GAAkB,KAAO,aAG3B,IACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,2EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,kCAAmC,cAChD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,0CAAY,sBAAsB,IAAE,GAAiB,UAIzD,IAAyB,CAAC,IACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,0CAAY,+BAA+B,MAAI,MAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,kCAAmC,wCA0CnD,aAAd,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,qBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAe,IAAV,EAAc,UAAY,CAAC,YAAY,EAAE,EAAM,IAAI,CAAC,CACzD,IAAI,iFACM,sCAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,0BAA2B,yBAE7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,sFACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,iDAAmD,OAErE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,6DACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,0CAAe,4BAA4B,SAAO,EAAM,gBAM/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,yFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,0CACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,gDAAiD,YAIlE,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,yFACZ,EAAc,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAGC,MAAO,CACL,OAAQ,CAAA,EAAG,EAAK,CAAC,CAAC,EAAE,CAAC,CACrB,OAAQ,CAAA,EAAG,EAAK,CAAC,CAAC,EAAE,CAAC,CACrB,MAAO,EAAK,KAAK,CACjB,eAAgB,CAAA,EAAG,EAAK,KAAK,CAAC,CAAC,CAAC,AAClC,2CANU,+BAQV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,WAEb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,GAAI,UAAU,+CAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,mEAbZ,EAAK,EAAE,KAqBpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,0CAAe,yCAAyC,IAAY,IAAV,EAAc,GAAe,IAAV,EAAc,GAAK,AAAU,MAAI,GAAe,IAAV,EAAc,GAAK,YAK3I,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAe,CAAC,+CAA0B,EAC/B,IAAV,AACI,GACU,IAAV,EACE,6BAFqC,SAEE,AAC7B,IAAV,EACE,mBAJqE,mBAKrE,EAHmF,oCAGnF,CACR,WACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAgG,MAAO,CAAE,WAAY,sCAAuC,2CAA7I,gFAAgJ,gCAEvJ,IAAV,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmE,MAAO,CAAE,WAAY,sCAAuC,2CAAjH,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,yBAA0B,kBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,wBAAyB,sCAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAwF,MAAO,CAAE,WAAY,sCAAuC,2CAAxI,4EAA2I,MAAI,QAKhK,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAe,CAAC,8FAAyE,EAC9E,IAAV,EACI,eACA,eAAA,CACJ,WAEC,CAAW,IAAV,OAAe,CAAU,CAAC,EAC1B,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAgB,EAClB,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,yLAEX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GAET,MAAO,CAAE,WAAY,sCAAuC,2CADlD,4LAEX,oBAMM,IAAV,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAgB,EAClB,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,yLAEX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,MAAM,mFACR,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,2LAEX,qBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KAEP,MAAM,qDACR,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,kEAEX,mBAMJ,EAAQ,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,GAET,MAAO,CAAE,WAAY,sCAAuC,2CADlD,4LAEX,yrDAoFR,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAoF,QAAS,IAAM,GAAY,4CAAjG,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,QAAS,GAAK,EAAE,eAAe,GAC/B,MAAO,CACL,gBAAiB,iEACjB,UAAW,gCACb,2CALU,kFAOV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAA8D,MAAO,CAAE,WAAY,iBAAkB,WAAY,6BAA8B,2CAAlI,gDAAqI,eAGnJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,wBA1sDP,AA2sDL,CA1sDX,CAAE,KAAM,YAAa,KAAM,kBAAmB,EAC9C,CAAE,KAAM,QAAS,KAAM,yBAA0B,EACjD,CAAE,KAAM,aAAc,KAAM,iBAAkB,EAC9C,CAAE,KAAM,aAAc,KAAM,yBAA0B,EACtD,CAAE,KAAM,YAAa,KAAM,sBAAuB,EAClD,CAAE,KAAM,QAAS,KAAM,6BAA8B,EACrD,CAAE,KAAM,WAAY,KAAM,kBAAmB,EAC9C,CAmsDsB,GAAG,CAAC,CAAC,EAAM,IACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAsB,qEACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAA8C,MAAO,CAAE,WAAY,gBAAiB,2CAAxE,iCAA4E,EAAK,IAAI,GAClG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,8BAAgC,EAAK,IAAI,MAExD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uBAAwB,UAL/B,MASd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAY,4CACjB,8FACX,iBAQN,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,yGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAiD,MAAO,CAAE,WAAY,sCAAuC,2CAAhG,mCAAmG,wBACjH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,mCAAqC,UAIzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,2DACZ,GAAY,GAAG,CAAC,AAAC,IAChB,IAAM,EAAQ,EAAe,QAAQ,CAAC,EAAK,EAAE,EACvC,EAAY,GAAS,EAAK,KAAK,CACrC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAKC,QAAS,KACH,GAEF,GAAmB,CAFV,EAGT,GAAkB,IACT,GAET,EAAgB,GAChB,GAAuB,AAHH,IAKpB,GAAgB,EAEpB,YAfW,CAAC,iFAA4D,EACtE,EAAQ,kDAAoD,EAAY,yEAA2E,6BAAA,CACnJ,WAeF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,WACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAK,KAAK,CAAE,IAAK,EAAK,IAAI,0CAAY,sFAC/C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,yFAA0F,eAK7G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAA6C,MAAO,CAAE,WAAY,sCAAuC,2CAA7F,gCAAiG,EAAK,IAAI,GACvH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,8BACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,wBAAyB,wBAEzC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,KAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,WAAgB,CAAC,+BAAU,EAAE,EAAY,kBAAoB,eAAA,CAAgB,UAAG,EAAK,KAAK,aAlC9F,EAAK,EAAE,CAyClB,KAIS,IAAV,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,MAAM,mFACR,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,0GAEX,qBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,MAAM,wEACR,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,0GAEX,6BAKH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,MAAM,8DACR,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,+GAEX,sBAKD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,GAE/B,MAAO,CAAE,WAAY,sCAAuC,2CADlD,oEAEX,iBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAgB,GAChB,GAAiB,EACnB,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,oEAEX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAgB,EAClB,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,oEAEX,yBAML,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAgB,GAE/B,MAAO,CAAE,WAAY,sCAAuC,2CADlD,0GAEX,iBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAgB,GAChB,IACF,EAEA,MAAO,CAAE,WAAY,sCAAuC,2CADlD,wIAEX,8BAWZ,GAAuB,GACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,oHACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,wCAAyC,sBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAa,KAAK,CACvB,IAAK,EAAa,IAAI,0CACZ,yIAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,uCAAyC,EAAa,IAAI,GACvE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,eAAgB,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,mCAAqC,EAAa,KAAK,MAEzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6FACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,eAAgB,kBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,+BAAiC,OAEnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,aACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAuB,GACvB,EAAgB,KAClB,2CACU,+EACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KAEP,EAAS,GAAQ,EAAO,EAAa,KAAK,EAC1C,EAAkB,GAAQ,IAAI,EAAM,EAAa,EAAE,CAAC,EACpD,GAAuB,GAGvB,EAAA,OAAO,CAAC,OAAO,CAAC,iBAAkB,CAChC,QAAS,EAAa,EAAE,CACxB,UAAW,EAAa,IAAI,CAC5B,MAAO,EAAa,KAAK,CACzB,kBAAmB,EAAe,MAAM,CAAG,CAC7C,GAGA,EAAqB,GACrB,GAAqB,GACrB,EAAgB,KAClB,2CACU,sIACX,sBASR,GAAqB,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,wHACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,eAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,wCAAyC,qBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAkB,KAAK,CAC5B,IAAK,EAAkB,IAAI,0CACjB,yIAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,yBAA2B,EAAkB,IAAI,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,qBAAsB,8BACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,4BAA6B,+BAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAqB,GACrB,EAAqB,MACrB,MAAM,4DACR,2CACU,kIACX,yBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAqB,GACrB,EAAqB,MACrB,GAAgB,GAChB,GAAiB,EACnB,2CACU,oIACX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAqB,GACrB,EAAqB,MACrB,MAAM,mFACR,2CACU,kIACX,6BASR,GAAkB,GACjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6HACb,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,0CAAa,yCAAyC,MAAI,EAAgB,IAAI,IAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAgB,KAAK,CAC1B,IAAK,EAAgB,IAAI,0CACf,yIAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,oBAAqB,+DAClC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAkB,GAClB,GAAmB,MACnB,MAAM,4DACR,2CACU,kIACX,yBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAkB,GAClB,GAAmB,MACnB,GAAgB,GAChB,GAAiB,EACnB,2CACU,oIACX,uBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAkB,GAClB,GAAmB,MACnB,MAAM,mFACR,2CACU,kIACX,qBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAkB,GAClB,GAAmB,KACrB,2CACU,iEACX,kBASR,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAsF,QAAS,IAAM,GAAgB,4CAAvG,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,QAAS,GAAK,EAAE,eAAe,4CADrB,2GAGV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,qDAAsD,iBAEpE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,gBAljEL,AAmjEP,CAljEX,CAAE,GAAI,UAAW,MAAO,IAAK,MAAO,QAAS,MAAO,SAAU,EAC9D,CAAE,GAAI,UAAW,MAAO,KAAM,MAAO,QAAS,MAAO,UAAW,MAAM,CAAK,EAC3E,CAAE,GAAI,MAAO,MAAO,IAAM,MAAO,QAAS,MAAO,UAAW,EAC7D,CA+iEwB,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAKC,QAAS,KAEP,EAAS,GAAQ,EAAO,EAAO,KAAK,EACpC,GAAgB,GAGhB,EAAA,OAAO,CAAC,OAAO,CAAC,wBAAyB,CACvC,UAAW,EAAO,EAAE,CACpB,aAAc,EAAO,KAAK,CAC1B,eAAgB,EAAO,KAAK,CAC5B,MAAO,EAAO,KAAK,AACrB,EACF,YAfW,CAAC,oGAA+E,EACzF,EAAO,IAAI,CAAG,qCAAuC,yDAAA,CACrD,WAeD,EAAO,IAAI,EACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,6GAA8G,iBAI/H,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,8BAAgC,EAAO,KAAK,GACzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,KAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,oCAAsC,EAAO,KAAK,CAAC,cAAc,WAGrF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,mFACZ,EAAO,KAAK,QAhCZ,EAAO,EAAE,KAuCpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,6CACrB,iEACX,qBAQN,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6FAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,GAAiB,4CACtB,qFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,SAAU,MAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,2CAAK,8BAER,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAW,KAAM,sCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,mCAAqC,UAKzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,uBACpB,CAAC,mEAA8C,EACvC,cAAjB,EACI,0BACA,8CAAA,CACJ,UACH,iBAGD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAgB,cAE/B,QAAQ,CAAA,CAAA,2CADE,0GAEX,gBAEC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,8CAA+C,YAEjE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAQ,CAAA,CAAA,2CADE,0GAEX,WAEC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,8CAA+C,eAKnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,mCACK,cAAjB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,oCAAqC,mBAExB,IAA1B,EAAe,MAAM,CACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,eAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,4BAA6B,sBAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAiB,GACjB,GAAgB,EAClB,2CACU,yJACX,yBAKH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,4CAEC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,2EACZ,EAAe,GAAG,CAAC,AAAC,IACnB,IAAM,EAAO,GAAY,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,GAC5C,GAAI,CAAC,EAAM,OAAO,KAClB,IAAM,EAAa,IAA0B,EAC7C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,QAAS,IAAM,EAAyB,EAAa,KAAO,aACjD,CAAC,iHAA4F,EACtG,EACI,2DACA,qDAAA,CACJ,WAEF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAK,KAAK,CACf,IAAK,EAAK,IAAI,0CACJ,+FAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,oFACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,kCAAoC,EAAK,IAAI,KAE3D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAwB,KAAK,eAAe,QAAQ,qDAAtC,SACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAAS,UAAU,EAAE,qHAAqH,SAAS,mDAnB1J,EAyBX,GAGA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,QAAS,KACP,GAAiB,GACjB,GAAgB,EAClB,2CACU,qMAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,eAAgB,MAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,2BAA4B,mBAK/C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,MAAM,kEACR,2CACU,mLACX,iCAUK,eAAjB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,eAAgB,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,oCAAqC,4BACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,0CAAY,gCAAiC,8FASpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,sFACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,MAAM,oEACR,2CACU,8FACX,oBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,GAAiB,GACjB,MAAM,qDACR,2CACU,sEACX,wBAQb","ignoreList":[0,1]}