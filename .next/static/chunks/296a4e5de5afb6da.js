(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,s)=>{},98547,(e,t,s)=>{var a=e.i(47167);e.r(16015);var l=e.r(71645),r=l&&"object"==typeof l&&"default"in l?l:{default:l},o=void 0!==a.default&&a.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,l=t.optimizeForSpeed,r=void 0===l?o:l;c(n(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var i="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=i?i.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(n(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(n(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var l=document.head||document.getElementsByTagName("head")[0];return s?l.insertBefore(a,s):l.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},m={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return m[a]||(m[a]="jsx-"+d(e+"-"+s)),m[a]}function x(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return m[s]||(m[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),m[s]}var b=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,a=void 0===s?null:s,l=t.optimizeForSpeed,r=void 0!==l&&l;this._sheet=a||new i({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),a&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),a=s.styleId,l=s.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var r=l.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=r,this._instancesCounts[a]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var a=this._fromServer&&this._fromServer[s];a?(a.parentNode.removeChild(a),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],a=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,a=e.id;if(s){var l=u(a,s);return{styleId:l,rules:Array.isArray(t)?t.map(function(e){return x(l,e)}):[x(l,t)]}}return{styleId:u(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=l.createContext(null);function p(){return new b}function h(){return l.useContext(f)}f.displayName="StyleSheetContext";var j=r.default.useInsertionEffect||r.default.useLayoutEffect,g="undefined"!=typeof window?p():void 0;function y(e){var t=g||h();return t&&("undefined"==typeof window?t.add(e):j(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,a=l.useContext(f),o=l.useState(function(){return a||t||p()})[0];return r.default.createElement(f.Provider,{value:o},s)},s.createStyleRegistry=p,s.style=y,s.useStyleRegistry=h},37902,(e,t,s)=>{t.exports=e.r(98547).style},91589,e=>{"use strict";var t=e.i(43476),s=e.i(37902),a=e.i(71645);let l={"en-US":{flag:"ðŸ‡ºðŸ‡¸",label:"English",shortCode:"EN"},"ko-KR":{flag:"ðŸ‡°ðŸ‡·",label:"í•œêµ­ì–´",shortCode:"KR"},"fr-FR":{flag:"ðŸ‡«ðŸ‡·",label:"FranÃ§ais",shortCode:"FR"}};var r=e.i(4570);function o(){let[e,o]=(0,a.useState)("intro"),[n,i]=(0,a.useState)(1),[c,d]=(0,a.useState)(50),[m,u]=(0,a.useState)(""),[x,b]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[h,j]=(0,a.useState)(!1),[g,y]=(0,a.useState)([]),[v,k]=(0,a.useState)(!1),[w,N]=(0,a.useState)([]),[S,_]=(0,a.useState)(!1),[z,C]=(0,a.useState)("en-US"),[A,F]=(0,a.useState)(!1),[R,$]=(0,a.useState)(!1),[M,T]=(0,a.useState)(!1),[O,E]=(0,a.useState)(!1),[I,W]=(0,a.useState)("buildings"),[Y,P]=(0,a.useState)(null),[L,K]=(0,a.useState)([]),[B,q]=(0,a.useState)(!1),[U,G]=(0,a.useState)(null),[H,D]=(0,a.useState)(!1),[V,X]=(0,a.useState)(null),[J,Z]=(0,a.useState)(!1),[Q,ee]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e;try{let e=localStorage.getItem("m31-coffee-save");if(e){let t=JSON.parse(e);void 0!==t.coins&&d(t.coins),t.purchasedCafes&&K(t.purchasedCafes),console.log("ðŸŽ® Progress loaded:",t)}}catch(e){console.log("No saved progress found")}C((e=localStorage.getItem("m31-language"))&&["en-US","ko-KR","fr-FR"].includes(e)?e:"en-US"),_(!0)},[]),(0,a.useEffect)(()=>{if(S&&1){let e={coins:c,purchasedCafes:L,lastSaved:new Date().toISOString()};localStorage.setItem("m31-coffee-save",JSON.stringify(e)),console.log("ðŸ’¾ Auto-saved:",e)}},[c,L,S]);let et=[{id:"coffeepost",name:"Coffee Post",price:800,image:"/coffeepost.png"},{id:"retrocafe",name:"Retro CafÃ©",price:1500,image:"/retrocafe.png"},{id:"flowercafe",name:"Flower CafÃ©",price:2500,image:"/flowercafe.png"},{id:"moderncafe",name:"Modern CafÃ©",price:4e3,image:"/moderncafe.png"},{id:"rocococafe",name:"Rococo CafÃ©",price:6e3,image:"/rocococafe.png"}],[es,ea]=(0,a.useState)(-200),[el,er]=(0,a.useState)(1),[eo,en]=(0,a.useState)(1),[ei,ec]=(0,a.useState)(!0),[ed,em]=(0,a.useState)(!1),[eu,ex]=(0,a.useState)(!1),[eb,ef]=(0,a.useState)(!1),[ep,eh]=(0,a.useState)([]),[ej,eg]=(0,a.useState)({}),[ey,ev]=(0,a.useState)(""),[ek,ew]=(0,a.useState)([]),[eN,eS]=(0,a.useState)({type:!1,size:!1,milk:!1,syrup:!1,temp:!1}),[e_,ez]=(0,a.useState)(!1),[eC,eA]=(0,a.useState)(""),[eF,eR]=(0,a.useState)(0),[e$,eM]=(0,a.useState)([]),[eT,eO]=(0,a.useState)(!1),[eE,eI]=(0,a.useState)(!0),[eW,eY]=(0,a.useState)(null),eP={1:{audio:"/Audio/round1-order.mp3",npcOrder:"Hi, a caramel macchiato, medium please.",correctOrder:[{type:"Macchiato",size:"Medium",syrup:"Caramel"}],itemCount:1},2:{audio:"/Audio/round2-order.mp3",npcOrder:"Hi, I'd like a large flat white, with hazelnut syrup please.",correctOrder:[{type:"Flat White",size:"Large",syrup:"Hazelnut"}],itemCount:1},3:{audio:"/Audio/order.mp3",npcOrder:"Can I get a large Americano, and two small lattes â€” one with oat milk and one with whole milk?",correctOrder:[{type:"Americano",size:"Large"},{type:"Latte",size:"Small",milk:"Oat"},{type:"Latte",size:"Small",milk:"Whole"}],itemCount:3}},eL=n<=3?eP[n]:null;(0,a.useEffect)(()=>{if("intro"===e){ea(-200),em(!0),ex(!1),ef(!1);let e=setInterval(()=>{ea(t=>{let s=.25*window.innerWidth;return t>=s?(clearInterval(e),em(!1),setTimeout(()=>{ef(!0),setTimeout(()=>ex(!0),400)},200),s):t+10})},20);return()=>clearInterval(e)}},[e]);let eK=e=>{let t=[],s={1:12,2:18,3:24,4:30,5:36}[e]||20,a={1:4,2:5,3:6,4:7,5:8}[e]||5,l={1:.4,2:.55,3:.7,4:.85,5:1}[e]||1,r=window.innerWidth,o=r/(s+1),n=0;for(let e=0;e<s;e++){let i=300+200*(1-Math.abs(e-s/2)/(s/2)*.5)*(.8+.4*Math.random())*l,c=e*o-r/2+o;for(let s=0;s<a;s++){let l=i*(.5+s/a*.5);t.push({id:n++,x:c+(10*Math.random()-5),y:-l,rotation:360*Math.random(),scale:.25+.2*Math.random(),delay:.08*s+.1*Math.random(),jetIndex:e,coinInJet:s})}}N(t),k(!0),setTimeout(()=>k(!1),3500)};(0,a.useEffect)(()=>{let e=()=>{y(window.speechSynthesis.getVoices())};e(),window.speechSynthesis.onvoiceschanged=e},[]);let eB=e=>{let t=e||n,s=eP[t];if(!s)return;console.log(`Playing round ${t} order audio: ${s.audio}`),eW&&eW.pause();let a=new Audio;a.preload="auto",a.src=s.audio,a.volume=.8,p(!0),a.oncanplay=()=>{console.log("Audio can play"),a.play().then(()=>{console.log("Audio playing successfully")}).catch(e=>{console.error("Play failed:",e),eG(s.npcOrder)})},a.onended=()=>{console.log("Audio ended"),p(!1),eW&&eE&&eW.play().catch(()=>{})},a.onerror=e=>{console.error("Audio load error - trying fetch:",e),fetch(s.audio).then(e=>{console.log("Fetch status:",e.status,e.statusText),e.ok||eG(s.npcOrder)}).catch(e=>{console.error("Fetch also failed:",e),eG(s.npcOrder)})}},eq=e=>{eW&&(eW.pause(),eW.currentTime=0,eW.src=""),"undefined"!=typeof document&&document.querySelectorAll("audio").forEach(e=>{e.src&&e.src.includes("music-round")&&(e.pause(),e.currentTime=0,e.src="")});let t="number"==typeof e?e:n,s=t<=2?"/Audio/music-round1.mp3":3===t?"/Audio/music-round2.mp3":"/Audio/music-round3.mp3";console.log(`ðŸŽµ Starting music for round ${t}: ${s}`);let a=new Audio(s);a.loop=!0,a.volume=.05,a.play().catch(()=>{}),eY(a),eO(!0),eI(!0)},eU=()=>{console.log("ðŸ”‡ Stopping all music"),eW&&(eW.pause(),eW.currentTime=0,eW.src=""),"undefined"!=typeof document&&document.querySelectorAll("audio").forEach(e=>{e.src&&e.src.includes("music-round")&&(e.pause(),e.currentTime=0,e.src="")}),eI(!1)},eG=e=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();let t=new SpeechSynthesisUtterance(e);t.lang=z;let s=(()=>{let e=((e,t)=>{let s=t.split("-")[0];for(let s of({"en-US":["Samantha","Karen","Moira","Tessa","Fiona","Victoria","Zira","Hazel"],"ko-KR":["Yuna","Sora","Heami","Google í•œêµ­ì–´"],"fr-FR":["AmÃ©lie","Audrey","Aurelie","Thomas","Google franÃ§ais"]})[t]||[]){let t=e.find(e=>e.name.includes(s));if(t)return t}let a=e.find(e=>e.lang.toLowerCase().startsWith(s)&&!e.name.toLowerCase().includes("male"));if(a)return a;let l=e.find(e=>e.lang.toLowerCase().startsWith(s));return l||e[0]||null})(g,z);if(e)return e;for(let e of["Samantha","Karen","Moira","Tessa","Fiona","Victoria","Zira","Hazel"]){let t=g.find(t=>t.name.includes(e));if(t)return t}return g.find(e=>e.lang.startsWith("en")&&!e.name.toLowerCase().includes("male"))||g.find(e=>e.lang.startsWith("en"))||g[0]})();s&&(t.voice=s),t.rate=1,t.pitch=1.2,t.volume=1,p(!0),t.onend=()=>{p(!1),eW&&eE&&eW.play().catch(()=>{})},window.speechSynthesis.speak(t)}},eH=(e,t)=>{eW&&eW.pause();let s=new Audio(e);s.volume=.8,p(!0);let a=e.includes("goodresult")||e.includes("kokorobot-success");s.oncanplay=()=>{s.play().catch(e=>{console.error("Play failed:",e),p(!1)})},s.onended=()=>{p(!1),t&&t(),eW&&eE&&!a&&eW.play().catch(()=>{})},s.onerror=()=>{console.error("Audio error:",e),p(!1)}},[eD,eV]=(0,a.useState)({}),[eX,eJ]=(0,a.useState)(!1),eZ=()=>{if(!ey.trim())return;let e=ey.toLowerCase();if(ew(e=>[...e,{role:"player",text:ey}]),ev(""),eX){if(e.includes("yes")||e.includes("confirm")||e.includes("correct")||e.includes("that's right")||e.includes("looks good")||e.includes("perfect")||e.includes("that's it")||e.includes("thats it")||e.includes("thank you")||e.includes("thanks")||e.includes("good")||e.includes("yep")||e.includes("yup")||e.includes("sure")||e.includes("okay")||e.includes("ok")){ew(e=>[...e,{role:"npc",text:"Thank you, it will be at the pick up counter."}]),eU(),r.default.capture("round_completed",{round:n,coins_earned:80,language_code:z,outpost_name:"Coffee Outpost",mode:"typing"}),eH("/Audio/goodresult.mp3",()=>{d(e=>e+80),eK(n),u("Impressive!"),o("investor")});return}else if(e.includes("no")||e.includes("change")||e.includes("actually")||e.includes("wait")||e.includes("wrong")){eJ(!1),eS({type:!1,size:!1,milk:!1,syrup:!1,temp:!1}),eV({}),ew(e=>[...e,{role:"npc",text:"No problem! What would you like instead?"}]),eH("/Audio/kokorobot-greeting.mp3");return}}if(e.includes("what do you have")||e.includes("what options")||e.includes("what kinds")||e.includes("what milk")||e.includes("what type")){ew(e=>[...e,{role:"npc",text:"We have whole, oat, almond, nonfat, and soy milk. Which would you like?"}]),eH("/Audio/milk-lists.mp3");return}if(e.includes("2%")||e.includes("two percent")||e.includes("two %")||e.includes("with 2")||e.includes("half and half")||e.includes("half & half")||e.includes("cream")||e.includes("coconut")){ew(e=>[...e,{role:"npc",text:"We don't have that, but we do have whole, oat, almond, nonfat, and soy milk. Which would you like?"}]),eH("/Audio/milk-lists.mp3");return}let t={...eN},s={...eD},a=e.includes("do you have")||e.includes("is there")||e.includes("can i get")||e.includes("?");if(["black coffee","drip","filter","pour over","cold brew","frappuccino","frappe","chai","tea","matcha","hot chocolate"].some(t=>e.includes(t))&&!eN.type){ew(e=>[...e,{role:"npc",text:"I'm sorry, we don't have that, but here are your options!"}]),eH("/Audio/notavailable.mp3"),setTimeout(()=>F(!0),1e3);return}e.includes("americano")?(t.type=!0,s.type="Americano"):e.includes("flat white")?(t.type=!0,s.type="Flat White"):e.includes("latte")?(t.type=!0,s.type="Latte"):e.includes("cappuccino")?(t.type=!0,s.type="Cappuccino"):e.includes("macchiato")||e.includes("machiato")?(t.type=!0,s.type="Macchiato"):e.includes("mocha")?(t.type=!0,s.type="Mocha"):e.includes("espresso")&&(t.type=!0,s.type="Espresso"),e.includes("small")?(t.size=!0,s.size="small"):e.includes("medium")?(t.size=!0,s.size="medium"):e.includes("large")&&(t.size=!0,s.size="large"),e.includes("iced")||e.includes("ice")||e.includes("cold")?(t.temp=!0,s.temp="iced"):e.includes("hot")&&(t.temp=!0,s.temp="hot"),e.includes("caramel")?(t.syrup=!0,s.syrup="caramel"):e.includes("vanilla")?(t.syrup=!0,s.syrup="vanilla"):e.includes("hazelnut")?(t.syrup=!0,s.syrup="hazelnut"):(e.includes("no syrup")||e.includes("no flavor")||e.includes("plain"))&&(t.syrup=!0,s.syrup="none"),["Americano","Espresso"].includes(s.type||"")&&(t.milk=!0,s.milk="none"),e.includes("no thank")||e.includes("no,")||e.includes("no milk")||e.includes("none")||e.includes("black")||e.includes("regular")||"no"===e||e.startsWith("no ")||e.includes("i'm good")||e.includes("that's it")||e.includes("that's all")?(t.milk=!0,s.milk="none"):e.includes("oat")?(t.milk=!0,s.milk="oat milk"):e.includes("almond")?(t.milk=!0,s.milk="almond milk"):e.includes("whole")?(t.milk=!0,s.milk="whole milk"):e.includes("skim")?(t.milk=!0,s.milk="skim milk"):e.includes("nonfat")||e.includes("non-fat")||e.includes("non fat")?(t.milk=!0,s.milk="nonfat milk"):e.includes("soy")&&(t.milk=!0,s.milk="soy milk"),eS(t),eV(s),setTimeout(()=>{let l="",r="";if(a&&!t.type&&(e.includes("almond")||e.includes("oat")||e.includes("whole")||e.includes("nonfat")||e.includes("soy"))){l="Yes, we do! Would you like to order something with that?",ew(e=>[...e,{role:"npc",text:l}]),eH("/Audio/ask-type.mp3");return}if(t.type)if(t.size)if(t.temp)if(t.milk){let e="none"===s.milk?"":` with ${s.milk}`,t=s.syrup&&"none"!==s.syrup?` ${s.syrup}`:"";l=`Got it! One ${s.size} ${s.temp}${t} ${s.type}${e}. Anything else? Please confirm your order.`,eJ(!0)}else l="Any milk preference? We have whole, oat, almond, nonfat, and soy.",r="/Audio/milk-preference.mp3";else l="Would you like that hot or over ice?",r="/Audio/coffee-temperature.mp3";else l="Sure, what size? We have small, medium, and large.",r="/Audio/ask-size.mp3";else l="What kind of coffee would you like?",r="/Audio/ask-type.mp3";ew(e=>[...e,{role:"npc",text:l}]),r&&eH(r)},500)},[eQ,e0]=(0,a.useState)({type:!1,size:!1,milk:!1,temp:!1,syrup:!1}),[e1,e5]=(0,a.useState)({}),[e2,e3]=(0,a.useState)(500),[e8,e7]=(0,a.useState)(!1),[e4,e6]=(0,a.useState)(""),e9=()=>{if(n<5){let e=n+1;(i(e),2===e||3===e)?(o("playing"),b(!0),eh([]),eg({}),j(!1),ec(!1),setTimeout(()=>{eB(e),eq(e)},500)):4===e?(o("playing"),b(!0),ec(!1),ew([]),eS({type:!1,size:!1,milk:!1,syrup:!1,temp:!1}),eV({}),eJ(!1),ew([{role:"npc",text:"Hi there! What can I get started for you today?"}]),eH("/Audio/kokorobot-greeting.mp3"),eq()):5===e&&(o("playing"),b(!0),ec(!1),e0({type:!1,size:!1,milk:!1,temp:!1,syrup:!1}),e5({}),e3(500),e7(!1),e6(""),eA(""),eM([]),eH("/Audio/kokorobot-ready.mp3"),eq())}else i(1),o("intro"),eh([]),eg({}),ew([]),eS({type:!1,size:!1,milk:!1,syrup:!1,temp:!1}),eA(""),eM([]),j(!1),ec(!0),er(1),en(1),ea(-200),ef(!1)},te=({className:e="",size:s=24})=>(0,t.jsx)("img",{src:"/kokoro-star.png",alt:"coin",width:s,height:s,className:`inline-block ${e}`,style:{width:s,height:s,filter:"drop-shadow(0 2px 4px rgba(255,215,0,0.5))"}});return(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 min-h-screen bg-black text-white overflow-hidden relative",children:[(0,t.jsx)("div",{style:{backgroundImage:"url('/m31.jpg')"},className:"jsx-1be5a3ae20e8fc70 absolute inset-0 bg-cover bg-center"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute inset-0 bg-black/20"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-amber-950/90 via-amber-900/40 to-transparent"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-amber-900 to-transparent"}),v&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 pointer-events-none z-50 overflow-hidden flex items-center justify-center",children:w.map(e=>(0,t.jsx)("div",{style:{"--jx":`${e.x}px`,"--jy":`${e.y}px`,"--s":e.scale,animationDelay:`${e.delay}s`},className:"jsx-1be5a3ae20e8fc70 absolute animate-fountain-jet",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 relative",children:[(0,t.jsx)(te,{size:36,className:"drop-shadow-[0_0_15px_rgba(255,215,0,0.9)]"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute inset-0 w-9 h-9 bg-yellow-400/40 rounded-full blur-md -z-10"})]})},e.id))}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 absolute top-4 left-4 right-4 flex justify-between items-center z-30",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/60 backdrop-blur-sm rounded-full px-5 py-2 border border-amber-500/30",children:(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-amber-400 font-mono",children:"M31 Coffee Outpost"})}),eT&&(0,t.jsx)("button",{onClick:()=>{eE?(eW&&eW.pause(),"undefined"!=typeof document&&document.querySelectorAll("audio").forEach(e=>{e.src&&e.src.includes("music-round")&&e.pause()}),eI(!1),r.default.capture("music_toggled",{enabled:!1})):(eW&&eW.play().catch(()=>{}),eI(!0),r.default.capture("music_toggled",{enabled:!0}))},className:"jsx-1be5a3ae20e8fc70 bg-black/60 backdrop-blur-sm rounded-full px-3 py-2 border border-amber-500/30 hover:bg-black/80 transition",children:(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-amber-400 text-lg",children:eE?"ðŸ”Š":"ðŸ”‡"})}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/60 backdrop-blur-sm rounded-full px-3 py-2 border border-cyan-500/30 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70",children:l[z].flag}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-cyan-400 font-mono text-sm",children:l[z].shortCode})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/60 backdrop-blur-sm rounded-full px-5 py-2 border border-yellow-500/30 flex items-center gap-2",children:[(0,t.jsx)(te,{size:24,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-mono font-semibold text-lg",children:c})]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/60 backdrop-blur-sm rounded-full px-5 py-2 border border-purple-500/30",children:(0,t.jsxs)("span",{className:"jsx-1be5a3ae20e8fc70 text-purple-400 font-mono",children:["Round ",n,"/5"]})})]})]}),ei&&("intro"===e||"walking"===e)&&(0,t.jsxs)("div",{style:{left:`${es}px`,transform:`scale(${el})`,opacity:eo},className:"jsx-1be5a3ae20e8fc70 absolute bottom-16 z-20",children:[(0,t.jsx)("img",{src:ed?"/kokorobot-sideview.png":"/kokorobot-cb.png",alt:"Kokorobot",style:{filter:"drop-shadow(0 10px 30px rgba(0,0,0,0.5))"},className:`jsx-1be5a3ae20e8fc70 h-72 w-auto drop-shadow-2xl ${ed?"animate-walk":""}`}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute -bottom-2 left-1/2 -translate-x-1/2",children:(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-xs text-amber-400 font-mono bg-black/70 px-3 py-1 rounded-full border border-amber-500/30",children:"Kokorobot-1"})})]}),"intro"===e&&(0,t.jsx)("div",{className:`jsx-1be5a3ae20e8fc70 absolute inset-0 flex items-center justify-center z-10 transition-all duration-700 ${eb?"opacity-100":"opacity-0"}`,children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 text-center max-w-2xl px-12 py-10 bg-black/70 rounded-3xl shadow-2xl",children:[(0,t.jsxs)("p",{className:"jsx-1be5a3ae20e8fc70 text-purple-400 font-medium mb-2 text-lg",children:["Round ",n," of 5"]}),(0,t.jsx)("h1",{className:"jsx-1be5a3ae20e8fc70 text-5xl md:text-6xl font-semibold mb-6 text-yellow-400 drop-shadow-[0_2px_10px_rgba(0,0,0,0.8)]",children:"M31 Coffee Outpost"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-white mb-3 text-lg md:text-xl leading-relaxed drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] font-normal",children:"Kokorobot-1 dreams of becoming a barista someday."}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-amber-100 mb-3 text-lg md:text-xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)] font-normal",children:n<=3&&eL?`Listen carefully. Can you take ${1===eL.itemCount?"this order":`these ${eL.itemCount} orders`}?`:4===n?"Type your order to the barista!":"Speak your order out loud!"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-medium mb-8 text-lg md:text-xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)]",children:"Earn coins to build Andromeda's first cafÃ©!"}),(0,t.jsx)("button",{onClick:()=>{o("walking"),j(!1),em(!0),r.default.capture("game_mission_started",{round:n,language_code:z,outpost_name:"Coffee Outpost"});let e=setInterval(()=>{ea(t=>{let s,a,l,r=window.innerWidth/2-80;return t>=r?(clearInterval(e),em(!1),s=1,a=1,l=setInterval(()=>{s-=.08,a-=.08,er(s),en(a),s<=0&&(clearInterval(l),ec(!1),o("playing"),b(!0),eB(),eq(1))},25),r):t+12})},20)},disabled:!eu,className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-400 hover:to-yellow-400 text-black font-semibold py-4 px-14 rounded-full text-xl transition transform hover:scale-105 shadow-lg shadow-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Begin Mission"})]})}),"walking"===e&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute inset-0 flex items-center justify-center z-10",children:(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-amber-400 text-2xl animate-pulse font-medium",children:"Starting mission..."})}),"playing"===e&&x&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute inset-0 flex items-center justify-center z-20 p-4",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 w-full max-w-xl animate-fade-in",children:[(1===n||2===n||3===n)&&eL&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/85 backdrop-blur-lg rounded-2xl border border-amber-500/40 p-6 shadow-2xl",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-4 mb-6",children:[(0,t.jsx)("img",{src:"/kokorobot-closeup.png",alt:"Kokorobot",className:`jsx-1be5a3ae20e8fc70 w-28 h-28 object-cover rounded-full border-3 border-amber-500/60 shadow-lg animate-pop-in ${f?"ring-4 ring-amber-400 ring-offset-2 ring-offset-black animate-pulse":""}`}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex-1",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-amber-400 text-xl mb-2 font-mono font-semibold",children:"Kokorobot-1"}),h?(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-xl leading-relaxed text-white",children:eL.npcOrder}):(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-amber-900/40 rounded-xl p-4 text-center border border-amber-500/30",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-amber-300/80 mb-3 text-lg",children:"ðŸŽ§ Listen to the order..."}),(0,t.jsxs)("button",{onClick:()=>{c>=10&&(d(e=>e-10),j(!0),r.default.capture("transcript_purchased",{round:n,coins_spent:10,language_code:z}))},disabled:c<10,className:`jsx-1be5a3ae20e8fc70 text-base px-6 py-2 rounded-full transition font-semibold flex items-center gap-2 mx-auto ${c>=10?"bg-black/80 text-yellow-400 hover:bg-black/90 border border-yellow-500/60":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:["ðŸ’¡ Show Text for ",(0,t.jsx)(te,{size:16,className:"jsx-1be5a3ae20e8fc70"})," 10"]})]}),(0,t.jsx)("button",{onClick:()=>{eB()},className:"jsx-1be5a3ae20e8fc70 mt-3 text-base text-amber-400/80 hover:text-amber-400 transition flex items-center gap-2 font-medium",children:"ðŸ”Š Replay voice (free)"})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 border-t border-amber-500/30 pt-6",children:[(0,t.jsxs)("p",{className:"jsx-1be5a3ae20e8fc70 text-lg text-amber-300/80 mb-4 font-medium",children:["Build the order (",ep.length,"/3 items)"]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-wrap gap-2 mb-5 min-h-[48px]",children:ep.map((e,s)=>(0,t.jsxs)("button",{onClick:()=>{eh(ep.filter((e,t)=>t!==s))},className:"jsx-1be5a3ae20e8fc70 bg-amber-500/30 border border-amber-500/60 rounded-lg px-4 py-2 text-lg hover:bg-red-500/30 hover:border-red-500/60 transition text-amber-200 font-medium",children:[e.size," ",e.type," ",e.milk&&`(${e.milk})`," ",e.syrup&&`+ ${e.syrup}`," âœ•"]},s))}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 grid grid-cols-4 gap-3 mb-6",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-sm text-amber-400/60 mb-2 font-semibold",children:"TYPE"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-col gap-2",children:["Americano","Latte","Cappuccino","Flat White","Macchiato","Mocha","Espresso"].map(e=>(0,t.jsx)("button",{onClick:()=>eg({...ej,type:e}),className:`jsx-1be5a3ae20e8fc70 py-2 px-3 rounded-lg text-sm transition font-medium ${ej.type===e?"bg-amber-500 text-black":"bg-amber-900/50 hover:bg-amber-900/70 text-amber-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-sm text-amber-400/60 mb-2 font-semibold",children:"SIZE"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-col gap-2",children:["Small","Medium","Large"].map(e=>(0,t.jsx)("button",{onClick:()=>eg({...ej,size:e}),className:`jsx-1be5a3ae20e8fc70 py-2 px-3 rounded-lg text-sm transition font-medium ${ej.size===e?"bg-amber-500 text-black":"bg-amber-900/50 hover:bg-amber-900/70 text-amber-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-sm text-amber-400/60 mb-2 font-semibold",children:"MILK"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-col gap-2",children:["None","Whole","Oat","Almond","Nonfat"].map(e=>(0,t.jsx)("button",{onClick:()=>eg({...ej,milk:"None"===e?void 0:e}),className:`jsx-1be5a3ae20e8fc70 py-2 px-3 rounded-lg text-sm transition font-medium ${ej.milk===e||!ej.milk&&"None"===e?"bg-amber-500 text-black":"bg-amber-900/50 hover:bg-amber-900/70 text-amber-200"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-sm text-amber-400/60 mb-2 font-semibold",children:"SYRUP"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-col gap-2",children:["None","Caramel","Vanilla","Hazelnut"].map(e=>(0,t.jsx)("button",{onClick:()=>eg({...ej,syrup:"None"===e?void 0:e}),className:`jsx-1be5a3ae20e8fc70 py-2 px-3 rounded-lg text-sm transition font-medium ${ej.syrup===e||!ej.syrup&&"None"===e?"bg-amber-500 text-black":"bg-amber-900/50 hover:bg-amber-900/70 text-amber-200"}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>{eL&&ej.type&&ej.size&&ep.length<eL.itemCount&&(eh([...ep,ej]),eg({}))},disabled:!ej.type||!ej.size||ep.length>=eL.itemCount,className:"jsx-1be5a3ae20e8fc70 flex-1 py-4 rounded-xl font-semibold text-xl transition bg-amber-900/60 hover:bg-amber-900/80 text-amber-200 disabled:opacity-30 disabled:cursor-not-allowed",children:"+ Add Item"}),(0,t.jsx)("button",{onClick:()=>{if(!eL)return;let e=e=>e.map(e=>`${e.size}-${e.type}-${e.milk||"none"}-${e.syrup||"none"}`).sort().join(",");if(e(ep)===e(eL.correctOrder)){eU();let e=1===n?20:2===n?30:50;r.default.capture("round_completed",{round:n,coins_earned:e,language_code:z,outpost_name:"Coffee Outpost",mode:"listen_and_select"}),eH("/Audio/goodresult.mp3",()=>{d(t=>t+e),eK(n),u({1:"Well done!",2:"Great job!",3:"Excellent!\nCan she take your orders, too?",4:"Impressive!",5:"ðŸŽ‰ You're a natural!"}[n]||"Great job!"),o("investor")})}else r.default.capture("round_failed",{round:n,language_code:z,outpost_name:"Coffee Outpost",mode:"listen_and_select"}),eH("/Audio/kokorobot-wrong.mp3"),eh([]),eg({})},disabled:ep.length!==eL.itemCount,className:"jsx-1be5a3ae20e8fc70 flex-1 py-4 rounded-xl font-semibold text-xl transition bg-amber-500 hover:bg-amber-400 text-black disabled:opacity-30 disabled:cursor-not-allowed",children:"Submit âœ“"})]})]})]}),4===n&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/85 backdrop-blur-lg rounded-2xl border border-amber-500/40 p-8 shadow-2xl",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-4 mb-4",children:[(0,t.jsx)("img",{src:"/kokorobot-closeup.png",alt:"Kokorobot",className:"jsx-1be5a3ae20e8fc70 w-20 h-20 rounded-full object-cover border-2 border-amber-500/50"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-amber-400 font-mono font-semibold text-xl",children:"Kokorobot-1"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-lg text-purple-400",children:"Your turn! Order one drink by typing."})]})]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 h-64 overflow-y-auto mb-4 space-y-3 bg-black/30 rounded-xl p-4",children:ek.map((e,s)=>(0,t.jsxs)("div",{className:`jsx-1be5a3ae20e8fc70 flex ${"player"===e.role?"justify-end":"justify-start"}`,children:["npc"===e.role&&(0,t.jsx)("img",{src:"/kokorobot-closeup.png",alt:"Kokorobot",className:"jsx-1be5a3ae20e8fc70 w-12 h-12 rounded-full mr-2 object-cover"}),(0,t.jsx)("span",{className:`jsx-1be5a3ae20e8fc70 inline-block rounded-xl px-5 py-3 max-w-[80%] text-lg ${"player"===e.role?"bg-purple-500 text-white":"bg-amber-900/60 text-amber-200"}`,children:e.text})]},s))}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3 mb-4",children:[{key:"type",label:"â˜• Type"},{key:"size",label:"ðŸ“ Size"},{key:"temp",label:"ðŸ§Š Temp"},{key:"milk",label:"ðŸ¥› Milk"}].map(({key:e,label:s})=>(0,t.jsxs)("span",{className:`jsx-1be5a3ae20e8fc70 px-4 py-2 rounded-full text-base font-medium ${eN[e]?"bg-green-500/30 text-green-400 border border-green-500/50":"bg-amber-900/50 text-amber-400/60"}`,children:[s," ",eN[e]&&"âœ“"]},e))}),eX?(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{eJ(!1),eS({type:!1,size:!1,milk:!1,syrup:!1,temp:!1}),eV({}),ew(e=>[...e,{role:"npc",text:"No problem! What would you like instead?"}]),eH("/Audio/kokorobot-greeting.mp3")},className:"jsx-1be5a3ae20e8fc70 flex-1 bg-amber-900/60 hover:bg-amber-900/80 text-amber-200 font-semibold py-4 rounded-xl text-xl border border-amber-500/40",children:"âœï¸ Modify"}),(0,t.jsx)("button",{onClick:()=>{ew(e=>[...e,{role:"npc",text:"Thank you, it will be at the pick up counter."}]),eW&&(eW.pause(),eI(!1)),r.default.capture("round_completed",{round:n,coins_earned:80,language_code:z,outpost_name:"Coffee Outpost",mode:"typing"}),eH("/Audio/goodresult.mp3",()=>{d(e=>e+80),eK(n),u("Impressive!"),o("investor")})},className:"jsx-1be5a3ae20e8fc70 flex-1 bg-green-500 hover:bg-green-400 text-black font-semibold py-4 rounded-xl text-xl",children:"âœ“ Confirm Order"})]}):(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:ey,onChange:e=>ev(e.target.value),onKeyDown:e=>"Enter"===e.key&&eZ(),placeholder:"Type your order...",className:"jsx-1be5a3ae20e8fc70 flex-1 bg-amber-900/40 border border-amber-500/40 rounded-xl px-5 py-4 text-xl focus:outline-none focus:border-amber-500 text-white placeholder-amber-400/50"}),(0,t.jsx)("button",{onClick:eZ,className:"jsx-1be5a3ae20e8fc70 bg-purple-500 hover:bg-purple-400 text-white font-semibold px-10 rounded-xl text-xl",children:"Send"})]})]}),5===n&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black/85 backdrop-blur-lg rounded-2xl border border-amber-500/40 p-8 shadow-2xl text-center",children:[(0,t.jsx)("img",{src:"/kokorobot-closeup.png",alt:"Kokorobot",className:"jsx-1be5a3ae20e8fc70 w-24 h-24 rounded-full object-cover border-2 border-amber-500/50 mx-auto mb-4"}),e8?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 text-center",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 bg-green-900/30 rounded-xl p-6 mb-6 border border-green-500/50",children:(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-2xl text-white",children:e4})}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{e7(!1),e0({type:!1,size:!1,milk:!1,temp:!1,syrup:!1}),e5({}),eA(""),e6("")},className:"jsx-1be5a3ae20e8fc70 flex-1 bg-amber-900/60 hover:bg-amber-900/80 text-amber-200 font-semibold py-4 rounded-xl text-xl border border-amber-500/40",children:"âœï¸ Modify"}),(0,t.jsx)("button",{onClick:()=>{eU(),r.default.capture("round_completed",{round:n,coins_earned:500,language_code:z,outpost_name:"Coffee Outpost",mode:"speaking"}),eH("/Audio/goodresult.mp3",()=>{d(e=>e+500),eK(n),u("ðŸŽ‰ You're a natural!"),o("investor")})},className:"jsx-1be5a3ae20e8fc70 flex-1 bg-green-500 hover:bg-green-400 text-black font-semibold py-4 rounded-xl text-xl",children:"âœ“ Confirm Order"})]})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-xl text-green-400 mb-6 font-medium",children:"Speak your order!"}),(0,t.jsx)("button",{onClick:()=>{let e;if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("Speech recognition not supported. Try Chrome.");r.default.capture("speech_recognition_used",{round:n,language_code:z}),eW&&eW.pause();let t=new(window.webkitSpeechRecognition||window.SpeechRecognition);t.continuous=!0,t.interimResults=!1,t.lang=z,ez(!0),eA(""),eM([]),e6(""),t.onresult=s=>{clearTimeout(e);let a=Array.from(s.results).map(e=>e[0].transcript).join(" ");eA(a),e=setTimeout(()=>{t.stop(),(e=>{let t=e.toLowerCase(),s={...eQ},a={...e1};!s.type&&(t.includes("americano")?(s.type=!0,a.type="Americano"):t.includes("flat white")?(s.type=!0,a.type="Flat White"):t.includes("latte")?(s.type=!0,a.type="Latte"):t.includes("cappuccino")?(s.type=!0,a.type="Cappuccino"):t.includes("macchiato")||t.includes("machiato")?(s.type=!0,a.type="Macchiato"):t.includes("mocha")?(s.type=!0,a.type="Mocha"):t.includes("espresso")&&(s.type=!0,a.type="Espresso")),!s.size&&(t.includes("small")?(s.size=!0,a.size="small"):t.includes("medium")?(s.size=!0,a.size="medium"):t.includes("large")&&(s.size=!0,a.size="large")),!s.temp&&(t.includes("iced")||t.includes("ice")||t.includes("cold")?(s.temp=!0,a.temp="iced"):t.includes("hot")&&(s.temp=!0,a.temp="hot")),!s.syrup&&(t.includes("caramel")?(s.syrup=!0,a.syrup="caramel"):t.includes("vanilla")?(s.syrup=!0,a.syrup="vanilla"):t.includes("hazelnut")?(s.syrup=!0,a.syrup="hazelnut"):t.includes("no syrup")||t.includes("no flavor")||t.includes("plain")?(s.syrup=!0,a.syrup="none"):!s.type||t.includes("caramel")||t.includes("vanilla")||t.includes("hazelnut")||(s.syrup=!0,a.syrup="none")),["Americano","Espresso"].includes(a.type||"")&&(s.milk=!0,a.milk="none"),!s.milk&&(t.includes("oat")?(s.milk=!0,a.milk="oat milk"):t.includes("almond")?(s.milk=!0,a.milk="almond milk"):t.includes("whole")?(s.milk=!0,a.milk="whole milk"):t.includes("skim")?(s.milk=!0,a.milk="skim milk"):t.includes("nonfat")||t.includes("non-fat")||t.includes("non fat")?(s.milk=!0,a.milk="nonfat milk"):t.includes("soy")?(s.milk=!0,a.milk="soy milk"):t.includes("regular")||t.includes("normal")||t.includes("default")?(s.milk=!0,a.milk="whole milk"):(t.includes("no milk")||t.includes("black")||t.includes("no thank"))&&!["Latte","Cappuccino","Macchiato","Mocha"].includes(a.type||"")&&(s.milk=!0,a.milk="none")),e0(s),e5(a),eR(e=>e+1);let l="",r="";if(s.type?s.size?s.temp?s.milk||(l=`A ${a.type} requires a milk choice. We have whole, oat, almond, nonfat, or soy.`,r="/Audio/milk-preference.mp3"):(l="Would you like that hot or over ice?",r="/Audio/coffee-temperature.mp3"):(l="What size?",r="/Audio/ask-size.mp3"):(l="What kind of coffee would you like?",r="/Audio/ask-type.mp3"),l)e6(l),eM([l]),eH(r);else{e7(!0),eM([]);let e="none"===a.milk?"":` with ${a.milk}`,t=a.syrup&&"none"!==a.syrup?` ${a.syrup}`:"";e6(`Perfect! One ${a.size} ${a.temp}${t} ${a.type}${e}.`)}})(a)},1500)},t.onerror=()=>{ez(!1),eW&&eE&&eW.play().catch(()=>{})},t.onend=()=>{ez(!1),eW&&eE&&eW.play().catch(()=>{})},t.start(),setTimeout(()=>{e_&&t.stop()},8e3)},disabled:e_,className:`jsx-1be5a3ae20e8fc70 w-40 h-40 rounded-full font-semibold text-4xl transition mx-auto mb-6 shadow-lg ${e_?"bg-red-500 animate-pulse shadow-red-500/50":"bg-gradient-to-r from-green-500 to-amber-500 hover:from-green-400 hover:to-amber-400 shadow-green-500/30"}`,children:e_?"ðŸŽ¤":"ðŸŽ¤ Speak"}),eC&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-amber-900/40 rounded-xl p-5 mb-5 text-left border border-amber-500/30",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-base text-amber-400/80 mb-1",children:"You said:"}),(0,t.jsxs)("p",{className:"jsx-1be5a3ae20e8fc70 text-2xl text-white",children:['"',eC,'"']})]}),e4&&!e8&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-amber-900/40 rounded-xl p-5 text-left border border-amber-500/30",children:[(0,t.jsxs)("p",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 text-xl mb-4",children:["ðŸŽ¤ ",e4]}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-amber-400/60 text-base mb-4",children:"Tap the mic to answer"})]})]})]})]})}),"investor"===e&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 z-40",children:[(0,t.jsx)("img",{src:1===n?"/ib.png":`/NY-investor${n}.png`,alt:"Earth Investor calling from spaceship",className:"jsx-1be5a3ae20e8fc70 absolute inset-0 w-full h-full object-cover"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 absolute top-4 left-4 right-4 flex justify-between items-center z-50",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black rounded-full px-5 py-2 border border-amber-500/50",children:(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-amber-400 font-mono",children:"M31 Coffee Outpost"})}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black rounded-full px-5 py-2 border border-yellow-500/50 flex items-center gap-2",children:[(0,t.jsx)(te,{size:24,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-mono font-semibold text-lg",children:c})]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 bg-black rounded-full px-5 py-2 border border-purple-500/50",children:(0,t.jsxs)("span",{className:"jsx-1be5a3ae20e8fc70 text-purple-400 font-mono",children:["Round ",n,"/5"]})})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 absolute top-20 left-6 flex items-center gap-2 bg-black/60 px-4 py-2 rounded-full z-50",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-green-400 text-xl font-mono font-semibold",children:"LIVE"})]}),v&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 pointer-events-none z-50 overflow-hidden flex items-center justify-center",children:w.map(e=>(0,t.jsx)("div",{style:{"--jx":`${e.x}px`,"--jy":`${e.y}px`,"--s":e.scale,animationDelay:`${e.delay}s`},className:"jsx-1be5a3ae20e8fc70 absolute animate-fountain-jet",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 relative",children:[(0,t.jsx)(te,{size:32,className:"drop-shadow-[0_0_15px_rgba(255,215,0,0.9)]"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute inset-0 w-8 h-8 bg-yellow-400/40 rounded-full blur-md -z-10"})]})},e.id))}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute top-1/2 left-1/2 z-50 animate-fly-to-balance",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-2 bg-black/70 px-4 py-2 rounded-full",children:[(0,t.jsx)(te,{size:32,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsxs)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-semibold text-2xl",children:["+",1===n?20:2===n?30:3===n?50:4===n?80:100]})]})}),(0,t.jsxs)("div",{className:`jsx-1be5a3ae20e8fc70 absolute z-50 text-center ${5===n||4===n?"top-[42%] left-1/2 -translate-x-1/2":3===n?"top-[30%] left-1/2 -translate-x-1/2":"top-[45%] left-1/2 -translate-x-1/2"}`,children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-2 mb-2 justify-center",children:[(0,t.jsx)(te,{size:32,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-yellow-400 text-2xl font-semibold drop-shadow-[0_2px_4px_rgba(0,0,0,0.9)]",children:"from our Earth Investors"})]}),3===n?(0,t.jsxs)("div",{style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-white drop-shadow-[0_2px_8px_rgba(0,0,0,0.9)]",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-5xl font-bold mb-2",children:"ðŸŽ‰ Excellent!"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-3xl font-semibold",children:"Can she take your orders, too?"})]}):(0,t.jsxs)("p",{style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-white text-4xl font-semibold drop-shadow-[0_2px_8px_rgba(0,0,0,0.9)]",children:["ðŸŽ‰ ",m]})]}),(0,t.jsxs)("div",{className:`jsx-1be5a3ae20e8fc70 absolute z-50 flex gap-3 flex-col items-center left-1/2 -translate-x-1/2 ${5===n?"bottom-[18%]":"bottom-[25%]"}`,children:[(3===n||4===n)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{$(!0)},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-semibold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-purple-500/40",children:"ðŸª Build Your CafÃ©"}),(0,t.jsx)("button",{onClick:e9,style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold py-4 px-14 rounded-full text-2xl transition shadow-lg shadow-yellow-500/40",children:"Next Round â†’"})]}),5===n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{$(!0)},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-semibold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-purple-500/40",children:"ðŸª Build Your CafÃ©"}),(0,t.jsx)("button",{onClick:()=>{alert("ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.")},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-yellow-500/40",children:"ðŸŽ¯ Try a New Set"}),(0,t.jsx)("button",{onClick:()=>{alert("âœ… Progress saved! Your coins and cafÃ©s are stored.")},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-white/80 hover:text-white underline text-lg mt-2 transition",children:"Save & Exit"})]}),n<3&&(0,t.jsx)("button",{onClick:e9,style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold py-4 px-14 rounded-full text-2xl transition shadow-lg shadow-yellow-500/40",children:"Next Round â†’"})]})]}),(0,t.jsx)(s.default,{id:"1be5a3ae20e8fc70",children:"@keyframes fountain-jet{0%{opacity:0;transform:translateX(var(--jx))translateY(0)scale(.3)}15%{opacity:1;transform:translateX(var(--jx))translateY(var(--jy))scale(var(--s))}35%{opacity:1;transform:translateX(var(--jx))translateY(calc(var(--jy)*.7))scale(var(--s))rotate(90deg)}55%{opacity:1;transform:translateX(var(--jx))translateY(calc(var(--jy)*.4))scale(var(--s))rotate(180deg)}75%{opacity:.8;transform:translateX(calc(var(--jx)*.5 + 35vw))translateY(calc(var(--jy)*.2 - 40vh))scale(calc(var(--s)*.6))rotate(270deg)}to{opacity:0;transform:translate(45vw)translateY(-45vh)scale(.15)}}.animate-fountain-jet.jsx-1be5a3ae20e8fc70{animation:2.8s ease-out forwards fountain-jet}@keyframes walk{0%{transform:translateY(0)rotate(0)}25%{transform:translateY(-6px)rotate(-2deg)}50%{transform:translateY(0)rotate(0)}75%{transform:translateY(-6px)rotate(2deg)}to{transform:translateY(0)rotate(0)}}.animate-walk.jsx-1be5a3ae20e8fc70{animation:.5s ease-in-out infinite walk}@keyframes fade-in{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in.jsx-1be5a3ae20e8fc70{animation:.5s ease-out fade-in}@keyframes pop-in{0%{opacity:0;transform:scale(0)}70%{transform:scale(1.1)}to{opacity:1;transform:scale(1)}}.animate-pop-in.jsx-1be5a3ae20e8fc70{animation:.4s ease-out pop-in}@keyframes fly-to-balance{0%{opacity:1;transform:translate(-50%,-50%)scale(1)}70%{opacity:1;transform:translate(calc(50vw - 250px),calc(40px - 50vh))scale(.8)}to{opacity:0;transform:translate(calc(50vw - 250px),calc(40px - 50vh))scale(.5)}}.animate-fly-to-balance.jsx-1be5a3ae20e8fc70{animation:1.5s ease-in-out forwards fly-to-balance}"}),A&&(0,t.jsx)("div",{onClick:()=>F(!1),className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{backgroundImage:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%)",boxShadow:"inset 0 0 60px rgba(0,0,0,0.5)"},className:"jsx-1be5a3ae20e8fc70 bg-zinc-900 rounded-xl p-8 max-w-2xl w-full border-4 border-zinc-700 shadow-2xl",children:[(0,t.jsx)("h2",{style:{fontFamily:"Georgia, serif",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},className:"jsx-1be5a3ae20e8fc70 text-4xl font-bold text-center mb-8 text-white",children:"â˜• Our Menu"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 grid grid-cols-1 gap-4",children:[{name:"Americano",desc:"Espresso + water"},{name:"Latte",desc:"Espresso + steamed milk"},{name:"Cappuccino",desc:"Espresso + foam"},{name:"Flat White",desc:"Double shot + microfoam"},{name:"Macchiato",desc:"Espresso + milk foam"},{name:"Mocha",desc:"Espresso + chocolate + milk"},{name:"Espresso",desc:"Pure coffee shot"}].map((e,s)=>(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex justify-between items-center border-b border-zinc-700/50 pb-3",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{style:{fontFamily:"Georgia, serif"},className:"jsx-1be5a3ae20e8fc70 text-2xl text-white font-medium",children:e.name}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400 text-sm italic",children:e.desc})]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 text-zinc-500 text-xl",children:"â€¢â€¢â€¢"})]},s))}),(0,t.jsx)("button",{onClick:()=>F(!1),className:"jsx-1be5a3ae20e8fc70 mt-8 w-full py-3 bg-amber-600 hover:bg-amber-500 text-white font-semibold rounded-lg text-lg",children:"Got it!"})]})}),R&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-6 max-w-4xl w-full border border-amber-500/30",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-3xl font-bold text-amber-400",children:"ðŸª Choose Your CafÃ©"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-2 bg-black/50 px-4 py-2 rounded-full",children:[(0,t.jsx)(te,{size:28,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-bold text-xl",children:c})]})]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:et.map(e=>{let s=L.includes(e.id),a=c>=e.price;return(0,t.jsxs)("div",{onClick:()=>{s?(ee(e),Z(!0)):a?(G(e),q(!0)):T(!0)},className:`jsx-1be5a3ae20e8fc70 relative rounded-xl overflow-hidden border-2 transition-all ${s?"border-green-500 cursor-pointer hover:scale-105":a?"border-amber-500 hover:border-amber-400 cursor-pointer hover:scale-105":"border-zinc-600 opacity-50"}`,children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 relative",children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:"jsx-1be5a3ae20e8fc70 w-full h-32 object-cover bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90"}),s&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"âœ“ OWNED"})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 p-3 bg-black/80",children:[(0,t.jsx)("p",{style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-white font-medium text-sm",children:e.name}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-1 mt-1",children:s?(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-green-400 text-sm",children:"Tap to view options"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(te,{size:18}),(0,t.jsx)("span",{className:`jsx-1be5a3ae20e8fc70 font-bold ${a?"text-yellow-400":"text-red-400"}`,children:e.price})]})})]})]},e.id)})}),5===n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3 mb-4",children:[(0,t.jsx)("button",{onClick:()=>{alert("ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.")},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 flex-1 py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl text-lg border border-zinc-600",children:"ðŸŽ¯ Try a New Set"}),(0,t.jsx)("button",{onClick:()=>{alert("ðŸª More outposts coming soon! Restaurant, Department Store, and more.")},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 flex-1 py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl text-lg border border-zinc-600",children:"ðŸ¬ Choose New Outpost"})]}),(0,t.jsx)("button",{onClick:()=>{alert("ðŸ—ºï¸ M31 Map coming soon! Your cafÃ©s are saved in inventory.")},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 w-full py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl text-lg border border-zinc-600 mb-4",children:"ðŸ—ºï¸ Go to M31 Map"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex justify-center gap-6 pt-2 border-t border-zinc-700",children:[(0,t.jsx)("button",{onClick:()=>T(!0),style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-amber-400 hover:text-amber-300 text-sm font-medium transition",children:"ðŸ’° Buy Coins"}),(0,t.jsx)("button",{onClick:()=>{$(!1),E(!0)},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-amber-400 hover:text-amber-300 text-sm font-medium transition",children:"ðŸ“¦ Check Inventory"}),(0,t.jsx)("button",{onClick:()=>{$(!1)},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 text-amber-400 hover:text-amber-300 text-sm font-medium transition",children:"ðŸ’¾ Save & Exit"})]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>T(!0),style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-amber-400 font-semibold rounded-lg border border-zinc-600",children:"ðŸ’° Buy Coins"}),(0,t.jsx)("button",{onClick:()=>{$(!1),e9()},style:{fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-1be5a3ae20e8fc70 flex-1 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-semibold rounded-lg",children:"â–¶ï¸ Keep Playing"})]})})]})}),B&&U&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-black/95 z-[70] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-8 max-w-md w-full border border-amber-500/50 text-center",children:[(0,t.jsx)("h3",{className:"jsx-1be5a3ae20e8fc70 text-2xl font-bold text-amber-400 mb-4",children:"ðŸª Purchase CafÃ©?"}),(0,t.jsx)("img",{src:U.image,alt:U.name,className:"jsx-1be5a3ae20e8fc70 w-48 h-48 object-cover rounded-xl mx-auto mb-4 border-2 border-amber-500/30 bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-white text-xl font-semibold mb-2",children:U.name}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center justify-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400",children:"Price:"}),(0,t.jsx)(te,{size:24,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-bold text-xl",children:U.price})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center justify-center gap-2 mb-6 bg-black/50 py-2 px-4 rounded-full inline-flex",children:[(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400",children:"Your balance:"}),(0,t.jsx)(te,{size:20,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-semibold",children:c})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{q(!1),G(null)},className:"jsx-1be5a3ae20e8fc70 flex-1 py-3 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold rounded-lg",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{d(e=>e-U.price),K(e=>[...e,U.id]),q(!1),r.default.capture("cafe_purchased",{cafe_id:U.id,cafe_name:U.name,price:U.price,total_cafes_owned:L.length+1}),X(U),D(!0),G(null)},className:"jsx-1be5a3ae20e8fc70 flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-400 hover:to-emerald-400 text-white font-bold rounded-lg",children:"âœ“ Buy Now"})]})]})}),H&&V&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-black/95 z-[70] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-b from-green-900/80 to-zinc-900 rounded-2xl p-8 max-w-md w-full border border-green-500/50 text-center",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 text-6xl mb-4",children:"ðŸŽ‰"}),(0,t.jsx)("h3",{className:"jsx-1be5a3ae20e8fc70 text-3xl font-bold text-green-400 mb-4",children:"Congratulations!"}),(0,t.jsx)("img",{src:V.image,alt:V.name,className:"jsx-1be5a3ae20e8fc70 w-48 h-48 object-cover rounded-xl mx-auto mb-4 border-2 border-green-500/50 bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-white text-xl mb-2",children:V.name}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-green-300 mb-6",children:"is now in your inventory!"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400 text-sm mb-6",children:"What would you like to do?"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-col gap-3",children:[(0,t.jsx)("button",{onClick:()=>{D(!1),X(null),alert("ðŸ—ºï¸ M31 Map coming soon! Your cafÃ© is saved in inventory.")},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-400 hover:to-purple-400 text-white font-bold rounded-lg",children:"ðŸ—ºï¸ Place on M31 Map"}),(0,t.jsx)("button",{onClick:()=>{D(!1),X(null),$(!1),E(!0)},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-bold rounded-lg",children:"ðŸ“¦ Check Inventory"}),(0,t.jsx)("button",{onClick:()=>{D(!1),X(null),alert("ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.")},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-bold rounded-lg",children:"ðŸŽ¯ Try a New Set"})]})]})}),J&&Q&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-black/95 z-[70] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-b from-zinc-800 to-zinc-900 rounded-2xl p-8 max-w-md w-full border border-green-500/50 text-center relative",children:[(0,t.jsxs)("h3",{className:"jsx-1be5a3ae20e8fc70 text-2xl font-bold text-green-400 mb-4",children:["ðŸª ",Q.name]}),(0,t.jsx)("img",{src:Q.image,alt:Q.name,className:"jsx-1be5a3ae20e8fc70 w-48 h-48 object-cover rounded-xl mx-auto mb-6 border-2 border-green-500/50 bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-zinc-300 mb-6",children:"This cafÃ© is in your inventory. What would you like to do?"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex flex-col gap-3",children:[(0,t.jsx)("button",{onClick:()=>{Z(!1),ee(null),alert("ðŸ—ºï¸ M31 Map coming soon! Your cafÃ© is saved in inventory.")},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-400 hover:to-purple-400 text-white font-bold rounded-lg",children:"ðŸ—ºï¸ Place on M31 Map"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),ee(null),$(!1),E(!0)},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white font-bold rounded-lg",children:"ðŸ“¦ Check Inventory"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),ee(null),alert("ðŸŽ¯ New conversation sets coming soon! Stay tuned for more scenarios to practice.")},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-bold rounded-lg",children:"ðŸŽ¯ Try a New Set"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),ee(null)},className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg",children:"Close"})]})]})}),M&&(0,t.jsx)("div",{onClick:()=>T(!1),className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-black/90 z-[80] flex items-center justify-center p-4",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-b from-purple-900 to-zinc-900 rounded-2xl p-6 max-w-md w-full border border-purple-500/50",children:[(0,t.jsx)("h2",{className:"jsx-1be5a3ae20e8fc70 text-3xl font-bold text-center text-purple-300 mb-6",children:"ðŸ’° Coin Shop"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 space-y-4 mb-6",children:[{id:"starter",coins:500,price:"$0.99",label:"Starter"},{id:"popular",coins:1500,price:"$2.99",label:"Popular",best:!0},{id:"pro",coins:5e3,price:"$7.99",label:"Pro Pack"}].map(e=>(0,t.jsxs)("div",{onClick:()=>{d(t=>t+e.coins),T(!1),r.default.capture("coin_bundle_purchased",{bundle_id:e.id,bundle_label:e.label,coins_received:e.coins,price:e.price})},className:`jsx-1be5a3ae20e8fc70 relative p-4 rounded-xl border-2 cursor-pointer transition-all hover:scale-102 ${e.best?"border-yellow-400 bg-yellow-400/10":"border-zinc-600 bg-zinc-800/50 hover:border-purple-500"}`,children:[e.best&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-400 text-black text-xs font-bold px-3 py-1 rounded-full",children:"â­ BEST VALUE"}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-white font-bold text-lg",children:e.label}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-2",children:[(0,t.jsx)(te,{size:28}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-bold text-2xl",children:e.coins.toLocaleString()})]})]}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 bg-green-500 hover:bg-green-400 text-white font-bold px-6 py-3 rounded-xl text-xl",children:e.price})]})]},e.id))}),(0,t.jsx)("button",{onClick:()=>T(!1),className:"jsx-1be5a3ae20e8fc70 w-full py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg",children:"Maybe Later"})]})}),O&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 fixed inset-0 bg-gradient-to-b from-zinc-900 via-zinc-800 to-zinc-900 z-[60] flex flex-col",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center justify-between px-6 py-4 border-b border-zinc-700",children:[(0,t.jsxs)("button",{onClick:()=>E(!1),className:"jsx-1be5a3ae20e8fc70 flex items-center gap-2 text-amber-400 hover:text-amber-300 transition font-medium",children:[(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-xl",children:"â†"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70",children:"Back to Coffee Outpost"})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center gap-2 bg-black/50 px-4 py-2 rounded-full",children:[(0,t.jsx)(te,{size:28,className:"jsx-1be5a3ae20e8fc70"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-yellow-400 font-bold text-xl",children:c})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex gap-2 px-6 py-4 border-b border-zinc-700",children:[(0,t.jsx)("button",{onClick:()=>W("buildings"),className:`jsx-1be5a3ae20e8fc70 px-6 py-3 rounded-xl font-semibold transition ${"buildings"===I?"bg-amber-500 text-black":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:"ðŸª Buildings"}),(0,t.jsxs)("button",{onClick:()=>W("kokorobots"),disabled:!0,className:"jsx-1be5a3ae20e8fc70 px-6 py-3 rounded-xl font-semibold bg-zinc-800 text-zinc-500 cursor-not-allowed flex items-center gap-2",children:["ðŸ¤– Kokorobots",(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-xs bg-zinc-700 px-2 py-0.5 rounded-full",children:"Soon"})]}),(0,t.jsxs)("button",{disabled:!0,className:"jsx-1be5a3ae20e8fc70 px-6 py-3 rounded-xl font-semibold bg-zinc-800 text-zinc-500 cursor-not-allowed flex items-center gap-2",children:["ðŸŒ³ Items",(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-xs bg-zinc-700 px-2 py-0.5 rounded-full",children:"Soon"})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex-1 overflow-y-auto px-6 py-6",children:["buildings"===I&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsx)("h2",{className:"jsx-1be5a3ae20e8fc70 text-2xl font-bold text-white mb-6",children:"Your Buildings"}),0===L.length?(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 text-center py-16",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 text-6xl mb-4",children:"ðŸª"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400 text-xl mb-6",children:"No buildings yet!"}),(0,t.jsx)("button",{onClick:()=>{E(!1),$(!0)},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-400 hover:to-pink-400 text-white font-semibold py-3 px-8 rounded-full text-lg transition",children:"ðŸ›’ Shop for CafÃ©s"})]}):(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70",children:[(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-8",children:[L.map(e=>{let s=et.find(t=>t.id===e);if(!s)return null;let a=Y===e;return(0,t.jsxs)("div",{onClick:()=>P(a?null:e),className:`jsx-1be5a3ae20e8fc70 relative rounded-xl overflow-hidden cursor-pointer transition-all transform hover:scale-105 ${a?"ring-4 ring-amber-400 ring-offset-2 ring-offset-zinc-800":"border-2 border-zinc-600 hover:border-amber-500/50"}`,children:[(0,t.jsx)("img",{src:s.image,alt:s.name,className:"jsx-1be5a3ae20e8fc70 w-full aspect-square object-cover bg-gradient-to-br from-indigo-900/80 via-purple-900/60 to-black/90"}),(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-3",children:(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-white font-semibold text-sm",children:s.name})}),a&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 absolute top-2 right-2 bg-amber-400 text-black rounded-full p-1",children:(0,t.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-1be5a3ae20e8fc70 w-4 h-4",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd",className:"jsx-1be5a3ae20e8fc70"})})})]},e)}),(0,t.jsxs)("div",{onClick:()=>{E(!1),$(!0)},className:"jsx-1be5a3ae20e8fc70 rounded-xl border-2 border-dashed border-zinc-600 hover:border-amber-500/50 cursor-pointer transition-all flex flex-col items-center justify-center aspect-square bg-zinc-800/50 hover:bg-zinc-800",children:[(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-4xl mb-2",children:"+"}),(0,t.jsx)("span",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400 font-medium",children:"Buy More"})]})]}),Y&&(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 flex justify-center mb-8",children:(0,t.jsx)("button",{onClick:()=>{alert("ðŸ—ºï¸ M31 Map coming soon! Your cafÃ© is saved and ready to place.")},className:"jsx-1be5a3ae20e8fc70 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-400 hover:to-purple-400 text-white font-bold py-4 px-10 rounded-full text-xl transition shadow-lg shadow-blue-500/30",children:"ðŸ—ºï¸ Place on M31 Map"})})]})]}),"kokorobots"===I&&(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 text-center py-16",children:[(0,t.jsx)("div",{className:"jsx-1be5a3ae20e8fc70 text-6xl mb-4",children:"ðŸ¤–"}),(0,t.jsx)("h2",{className:"jsx-1be5a3ae20e8fc70 text-2xl font-bold text-white mb-4",children:"Kokorobots Coming Soon!"}),(0,t.jsx)("p",{className:"jsx-1be5a3ae20e8fc70 text-zinc-400 max-w-md mx-auto",children:"Customize your Kokorobot's appearance â€” change hairstyles, suits, colors, and more!"})]})]}),(0,t.jsxs)("div",{className:"jsx-1be5a3ae20e8fc70 flex items-center justify-between px-6 py-5 border-t border-zinc-700 bg-zinc-900/80",children:[(0,t.jsx)("button",{onClick:()=>{alert("ðŸ¬ All Outposts hub coming soon! Practice at different locations.")},className:"jsx-1be5a3ae20e8fc70 text-amber-400 hover:text-amber-300 font-semibold text-lg transition flex items-center gap-2",children:"ðŸ¬ All Outposts"}),(0,t.jsx)("button",{onClick:()=>{E(!1),alert("âœ… Progress saved! Your coins and items are stored.")},className:"jsx-1be5a3ae20e8fc70 text-amber-400 hover:text-amber-300 font-semibold text-lg transition",children:"Save & Exit"})]})]})]})}e.s(["default",()=>o],91589)}]);